{
    "title": "An Automated Multi-Phase Facilitation Agent Based on LLM",
    "url": "https://openalex.org/W4393358079",
    "year": 2024,
    "authors": [
        {
            "id": "https://openalex.org/A2562998003",
            "name": "Yihan Dong",
            "affiliations": [
                "Kyoto University"
            ]
        },
        {
            "id": "https://openalex.org/A2511999834",
            "name": "Shiyao Ding",
            "affiliations": [
                "Kyoto University"
            ]
        },
        {
            "id": "https://openalex.org/A2122713037",
            "name": "Takayuki Ito",
            "affiliations": [
                "Kyoto University"
            ]
        }
    ],
    "references": [
        "https://openalex.org/W3037903394",
        "https://openalex.org/W4300946755",
        "https://openalex.org/W3165521850",
        "https://openalex.org/W4394667539",
        "https://openalex.org/W3213514778",
        "https://openalex.org/W1971259930",
        "https://openalex.org/W2151082120",
        "https://openalex.org/W3041332017",
        "https://openalex.org/W2896457183",
        "https://openalex.org/W3030163527",
        "https://openalex.org/W4221143046",
        "https://openalex.org/W3215529831",
        "https://openalex.org/W4309088836",
        "https://openalex.org/W4224912544",
        "https://openalex.org/W2062989416",
        "https://openalex.org/W2963206148",
        "https://openalex.org/W3024308166",
        "https://openalex.org/W2154652894",
        "https://openalex.org/W2150824314",
        "https://openalex.org/W3034775979"
    ],
    "abstract": "This paper presents the design and implementation of an automated multi-phase facilitation agent based on LLM to realize inclusive facilitation and efficient use of a large language model (LLM) to facilitate realistic discussions. Large-scale discussion support systems have been studied and implemented very widely since they enable a lot of people to discuss remotely and within 24 hours and 7 days. Furthermore, automated facilitation artificial intelligence (AI) agents have been realized since they can efficiently facilitate large-scale discussions. For example, D-Agree is a large-scale discussion support system where an automated facilitation AI agent facilitates discussion among people. Since the current automated facilitation agent was designed following the structure of the issue-based information system (IBIS) and the IBIS-based agent has been proven that it has superior performance. However, there are several problems that need to be addressed with the IBIS-based agent. In this paper, we focus on the following three problems: 1) The IBIS-based agent was designed to only promote other participants' posts by replying to existing posts accordingly, lacking the consideration of different behaviours taken by participants with diverse characteristics, leading to a result that sometimes the discussion is not sufficient. 2) The facilitation messages generated by the IBIS-based agent were not natural enough, leading to consequences that the participants were not sufficiently promoted and the participants did not follow the flow to discuss a topic. 3) Since the IBIS-based agent is not combined with LLM, designing the control of LLM is necessary. Thus, to solve the problems mentioned above, the design of a phase-based facilitation framework is proposed in this paper. Specifically, we propose two significant designs: One is the design for a multi-phase facilitation agent created based on the framework to address problem 1); The other one is the design for the combination with LLM to address problem 2) and 3). Particularly, the language model called \"GPT-3.5\" is used for the combination by using corresponding APIs from OPENAI. Furthermore, we demonstrate the improvement of our facilitation agent framework by presenting the evaluations and a case study. Besides, we present the difference between our framework and LangChain which has generic features to utilize LLMs.",
    "full_text": "426\nIEICE TRANS. INF. & SYST., VOL.E107–D, NO.4 APRIL 2024\nPAPER Special Section on Information and Communication Technology to Support Hyperconnectivity\nAn Automated Multi-Phase Facilitation Agent Based on LLM\nYihan DONGya), Nonmember, Shiyao DINGy, and Takayuki ITOy, Members\nSUMMARY This paper presents the design and implementation of an\nautomated multi-phase facilitation agent based on LLM to realize inclusive\nfacilitation and eﬃcient use of a large language model (LLM) to facilitate\nrealistic discussions. Large-scale discussion support systems have been\nstudied and implemented very widely since they enable a lot of people to\ndiscuss remotely and within 24 hours and 7 days. Furthermore, automated\nfacilitation artiﬁcial intelligence (AI) agents have been realized since they\ncan eﬃciently facilitate large-scale discussions. For example, D-Agree is\na large-scale discussion support system where an automated facilitation AI\nagent facilitates discussion among people. Since the current automated\nfacilitation agent was designed following the structure of the issue-based\ninformation system (IBIS) and the IBIS-based agent has been proven that\nit has superior performance. However, there are several problems that need\nto be addressed with the IBIS-based agent. In this paper, we focus on the\nfollowing three problems: 1) The IBIS-based agent was designed to only\npromote other participants’ posts by replying to existing posts accordingly,\nlacking the consideration of diﬀerent behaviours taken by participants with\ndiverse characteristics, leading to a result that sometimes the discussion\nis not suﬃcient. 2) The facilitation messages generated by the IBIS-based\nagent were not natural enough, leading to consequences that the participants\nwere not suﬃciently promoted and the participants did not follow the ﬂow\nto discuss a topic. 3) Since the IBIS-based agent is not combined with\nLLM, designing the control of LLM is necessary. Thus, to solve the prob-\nlems mentioned above, the design of a phase-based facilitation framework\nis proposed in this paper. Speciﬁcally, we propose two signiﬁcant designs:\nOne is the design for a multi-phase facilitation agent created based on the\nframework to address problem 1); The other one is the design for the com-\nbination with LLM to address problem 2) and 3). Particularly, the language\nmodel called “GPT-3.5” is used for the combination by using corresponding\nAPIs from OPENAI. Furthermore, we demonstrate the improvement of our\nfacilitation agent framework by presenting the evaluations and a case study.\nBesides, we present the diﬀerence between our framework and LangChain\nwhich has generic features to utilize LLMs.\nkey words: automated facilitation agent, consensus-making, group discus-\nsion, large language model\n1. Introduction\nConsensus-building holds signiﬁcant relevance in the realm\nof multi-agent systems, wherein the goal is to foster agree-\nment through robust discussions. With the burgeoning\ngrowth of social networking services (SNS), these dialogues\noften take place in an online environment. Consequently,\nthe allure of achieving consensus via online discussions has\ngrown exponentially.\nIn tandem with this trend, there has been a surge in the\nManuscript received June 1, 2023.\nManuscript revised September 22, 2023.\nManuscript publicized December 5, 2023.\nyThe authors are with Kyoto University, Kyoto-shi, 606–8501\nJapan.\na) E-mail: dong.yihan.77v@st.kyoto-u.ac.jp\nDOI: 10.1587/transinf.2023IHP0011\ndesign and implementation of large-scale online discussion\nsupport platforms, such as D-agree [1]. These platforms aim\nto facilitate more seamless and straightforward consensus-\nbuilding among participants.\nWithin such platforms, an automated facilitation agent\nis integral, its primary function being to streamline and an-\nalyze conversations to expedite the consensus-building pro-\ncess. The current IBIS-based agent was implemented based\non the argumentation-based approach called the issue-based\ninformation system (IBIS) [2]. A lot of social discussion\nexperiments have been conducted successfully utilizing the\nIBIS-based agent, as seen in Refs. [3]–[6]. The eﬀectiveness\nof the IBIS-based agent has been substantiated further by\nstudies such as [7].\nHowever, there are three major issues that hinder the\nfurther application of the IBIS-based agent: 1) The ﬁrst is-\nsue is that the discussion environment is inclusive due to\nvarious characteristics of participants being ignored in the\ndiscussion, causing the consequence that the discussions are\noften insuﬃcient. For example, it is far more diﬃcult for shy\nparticipants to join in the discussion and give their own opin-\nions than outgoing participants; 2) The second issue is that\nthe facilitation messages generated by the IBIS-based agent\nwere not natural enough, leading to consequences that the\nparticipants were not suﬃciently promoted and the partici-\npants did not follow the ﬂow to discuss a topic; 3) Although\nthe above issues can be partially solved by large language\nmodels (LLM) to fully use the performance of LLM, guid-\nance and control are necessary.\nTo address the aforementioned challenges and to fos-\nter and strengthen an inclusive discussion environment, we\npropose a large language model-based multi-phase facilita-\ntion agent. To tackle the ﬁrst issue 1) and the second issue\n2), we have designed and implemented functionalities such\nas automated facilitation for ice-breaking and promoting the\ndiscussion according to various stages. These functionalities\nhave been integrated into the IBIS-based agent.\nFor the third issue 3), in order to enhance the facilita-\ntion ability of our agent, we have designed and implemented\nconjunction with a language learning model. This includes\nmultiple prompts that allow the language model to not only\ngenerate appropriate messages but also to summarize the\nposts of participants. This feature serves to remind partic-\nipants of previous ideas or arguments presented in the dis-\ncussion. By comparing messages generated from template\nﬁles with those generated by the language model, we can\nclearly illustrate the advantages of combining the automated\nCopyright © 2024 The Institute of Electronics, Information and Communication Engineers\nDONG et al.: AN AUTOMATED MULTI-PHASE FACILITATION AGENT BASED ON LLM\n427\nfacilitation agent with the language learning model.\nThe structure of this paper is organized as follows: The\nsecond section presents a comprehensive design of the multi-\nphase facilitation agent, which is equipped to facilitate dis-\ncussions across various stages. Following that, the third\nsection details the combination with the Language Learning\nModel (LLM) and illustrates the additional functionalities\nenabled by the use of LLM. Subsequently, the fourth section\nprovides speciﬁc details on the implementation, exhibiting\nscreenshots to depict the operation of the multi-phase facil-\nitation agent. The ﬁfth section then provides an evaluation\nof it. Moreover, the sixth section engages in a discussion of\nthe strengths and weaknesses associated with it. Finally, the\nseventh section oﬀers a summary and concluding remarks\nfor the paper.\n2. Related Research\n2.1 An Existing Facilitation Agent Based on IBIS\nAs mentioned previously, there is an IBIS-based agent, and\nit has been proved that it has better performance than hu-\nman facilitators [7]. To explain how the IBIS-based agent\nworks, the structure of IBIS will be introduced ﬁrstly: All\nthe speeches in discussions can be classiﬁed into 4 diﬀerent\ntypes, including issue, idea, pro and con. Since ideas aim\nto solve issues, pros and cons evaluate ideas, and new issues\ncome from evaluations, there is a nested structure inside\neach discussion naturally [2]. The principle of the IBIS-\nbased agent is simple: By classifying the types of existing\nposts, the agent generates facilitation messages according to\nthe types of them to promote participants. For example, en-\ncouraging participants to give their ideas about an issue or\nto evaluate existing ideas, etc.\n2.2 Deﬁnition of Inclusive Discussion Environment\nAs we pointed out as the ﬁrst issue, in discussion environ-\nments without human facilitators, it is harder for shy par-\nticipants to join in discussions while it is easier for some\ndominant participants to lead the discussion at their own\npace. A survey ﬁguring out the factors aﬀecting the par-\nticipation rates in class discussions shows that student traits\nsuch as conﬁdence or comprehension, and discussion envi-\nronment elements like interaction norms, are the two im-\nportant factors [8]. Therefore, by quoting the deﬁnition of\ninclusion in work groups, which means that diﬀerent diverse\nindividuals could blend into the environment safely and har-\nmoniously [9], [10], the discussion environments with the\nIBIS-based agent cannot say “inclusive” enough.\n2.3 Large Language Models\nThe development of large language models (LLM) is also in-\ncreasing dramatically in recent months. Since the impressive\nmachine-learning network architecture, the Transformer has\nbeen raised for several years, multiple language models are\nalso designed and trained to complete language tasks [11].\nFor example, BERT and GPT-3, which are the predecessors\nof ChatGPT were trained through this particular network to\nadjust to various natural language tasks [12], [13]. Because\nthe usage of language models has illustrated excellent poten-\ntial in various ﬁelds, we integrate LLM into the multi-phase\nfacilitation agent with LLM.\n2.4 Language Model Controlling Principles\nThere are two concepts called Chain of Thought (CoT) and\nAction Plan Generation are particularly attractive. The for-\nmer concept was raised by Wei et al. and it has been proven\nthat it can improve the performance of LLM in multiple kinds\nof tasks including arithmetic, commonsense, and symbolic\nreasoning tasks by applying LLM with this kind of princi-\nple [14], [15]. On the other hand, the latter focuses on feeding\nthe responses generated from LLM back to LLM with evalu-\nations of human beings to improve the performance of LLM\nin dealing with a particular kind of task [16], [17]. Both these\ntwo concepts inﬂuenced the design and implementation of\na series of language model-controlling frameworks such as\nLangChain and Guidance from Microsoft. These concepts\nand tools are generic purposes while our multi-phase facili-\ntation agent focuses on facilitation-speciﬁc purposes.\n3. Design of Multiple Discussion Phases Control\nFirst, the deﬁnitions of facilitator and agent are clariﬁed. In\nthe past, the facilitator and the agent often present multi-\nple meanings, which include both generating the facilitation\nmessages and the behaviours like creating a thread or reply-\ning to a post on platforms. However, both the facilitation\nmessages and the behaviours at every phase vary at diﬀerent\nphases. Therefore, in this paper, each phase has its own fa-\ncilitator, which generates facilitation messages and decides\nbehaviours. By contrast, the agent only represents the ex-\necutor of these behaviours on platforms.\nSecondly, the logical design and workﬂow of the multi-\nphase facilitation agent are explained. Before the detailed\ndesign explanation, we present a general description of the\nrelationship among all modules in the multi-phase facili-\ntation agent. As Fig. 1 illustrates, there are totally 7 main\nFig. 1 The general description of the relationship among all modules\n428\nIEICE TRANS. INF. & SYST., VOL.E107–D, NO.4 APRIL 2024\nFig. 2 The general workﬂow of the multi-phase facilitation agent\nmodules forming the whole system together. Particularly, the\nmodules, discussion phase, facilitators, facilitator manager,\nand language model control , are the core parts to realize the\nfunctions. The basic idea of the general design is to separate\nmodules from each other except the language model control\nmodule. Then, we make a particular module bounded with a\nspeciﬁc platform, e.g. D-agree. This particular module rep-\nresents the speciﬁc agent running on the D-agree platform,\nand it should include all the other modules to activate itself.\nThe whole workﬂow of the multi-phase facilitation\nagent is illustrated in Fig. 2. Depending on if the agent needs\nto facilitate due to diﬀerent phases, the original workﬂow\nshould be isolated from its workﬂow at ﬁrst. Then, diﬀer-\nent combinations of facilitators belonging to their discussion\nphases are initialized, and the discussion logs are separated\naccording to diﬀerent phases. After that, if the phase last\ntime is diﬀerent from the current phase, then the agent posts\na notiﬁcation message. Finally, depending on whether it is\nthe ﬁrst time the facilitator of this phase posts a message, the\nbehaviour of the facilitator changes respectively.\nFinally, the class design of the multi-phase facilitation\nagent is demonstrated. Since there are multiple modes of\ndiscussion phases, it is signiﬁcant and necessary to make the\ndesign ﬂexible enough to adjust to extensions in the future.\nThus, the basic idea is to build a FacilitatorFactory class\nand make all the detailed facilitator classes inherit from this\nclass following the factory method design pattern [18]. The\nrelationship among the classes mentioned above is illustrated\nin Fig. 3.\nFurthermore, to make these facilitators react to the\nchange in each discussion phase, we designed the following\nclasses. The detailed facilitator classes are under the control\nof the class FacilitatorManager. The class Discussionstage\nFig. 3 The class diagram explaining how to generate various facilitators\nFig. 4 The class diagram explaining the classes controlling facilitators in\ndiﬀerent phases and the classes managing discussion phases\nmanages a series of methods to deal with all the processes re-\nlated to discussion phases like judging the current phase, sep-\narating participants’ posts according to phases, and achiev-\ning participants’ posts in the last phase. The related class\nrelationship and the main methods are illustrated in Fig. 4.\n4. Design of Combination with LLM\n4.1 Design of Behaviours of the Multi-Phase Facilitation\nAgent\nThe design of how to connect the multi-phase facilitation\nagent with LLM to adjust to diﬀerent language processing\ntasks is described in this section. To begin with, the detailed\nworkﬂow of the agent in diﬀerent phases is illustrated in\nFig. 5.\nAs it illustrates, the multi-phase facilitation agent has\ntwo behaviours called response and guidance respectively.\nBesides, in each phase, it has a unique aim to promote partic-\nDONG et al.: AN AUTOMATED MULTI-PHASE FACILITATION AGENT BASED ON LLM\n429\nFig. 5 The detailed ﬂowchart of automated facilitation agent in diﬀerent\ndiscussion phases\nipants to post diﬀerent content. At the beginning of phases,\nit guides participants on what kinds of content are welcomed\nin this particular phase. Then, it responds to participants ac-\ncording to detailed content and encourages other participants\nto post similar content.\nFor example, during the ice-breaking phase, the multi-\nphase facilitation agent encourages participants to do self-\nintroductions to get familiar with each other. Similarly, dur-\ning the divergence phase, it encourages participants to give\nideas related to the discussion topic; During the convergence\nphase, it encourages participants to raise arguments towards\nthe ideas raised in the last phase alternatively; During the\ndecision phase, it encourages participants to vote for their\nfavourite ideas to reach a consensus; and it encourages par-\nticipants to give their opinions ﬁnally.\nBesides, to guide the participants better, in some phases\nlike convergence, decision and ﬁnal, the agent also summa-\nrizes the participants’ posts in the previous phase. For ex-\nample, it summarizes ideas which are raised by participants\npreviously to remind participants and control the scale of the\ndiscussion in the convergence and decision phase. Alterna-\ntively, it summarizes the results of voting after the decision\nphase and illustrates them to participants in the ﬁnal phase.\n4.2 Design of Controlling LLM with Proper Prompts\nTo explain how to control the interactions with LLM, an\nexplanation of the settings about parameters and prompts is\nnecessary: The model used to generate facilitation messages\nis “gpt-3.5-turbo-16k”, and all the other parameters are set\nas default.\nTo improve the quality of the responses received from\nLLM, the interaction with LLM is particularly designed, as\nFig. 6 illustrates. The generation of facilitation messages is\nunder the inﬂuence of previous posts.\nThe prompts to instruct the LLM on how to generate\nproper facilitation messages at the convergence phase are\ngiven as an example since all the prompts followed the same\npattern as this example. At the beginning of the conver-\nFig. 6 The design of interactions with LLM in the multi-phase facilitation\nagent\ngence phase, the LLM is given a task to summarize the\nprevious posts at the divergence phase and the prompts are\nas follows: “Please summarize and classify the ideas from\nthe previous participants’ posts {previous ideas}, and print\nthem out as Python string”. After that, the summarized posts\nare given to the LLM as a part of the second task to select\none idea from them and generate arguments about it. The\nprompts at this step are: “Please select one idea from pre-\nvious participants’ posts {summarized ideas}, and raise 1\nadvantage and 1 disadvantage of it considering the discus-\nsion topic of {discussion topic} within 20 words”. Finally,\nthe arguments generated by the LLM are provided again to\nencourage participants to raise more arguments related to the\nideas raised in the last phase. The prompts of this task are\nlisted as follows: “To inspire participants to raise advantages\nand disadvantages as the example related to the discussion\ntopic {discussion topic}, with demonstrating the discussion\nstage right now is convergence, please generate a message\nwithin 50 words. The example of argument is as follows:\n{generated arguments}”.\nWhen the agent replies to a participant, to encourage\nother participants to raise arguments diﬀerent from previous\nones, the limitation of no-repeat is also added to the prompts\nas follows: “Please raise an argument diﬀerent from the\nprevious participants’ posts {previous arguments} within 10\nwords”.\n430\nIEICE TRANS. INF. & SYST., VOL.E107–D, NO.4 APRIL 2024\n5. Evaluation\n5.1 Outline of Evaluations\nThis section evaluates the quality of the facilitation messages\ngenerated by the multi-phase facilitation agent, compared to\nthe previous one which is based on IBIS [7]. The evaluation\nincludes a questionnaire to investigate the imagination of dif-\nferent facilitation agents, and the calculation of two indexes\nto measure the diversity and the naturalness of facilitation\nagents. To make the comparison and evaluation clearer, the\nexamples of facilitation messages generated by the IBIS-\nbased agent and multi-phase facilitation agent in Japanese\nare illustrated in the following ﬁgures respectively. Partic-\nularly, Fig. 8 illustrates the IBIS-based agent responding to\nparticipants passively, but the guidance of the multi-phase fa-\ncilitation agent in diﬀerent phases is demonstrated in Figs. 9\nand 10.\n5.2 Comparison between IBIS-Based and Multi-Phase Fa-\ncilitation Agents\nAfter the explanation of how the IBIS-based agent facilitates\nand the introduction of the design of the multi-phase facilita-\ntion agent, there are two advantages in design: The designs\nof facilitating according to diﬀerent phases and combining\nwith LLM. The comparison of facilitation messages will be\nshown as follows.\nFirst, we show a facilitation message generated by the\nIBIS-based agent as an example. As Fig. 7 illustrates, the\nIBIS-based agent can only respond to existing posts. Mean-\nwhile, it could not respond to participants’ posts according\nto the contents, which is another drawback.\nBy contrast, as Fig. 8 and Fig. 9 illustrate, the multi-\nphase facilitation agent can guide the participants to join in\nthe discussions with diﬀerent contents at diﬀerent phases.\nFurthermore, it can even create more corresponding and\nrelative responses than the IBIS-based agent.\n5.3 Evaluation Through a Case Study\nAs the evaluation of the automated facilitation agent that pro-\nFig. 7 An example of facilitation messages generated by IBIS-based\nagent\nmotes human discussions, feedback from human beings is\ninevitable. Hence, the case study was held through two ques-\ntionnaires including examples of the facilitation messages\ngenerated by the IBIS-based agent and the multi-phase facil-\nitation agent respectively. In the questionnaire, ﬁve questions\nrelated to the performance of diﬀerent automated facilitation\nFig. 8 Examples of facilitation messages at the ice-breaking, divergence\nand convergence stage\nFig. 9 An example of facilitation messages at the decision and ﬁnish\nstage\nDONG et al.: AN AUTOMATED MULTI-PHASE FACILITATION AGENT BASED ON LLM\n431\nTable 1 The evaluation results through distinct-1 score and PLL score\naverage token number per sentence distinct-1 score PLL score\noriginal IBIS-based agent 21.72 0.1016 \u000044.14\nIBIS-based agent with gpt 24.48 0.1206 \u000043.78\nmulti-phase facilitation agent 21.11 0.2134 \u000036.08\nFig. 10 The results of the evaluation through the case study\nagents are included: 1) How natural are the facilitation mes-\nsages? 2) How diverse are the facilitation messages? 3) Do\nyou feel that the agents were speaking on their own initia-\ntive? 4) Are the facilitation messages easy to understand?\nand 5) Do you want to follow the agent’s instructions? For\neach question, the respondents expressed their feedback with\na rating from 1 to 10 according to their degree of support.\nThe case study was conducted on a group of ﬁrst-\nyear undergraduate students in a university, with the par-\nticipation of several students belonging to another university\nfrom fourth-year undergraduates to second-year postgradu-\nates. Since the sample sizes of respondents attending the\nevaluation of two automated facilitation agents are not ex-\nactly the same and the variances are unequal, Welch’s t-test\nis used to validate if there are signiﬁcant diﬀerences between\nthe results of the two questionnaires [19].\nAs Fig. 10 shows, the average ratings of the multi-phase\nfacilitation agent received from the respondents are far higher\nthan those of the IBIS-based agent. Besides, since each p-\nvalue is small enough, the conclusion that the evaluations\ntowards these two automated facilitation agents have signif-\nicant diﬀerences can be reached.\n5.4 Evaluation Through Distinct-N and PLL\nTo support the results of the case study, two more evaluation\nstandards are selected to judge which automated facilitation\nagent is better: One is called distinct-N to evaluate the diver-\nsity of the content generated by LLMs [20]; Another is called\nthe pseudo-log-likelihood scores (PLLs) to evaluate the lin-\nguistic correctness of the content generated by LLMs [21].\nDistinct-N is the ratio of the number of unique tokens\nto that of the total tokens in the N-gram of text generated by\nLLMs. The formula to calculate distinct-N is as follows:\ndistinct \u0000 N = distinct N \u0000gram numbers\ntotal N \u0000gram numbers (1)\nAccording to the formula above, the contents generated\nby LLMs with higher distinct-N have more diversity and it\ncan be concluded as a standard to judge which automated\nfacilitation agent can generate more diverse facilitation mes-\nsages. Since the evaluation using this stand to measure the\ndiversity of facilitation messages only counts the unique sin-\ngle token in sentences, the rating is also called and illustrated\nas distinct-1.\nOn the other hand, PLLs are computed by masking\ntokens one by one. Literally, PLLs are the sum of the log-\nlikelihoods of the conditional probabilities of predicting each\nword hidden with a mask [21].\nCompared to other measuring standards like\nROUGE[22] or BLEU [23], one of the most vital advan-\ntages of using PLLs is that, PLLs do not need reference text\nto judge whether the contents generated by LLMs are cor-\nrect or not. PLLs evaluate the correctness of contents with\na minus score and the contents with a higher score are more\ncorrect. Since it is relatively hard to make standards for fa-\ncilitation messages, PLLs are selected to evaluate facilitation\nmessages generated by automated facilitation agents due to\ntheir unique advantage.\nSince the IBIS-based agent is designed without the use\nof LLM, the facilitation messages are based on template ﬁles\naccording to diﬀerent scenarios. Thus, we also used gpt-\n3.5 to improve the facilitation messages with the following\nprompts: “Here is the list of facilitation messages. Not all\nthe facilitation messages are ﬂuent enough. Please modify\nand improve those facilitation messages are not good enough\nand reply them to me”. The comparison is among the orig-\ninal IBIS-based agent, the IBIS-agent agent with improved\nfacilitation messages by gpt and the multi-phase facilitation\nagent. The results of the evaluation are demonstrated in\nTable 1.\nAccording to the evaluation results through distinct-1\nand PLL scores, it is evident that the multi-phase facilitation\nagent has about twice the diversity in the facilitation mes-\nsages and far more natural contents in the sentences with\nalmost the same length of sentences compared to the IBIS-\nbased agent.\n6. Discussion\n6.1 Comparison with IBIS-Based Agent\nBased on the evaluation results no matter whether according\nto human feedback or other evaluation standards, it can be\nconcluded that the multi-phase automated facilitation agent\n432\nIEICE TRANS. INF. & SYST., VOL.E107–D, NO.4 APRIL 2024\nhas a great advantage in promoting participants with diﬀerent\ncharacteristics to join in discussions. Particularly, according\nto the results of the case study, the facilitation messages\ngenerated by the multi-phase facilitation agent are believed\nto be easier to understand, with the features of speaking on\ntheir initiative. Meanwhile, respondents also expressed that\nthey are more likely to follow the instructions of the multi-\nphase facilitation agent in discussions.\nOn the other hand, based on the evaluation results us-\ning distinct-1 and PLL scores, even though gpt improves\nthe performance of the original IBIS-based agent, the multi-\nphase facilitation agent still has an overwhelming advantage\nin both diversity and naturalness. The reason is that the origi-\nnal IBIS-based agent generates facilitation messages through\ntemplate ﬁles. By contrast, the facilitation messages of the\nmulti-phase agent are generated based on both phases and\nusers’ posts. Even though the template ﬁles are upgraded us-\ning LLM, the facilitation messages of the IBIS-based agent\nare still relatively unnatural and lack of diversity.\nBesides, there is also improvement in the structure of\nthe framework. As mentioned above, ﬂexibility is fully con-\nsidered during the design and implementation. Literately,\npart of the design and the implementation can be seen as the\nrefactoring of the IBIS-based agent.\n6.2 Comparison with Another LLM Application Frame-\nwork\nExcept for the comparison with the IBIS-based agent, the\ncomparison with the Python library called LangChain in the\nstructure of projects also should be raised in this section\nsince LangChain was designed and implemented based on\nthe principles of Chain of Thought , Action Plan Generation\nand other concepts.\nLangChain is a sort of framework connecting with LLM\nto build agents that can call multiple language models to\nmake them learn from real-time communication to gener-\nate responses with relatively higher quality. As mentioned\nin the oﬃcial document of LangChain, the evaluation and\ncomparison towards diﬀerent kinds of agents since there are\nno proper data sets and metrics for evaluation. Therefore,\nthe comparison with LangChain is based on the diﬀerence\nin the structure.\nEven though LangChain has suﬃcient functions and\nAPIs to create customized LLM agents with high-level\nperformance, there is a signiﬁcant diﬀerence between\nLangChain and the framework raised in this paper: Since\nthe aim of our framework is to create facilitation agent pro-\nmoting discussions, and the changes of discussion phases\nwere fully considered previously, the implementation of di-\nviding discussions into multiple phases and behaving ac-\ncording to diﬀerent phases based on our framework is far\nsimpler than that with LangChain. Besides, by relying on\nthis framework, multiple facilitation agents for discussions\nwith diﬀerent aims also can be easily created. By contrast,\nit is possible to use LangChain to achieve similar targets\nthough, it would cost more time due to the lack of standard\nframeworks.\n6.3 Discussion Summary\nAccording to the results of the evaluations mentioned above,\nthere are several conclusions that can be reached:\nCompared to the IBIS-based agent, the multi-phase fa-\ncilitation agent implemented based on the framework has\noverwhelming advantages in the diversity and naturalness\nof facilitation messages, both admitted by human feedback\nand automatic test standards. Even though the multi-phase\nfacilitation agent has the disadvantage that it cannot identify\nthe type of participants’ posts, it still has better performance\nthan the IBIS-based agent.\nOn the other hand, compared to LangChain, the fea-\nture of promoting discussions according to diﬀerent phases\nis the most valuable advantage of the proposed facilitation\nframework, while LangChain can work in general-purpose\napplications.\n7. Conclusions\nThis paper demonstrates the design and implementation of a\nphase-based facilitation framework based on LLM to realize\ninclusive discussion environments and the eﬃcient use of\nan LLM to facilitate realistic discussions. Furthermore, to\nvalidate that the multi-phase facilitation agent implemented\nbased on the framework has advantages compared to the\nIBIS-based agent, this paper raises the results of evaluation\nthrough human feedback and automatic evaluation standards.\nBoth results illustrate that the facilitation messages generated\nby the multi-phase facilitation agent are better than those gen-\nerated by the IBIS-based agent in diversity and naturalness.\nFinally, this paper discusses the advantages and disadvan-\ntages of this framework compared with the IBIS-based agent\nand LangChain.\nHowever, it does not mean that the multi-phase facil-\nitation agent has no disadvantages. One of the most vital\ndisadvantages is that without the combination with other\nﬁne-tuned language models, it cannot identify the type of\nprevious posts by a particular label. Hence, the participants’\nposts can only be selected by which phase they were raised,\nbut not a clear classiﬁcation result. Also, it can only switch\nto another discussion phase depending on the time or the\nnumber of participants’ posts, but not both. To improve\nthese points is in our future work. To further improve the\nquality of discussions, other kinds of agents will be designed\nand implemented based on this framework in the future.\nAcknowledgements\nThis work was supported by JST CREST Grant Number\nJPMJCR20D1, Japan and JST, the establishment of univer-\nsity fellowships towards the creation of science technology\ninnovation, Grant Number JPMJFS2123.\nDONG et al.: AN AUTOMATED MULTI-PHASE FACILITATION AGENT BASED ON LLM\n433\nReferences\n[1] T. Ito, S. Suzuki, N. Yamaguchi, T. Nishida, K. Hiraishi, and K.\nYoshino, “D-agree: crowd discussion support system based on au-\ntomated facilitation agent,” Proceedings of the AAAI conference on\nartiﬁcial intelligence, vol.34, no.9, pp.13614–13615, 2020.\n[2] D.E. Noble and H.W.J. Rittel, “Issue-based information systems for\ndesign,” Univ. Calif. Berkeley Work. Pap, vol.492, 1989.\n[3] R. Hadﬁ and T. Ito, “Exploring Interaction Hierarchies in Collabo-\nrative Editing using Integrated Information,” Collective Intelligence\nConference, ACM, 2021.\n[4] R. Hadﬁ, J. Haqbeen, S. Sahab, and T. Ito, “Argumentative conver-\nsational agents for online discussions,” Journal of Systems Science\nand Systems Engineering, vol.30, pp.450–464, 2021.\n[5] J. Haqbeen, T. Ito, R. Hadﬁ, T. Nishida, Z. Sahab, S. Sahab, S.\nRoghmal, and R. Amiryar, “Promoting discussion with ai-based fa-\ncilitation: Urban dialogue with kabul city,” Proceedings of the 8th\nACM Collective Intelligence, ACM Collective Intelligence Confer-\nence Series, Boston (Virtual Conference), South Padre Island, TX,\nUSA, 2020.\n[6] J. Haqbeen, T. Ito, S. Sahab, R. Hadﬁ, S. Okuhara, N. Saba, M.\nHofaini, and U. Baregzai, “A contribution to covid-19 prevention\nthrough crowd collaboration using conversational ai & social plat-\nforms,” arXiv preprint arXiv:2106.11023, 2021.\n[7] T. Ito, R. Hadﬁ, and S. Suzuki, “An agent that facilitates crowd dis-\ncussion: A crowd discussion support system based on an automated\nfacilitation agent,” Group Decision and Negotiation, vol.31, no.3,\npp.621–647, 2022.\n[8] J.E. Aitken and M.R. Neer, “The relationship of classroom commu-\nnication apprehension and motivation to college student question-\nasking.,” 1992.\n[9] L.M. Shore, A.E. Randel, B.G. Chung, M.A. Dean, K. Holcombe\nEhrhart, and G. Singh, “Inclusion and diversity in work groups:\nA review and model for future research,” Journal of management,\nvol.37, no.4, pp.1262–1289, 2011.\n[10] V. Grubbs, “Diversity, equity, and inclusion that matter,” New Eng-\nland Journal of Medicine, vol.383, no.4, p.e25, 2020.\n[11] A. Vaswani, N. Shazeer, N. Parmar, J. Uszkoreit, L. Jones, A.N.\nGomez, Ł. Kaiser, and I. Polosukhin, “Attention is all you need,”\nAdvances in neural information processing systems, vol.30, 2017.\n[12] J. Devlin, M.W. Chang, K. Lee, and K. Toutanova, “Bert: Pre-\ntraining of deep bidirectional transformers for language understand-\ning,” arXiv preprint arXiv:1810.04805, 2018.\n[13] T. Brown, B. Mann, N. Ryder, M. Subbiah, J.D. Kaplan, P. Dhariwal,\nA. Neelakantan, P. Shyam, G. Sastry, A. Askell, et al., “Language\nmodels are few-shot learners,” Advances in neural information pro-\ncessing systems, vol.33, pp.1877–1901, 2020.\n[14] J. Wei, X. Wang, D. Schuurmans, M. Bosma, E. Chi, Q. Le, and\nD. Zhou, “Chain of thought prompting elicits reasoning in large\nlanguage models,” arXiv preprint arXiv:2201.11903, 2022.\n[15] M. Nye, A.J. Andreassen, G. Gur-Ari, H. Michalewski, J. Austin, D.\nBieber, D. Dohan, A. Lewkowycz, M. Bosma, D. Luan, et al., “Show\nyour work: Scratchpads for intermediate computation with language\nmodels,” arXiv preprint arXiv:2112.00114, 2021.\n[16] R. Nakano, J. Hilton, S. Balaji, J. Wu, L. Ouyang, C. Kim, C.\nHesse, S. Jain, V. Kosaraju, W. Saunders, et al., “Webgpt: Browser-\nassisted question-answering with human feedback,” arXiv preprint\narXiv:2112.09332, 2021.\n[17] M. Ahn, A. Brohan, N. Brown, Y. Chebotar, O. Cortes, B. David, C.\nFinn, K. Gopalakrishnan, K. Hausman, A. Herzog, et al., “Do as i\ncan, not as i say: Grounding language in robotic aﬀordances,” arXiv\npreprint arXiv:2204.01691, 2022.\n[18] M. Summerﬁeld, Python in practice: create better programs using\nconcurrency, libraries, and patterns, Addison-Wesley, 2013.\n[19] B.L. Welch, “The generalization of ‘student’s’ problem when sev-\neral diﬀerent population varlances are involved,” Biometrika, vol.34,\nno.1-2, pp.28–35, 1947.\n[20] J. Li, M. Galley, C. Brockett, J. Gao, and B. Dolan, “A diversity-\npromoting objective function for neural conversation models,” arXiv\npreprint arXiv:1510.03055, 2015.\n[21] J. Salazar, D. Liang, T.Q. Nguyen, and K. Kirchhoﬀ, “Masked lan-\nguage model scoring,” arXiv preprint arXiv:1910.14659, 2019.\n[22] C.Y. Lin, “Rouge: A package for automatic evaluation of sum-\nmaries,” Text summarization branches out, pp.74–81, 2004.\n[23] C.-Y. Lin and E. Hovy, “Automatic evaluation of summaries using\nn-gram co-occurrence statistics,” Proceedings of the 2003 human\nlanguage technology conference of the North American chapter of\nthe association for computational linguistics, pp.150–157, 2003.\nYihan Dong is a PhD student at the Grad-\nuate School of Informatics at Kyoto University,\nJapan. He received his Master’s degree in En-\ngineering(Software) at the University of Mel-\nbourne, Australia in 2021.\nShiyao Ding is an assistant professor in the\nGraduate School of Informatics from Kyoto Uni-\nversity, Japan. He received his Master’s degree\nin engineering from Osaka University, Japan\nin September 2019 and his PhD degree from\nKyoto University, Japan in September 2022. His\ncurrent research interests include reinforcement\nlearning, graph neural networks, multiagent sys-\ntems, argumentation mining and services com-\nputing.\nTakayuki Ito is a professor and head of the\nDepartment of Social Informatics at Kyoto Uni-\nversity. He received his Doctor Degree in Engi-\nneering from the Nagoya Institute of Technology\nin 2000. He was a JSPS research fellow, an as-\nsociate professor of JAIST, and a visiting scholar\nat USC/ISI, Harvard University, and MIT twice.\nHe was a board member of IFAAMAS, the\nPCchair of AAMAS2013, PRIMA2009, Gener-\nalChair of PRIMA2014, IEEE ICA2016, is the\nLocal Arrangements Chair of IJCAI2020, and\nwas an SPC/PC member in many top-level conferences (IJCAI, AAMAS,\nECAI, AAAI, etc). He received the JSAI Contribution Award, the JSAI\nAchievement Award, the JSPS Prize, the Fundamental Research Award of\nJSSST, the Prize for Science and Technology of the Commendation for Sci-\nence and Technology by the Minister of Education, Culture, Sports, Science,\nand Technology (MEXT), the Young Scientists’ Prize of the Commenda-\ntion for Science and Technology by the MEXT, the Nagao Special Research\nAward of IPSJ, the Best Paper Award of AAMAS2006, the 2005 Best Paper\nAward of JSSST, and the Super Creator Award of 2004 IPA Exploratory\nSoftware Creation Project. He was a JST PREST Researcher and a princi-\npal investigator of the Japan Cabinet Funding Program for Next Generation\nWorld-Leading Researchers. He is currently the principal investigator of\nhis 2nd JST CREST project."
}