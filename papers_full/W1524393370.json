{
  "title": "Reasoning about Composition Using Property Transformers and Their Conjugates",
  "url": "https://openalex.org/W1524393370",
  "year": 2000,
  "authors": [
    {
      "id": "https://openalex.org/A2109470190",
      "name": "Michel Charpentier",
      "affiliations": [
        "University of New Hampshire"
      ]
    },
    {
      "id": "https://openalex.org/A594049255",
      "name": "K Mani Chandy",
      "affiliations": [
        "California Institute of Technology"
      ]
    },
    {
      "id": "https://openalex.org/A2109470190",
      "name": "Michel Charpentier",
      "affiliations": []
    },
    {
      "id": "https://openalex.org/A594049255",
      "name": "K Mani Chandy",
      "affiliations": [
        "California Institute of Technology"
      ]
    }
  ],
  "references": [
    "https://openalex.org/W2293400264",
    "https://openalex.org/W2296232480",
    "https://openalex.org/W1481592367",
    "https://openalex.org/W2080942132",
    "https://openalex.org/W264517465",
    "https://openalex.org/W1611821911",
    "https://openalex.org/W1876257578",
    "https://openalex.org/W2074882845",
    "https://openalex.org/W1601208182",
    "https://openalex.org/W1978018931",
    "https://openalex.org/W1511110335",
    "https://openalex.org/W83426416",
    "https://openalex.org/W1506588809",
    "https://openalex.org/W2167693991",
    "https://openalex.org/W2093916942",
    "https://openalex.org/W1952446601"
  ],
  "abstract": null,
  "full_text": "Reasoning about Composition Using\nProperty Transformers and Their Conjugates\nMichel Charpentier 1 and K. Mani Chandy 2\n1 University of New Hampshire\nComputer Science Department\ncharpov@cs.unh.edu\n2 California Institute of Technology\nComputer Science Department\nmani@cs.caltech.edu\nAbstract. Compositional design is concerned with both constructing\nsystems by composing components and with deconstructing systems into\nproposed sets of components. In bottom-up design, engineers prove sy-\nstem properties given properties of components and a compositional\nstructure. In top-down design, they propose properties of components\nand a compositional structure given system properties. In this paper we\nshow how the theory of predicate transformers, which has been used\nso successfully in sequential programming, can be applied to composi-\ntional design of systems. The rules of composition we study are more\ngeneral than the rules employed in sequential programming, and the sy-\nstems we study are not limited to programs. We exploit theorems about\nweakest and strongest solutions to equations to obtain a collection of\nuseful predicate transformers, and then we exploit the theory of con-\njugate transformers to obtain more useful transformers. We show how\nthese transformers are useful for both bottom-up and top-down design.\n1 Motivation\n1.1 Composition and Compositional Properties\nComposition is the most fundamental operation in design. Designers of space ve-\nhicles, buildings and programs have common concerns: How to compose systems\nfrom components and how to partition systems into components. Compositional\ndesign o\u000bers the hope of managing complexity by avoiding unnecessary detail:\nsystems designers prove properties of systems given properties, but not detailed\nimplementations, of components.\nWe introduce an informal concept of compositional properties to motivate\nour exploration, and de\fne terms precisely later. Compositional properties are\nthose classes of properties that allow designers to deduce system properties from\ncomponent properties using simple rules. For example, mass is a compositional\nproperty because the mass of a system can be deduced in a simple way from\nthe masses of components: the system mass is the sum of component masses. By\nJ. van Leeuwen et al. (Eds.): IFIP TCS 2000, LNCS 1872, pp. 580{595, 2000.\nc⃝ Springer-Verlag Berlin Heidelberg 2000\nReasoning about Composition 581\ncontrast, temperature does not appear to be a compositional property because\nthe temperature of a system depends in very complex ways on the shapes, masses,\ninsulation properties, power consumption, locations of the components, etc.\nDesigners have to compute properties of composed systems given properties\nof components, whether the properties are compositional or not. The challenge\nis to develop theories that help designers prove system properties they need from\ncomponent properties.\nIn this paper, we restrict ourselves to properties that are predicates on sy-\nstems. We explore properties that are compositional in the following sense: we\ncan prove that a property holds for a system given that the property holds for\nsome or all of its components. In later papers we propose to explore other kinds\nof compositional properties.\nIn our paper, systems are abstract entities. They are not necessarily programs\nand they may not have \\states\" or \\computations.\" We consider composition\noperators that have certain algebraic properties, such as associativity, and we\nexplore theorems that are derived solely from these properties. Our goal is to\nexplore composition in the abstract as opposed to studying how composition is\nused in constructing speci\fc kinds of systems.\nThe simplest rules are those that establish that a property X holds for a sy-\nstem given that (i) property X holds for at least one component, or (ii) property\nX holds for all components. Therefore, in this paper, we restrict attention to two\nkinds of compositional properties: existential properties and universal properties.\nA property is an existential property exactly when, for all systems, a system has\nthe property if there exists a component of the system that has the property. A\nproperty is a universal property exactly when, for all systems, a system has the\nproperty if all components of the system have the property.\n1.2 An Introduction to Property Transformers for Composition\nWe motivate our exploration of predicate transformers by a few examples, and\nthen develop the theory.\nQuestions about the Weakest Existential Transformer. Consider the\nfollowing speci\fcation S for a component F : All systems that have F as a com-\nponent must have a property X.\nWe postulate that any system is a component of itself. Since F is a component\nof F it follows that F itself must have property X.I f X is an existential property,\nthen from the de\fnition of existential properties it follows that X holds for all\nsystems that contain F as a component. Therefore, if X is an existential property,\nthe given speci\fcation S is equivalent to the simpler speci\fcation: X holds in F .\nWhat if property X is not existential?\nSuppose we can de\fne a predicate transformer W E where W E:X is an exi-\nstential property stronger than X. If we can demonstrate that component F\nhas existential property WE:X, then any system that includes component F also\nhas property WE:X, and therefore also enjoys the weaker property X. Let S\n0 be\n582 M. Charpentier and K.M. Chandy\nthe following speci\fcation of F :WE:X holds in F . From the above argument, it\nfollows that speci\fcation S0 is stronger than speci\fcation S.\nExamples of the kinds of questions that we wish to explore are the follo-\nwing. For a given property X, is there a weakest existential property at least as\nstrong as X? And, if this weakest property exists and we de\fne W E:X to be this\nproperty, then are speci\fcations S0 and S equivalent?\nQuestions about the Strongest Existential Transformer. Next, consider\na dual set of questions. Given that system F has property X, what properties\ncan we deduce about all systems that have F as a component? If X is existential,\nthen all systems that have F as a component also have property X. But, what\nif X is not existential?\nSuppose we can de\fne a predicate transformer S E where S E :X is an existential\nproperty weaker than X.I f F has property X then it also has the weaker property\nSE:X and, since S E:X is existential, all systems that contain F as a component\nalso satisfy S E:X. The obvious question to explore is: Can we de\fne S E :X to be\nthe strongest existential property weaker than X? And if we can, is S E :X the\nstrongest property that holds for all systems that contain F as a component?\nQuestions about the Conjugate Weakest Existential Transformer. Now,\nconsider an engineer designing a system top down. The designer is given the spe-\nci\fcation that the system must have property X. The designer asks the question:\nCan I restrict myself to considering only those components that have a property\nY ? In other words, can we prove that any system that contains a component\nthat does not have property Y also does not have property X? We will show\nthat the conjugate of the weakest existential transformer is helpful in answering\nthis question.\nQuestions about Universal Transformers. We also consider the analogous\ncase for universal properties. We explore the following question: Is there a wea-\nkest property Y such that, if all components of any system have property Y ,\nthen the system has property X?I f X is a universal property and all compo-\nnents have property X then the system itself has property X. So, since Y must\nbe at least as strong as X, Y is the same as X. What if X is not universal?\nWe can introduce a predicate transformer W U with the requirement that\nWU:X is universal and stronger than X. If we can then prove that all components\nof a system have property W U:X then we can conclude that the system enjoys\nthis property and hence also enjoys the weaker property X.\nCan we require that WU:X be the weakest universal property stronger than X?\nWe can show that we cannot do so because there does not exist, in general, a\nweakest universal property stronger than X. What are good ways of de\fning\nWU, then? We do not have answers to this question.\nIn the main body of this paper, we explore similar questions about strongest\nuniversal transformers and their conjugates.\nReasoning about Composition 583\n2 Terminology and Notations\n2.1 Composition\nWe postulate a composition operator denoted by \u000e and we restrict ourselves to\nsystems built from a \fnite number of applications of that operator. We assume\nthat \u000e is associative. We do not assume other properties such as symmetry or\nidempotency. We do not interpret systems, and we do not consider how systems\nare constructed by composing elemental or atomic systems. All that is relevant\nin this paper is that systems can be composed to obtain systems.\nWe postulate the existence of a binary relation p and we only consider sy-\nstems F \u000eG for those components F and G for which F pG holds. We assume\nthat F pG denotes that F can be composed with G (in that order).\nWe assume that if the system F \u000eG\u000eH can be constructed, then it can be\nconstructed by \frst composing F with G and then composing the resulting\nsystem with H, or by \frst composing G with H and then composing the resulting\nsystem with F on the left. Speci\fcally, we assume the following property of p,\nfor any F , G and H:\nF pG ^ (F \u000eG)pH \u0011 GpH ^ F p(G\u000eH) :\nWe assume the existence of a UNIT component that satis\fes the following\naxiom for all systems F :\nUNITpF ^ F pUNIT ^ (UNIT\u000eF = F \u000eUNIT = F ) : (1)\nFor some theorems, we need the additional axiom that the unit system cannot\nhave non-unit components:\n(F \u000eG = UNIT) \u0011 (F = UNIT) ^ (G = UNIT) : (2)\nMost results presented in this paper do not require this additional axiom. Ho-\nwever, some results do. These results are marked with a\n~ sign.\n2.2 Membership Relation\nWe introduce a speci\fc notation to denote that a system F is part of a system G:\nF \u0001 G\n4\n= h9H; K : HpF ^ H\u000eF pK : G = H\u000eF \u000eKi :\nNote that, because of the axiom (1) on the UNIT element, \u0001 is a reﬂexive\noperator and UNIT \u0001 F is true for any F .\n2.3 Properties and Speci\fcations\nProperties are point-wise predicates on systems. We treat a property as boolean-\nvalued function with a single argument of type system. We use dot notation to\ndenote function application, as in f:x denotes the application of function f to x.\n584 M. Charpentier and K.M. Chandy\nTherefore, for any property X and any system F , the notation X:F denotes\nthe boolean: system F has property X. Following [13], we use square brackets\nto denote that a predicate is \\everywhere true\". For a property X,[ X]i st h e\nboolean: property X holds in all systems.\nWe introduce two properties that are speci\fc to the UNIT component,\nUNIT= (\\to be the UNIT \") and its negation UNIT6= (\\to be di\u000berent from\nthe UNIT \"):\nUNIT= :F\n4\n=( F = UNIT) and UNIT6= :F\n4\n=( F 6= UNIT) :\n2.4 Bags of Colored Balls\nIn order to illustrate the ideas presented in this paper, we use a simple model\nof components. In this model, systems are bags of colored balls. Composition\ncorresponds to bag-union and the UNIT element is the empty bag. Note that\nthis bag model satis\fes axiom (2). Therefore, properties marked with\n~ can be\nused when reasoning on this model.\nBags can always be composed (i.e., the relation p is always true) and com-\nposition is symmetric (Abelian monoid), but we do not rely on these additional\nproperties of the model for they may not be true of more interesting models.\nFor instance, sequential composition of programs is not symmetric and parallel\ncomposition of processes may not always be possible (for example, if a process\nreferences a local variable from another process).\n3 Existential and Universal Properties\n3.1 Existential Properties\nA property X is existential (denoted by the boolean exist:X) if and only if X\nholds in all systems that contain a component that satis\fes X:\nexist:X\n4\n= h8F; G: F pG : X:F _ X:G ) X:F \u000eGi :\nThe following results can be proved about existential properties:\nexist:X ^ exist:Y ) exist:(X ^ Y );\nexist:X ^ exist:Y ) exist:(X _ Y );\nexist:X ) (X: UNIT \u0011 [X]);\nexist:UNIT6=\n~ :\nWe de\fne a function guarantees, from pairs of properties to properties. The\nproperty X guarantees Y holds for a system F if and only if, for all systems G\nthat contain F as a component, if X holds for G then Y also holds for G:\nX guarantees Y: F\n4\n= h8G : F \u0001 G : X:G ) Y:Gi :\nReasoning about Composition 585\nProposition 1 For all properties X and Y ,\nexist:(X guarantees Y ) :\nThus, guarantees provides us with a systematic way of building existential\nproperties from other kinds of properties. The existential properties described\nwith guarantees have been used successfully in compositional speci\fcations and\nproofs of distributed systems [7].\n3.2 Universal Properties\nA property X is universal (denoted by the boolean univ:X) if and only if X is\ntrue in all systems built from components all of which satisfy X:\nuniv:X\n4\n= h8F; G: F pG : X:F ^ X:G ) X:F \u000eGi :\nFrom the de\fnitions of exist and univ, any existential property is also universal:\nexist:X ) univ:X :\nMoreover, the following properties can be proved:\nuniv:X ^ univ:Y ) univ:(X ^ Y );\nuniv:X ^ exist:Y ) univ:(X _ Y );\nuniv:UNIT= :\n3.3 All-Components and Some-Component Properties\nWe de\fne two additional forms of composition as the duals of existential and\nuniversal composition. A property is all-components if and only if its negation\nis existential:\nall-c:X\n4\n= exist:(:X) :\nUnfolding the de\fnition of exist, we \fnd that a property is an all-components\nproperty if and only if, when it holds for any system, it holds for all components\nof that system:\nall-c:X \u0011h 8 F; G: F pG : X:F \u000eG ) X:F ^ F:Gi :\nIn the same way, we de\fne some-component properties as the duals of uni-\nversal properties:\nsome-c:X\n4\n= univ:(:X) :\nA property is a some-component property if and only if, when it holds for any\nsystem, it holds for at least one component of that system:\nsome-c:X \u0011h 8 F; G: F pG : X:F \u000eG ) X:F _ F:Gi :\nExistential and universal properties are used in bottom-up design. Their dual\nare used in top-down design.\n586 M. Charpentier and K.M. Chandy\n{ Bottom-up. Given components that have existential or universal properties,\ndesigners can deduce properties of systems composed from these components\nusing very simple rules.\n{ Top-down. Given that a system should satisfy an all-components property,\ndesigners know that they must design all components to also satisfy that\nproperty. Likewise, given that a system should have a some-component pro-\nperty, designers know that they must design at least one component to have\nthat property.\nOf course, systems may be speci\fed in terms of properties that are not exi-\nstential, universal, all-components or some-component. However, as shown in the\nnext sections, any property can be related in a systematic way to some properties\nthat have one of these characteristics.\n3.4 Examples of Properties\nIn the bags of colored balls model, the following properties are examples of\nexistential, universal, all-components and some-component properties:\nexist : (at least one blue ball in the bag) (3)\nexist : (at least two balls of di\u000berent colors in the bag)\nuniv : (no ball in the bag is blue) (4)\nuniv : (all the balls in the bag are red, or at least two are blue)\nall-c : (all the balls in the bag are blue, or all the balls are red)\nall-c : (there are at most three balls in the bag)\nsome-c : (the bag contains more blues balls than red balls) (5)\nsome-c : (exactly one ball in the bag is red)\nNote that (3) is also some-component, (4) is also all-components and (5)\nis also universal. All other example properties only have the stated characte-\nristic (besides the fact that any existential property is universal and any all-\ncomponents property is some-component).\n4 Property Transformers for Composition\n4.1 Extreme Solutions of Equations in Predicates\nAs claimed in sect. 3, conjunctions of universal properties are universal and con-\njunctions and disjunctions of existential properties are existential 1. An equation\nin predicates has a weakest solution if and only if the disjunction of all soluti-\nons is itself a solution, and in this case the weakest solution is that disjunction.\nLikewise, an equation in predicates has a strongest solution if and only if the\nconjunction of all solutions is itself a solution, and in this case the strongest\nsolution is that conjunction [13].\n1 In sect. 3, junctivity is stated \fnitely for convenience, but actually holds for an\nin\fnite number of predicates.\nReasoning about Composition 587\n4.2 The Property Transformer W E\nWe consider the following equation in Z, parametrized by predicate X:\nZ :[ Z ) X] ^ exist:Z : (6)\nA property Z is solution of (6) if and only if it is existential and stronger than\nX. Since disjunctions of existential properties are existential, equation (6) has a\nweakest solution, and we denote that weakest solution by W E:X:\nWE:X\n4\n= h9Z :[ Z ) X] ^ exist:Z : Zi :\nFor any property X,WE:X is the weakest existential property stronger than X.\nSuppose we wish to design a system F so that any system that has F as\na component enjoys property X. What properties must system F have? The\nnext theorem tells us that the necessary and su\u000ecient speci\fcation of such a\ncomponent F is that it satis\fes W E:X.\nProposition 2 WE:X is the weakest property of a component that ensures that\nany system that contains that component will enjoy property X:\nh8F; G: F \u0001 G : Y:F ) X:Gi\u0011 [Y ) WE:X] :\nThis is a consequence of the following proposition that states that, for a com-\nponent, to bring the property X to any system containing the component, or to\nsatisfy WE:X are equivalent.\nProposition 3 WE:X : F \u0011h 8 G : F \u0001 G : X:Gi :\nProposition 3 is proved in [8]. The following elementary properties hold as well:\n[WE:X ) X];\nexist:X \u0011 [WE:X \u0011 X];\n[WE:(X ^ Y ) \u0011 WE:X ^ WE:Y ]; (7)\n[X ) Y ] ) [WE:X ) WE:Y ]; (8)\n[WE:X] \u0011 [X] :\nProperty (7) states that the transformer W E is conjunctive. It can be shown that\nWEi s not disjunctive. Property (8) expresses that W E is monotonic.\nThe property transformer W E can be used in two ways. Firstly, it provides\nus with an abstract way of expressing that a component, all by itself, ensures a\nsystem property X. Moreover, proposition 3 can be used to derive proof rules\nfor properties of the form W E:X for a speci\fc formalism. For instance, proof\nrules for Unity logic are used in the correctness proof of a distributed system\nin [7]. Secondly, properties such as (7) and (8) can be used to reason about\nexistential properties in general, without the inconvenience of a quanti\fcation\nover components. For instance, using proposition 3, it is easy to see that\n[X guarantees Y \u0011 WE:(X ) Y )] :\nThen, it is easier to reason on W E to deduce properties of guarantees (such as\nexistentiality or transitivity).\n588 M. Charpentier and K.M. Chandy\n4.3 The Property Transformer S E\nThe property transformer WE was de\fned using the fact that disjunctions of exi-\nstential properties are existential. Because conjunctions of existential properties\nalso are existential, the equation Z :[ X ) Z] ^ exist:Z has a strongest solution\nSE:X:\nSE:X\n4\n= h8Z :[ X ) Z] ^ exist:Z : Zi :\nFor any property X,S E:X is the strongest existential property weaker than X.\nAmong interesting properties concerning S E, we can prove:\n[X ) SE:X];\nexist:X \u0011 [S E:X \u0011 X];\n[S E:(X _ Y ) \u0011 SE:X _ SE:Y ];\n[X ) Y ] ) [S E:X ) SE:Y ];\n[S E:X] \u0011 (X: UNIT)~ : (9)\nProperty (9) has an interesting intuitive explanation. S E :X holds for all sy-\nstems that have at least one component that satis\fes X. Since all systems have\nUNIT as a component, for all properties X that hold for UNIT, all systems\nhave property S E :X. So, as expected, designers do not get useful information\nfrom knowing that UNIT is a component of their systems.\nProposition 4 SE:X is the strongest property that can be deduced of any system\nbuilt from components, one of which, at least, satis\fes X:\nh8F; G: F \u0001 G : X:F ) Y:Gi\u0011 [S E:X ) Y ] :\n4.4 The Property Transformer S U\nFrom sect. 3, we know that conjunctions of universal properties are universal.\nHowever, disjunctions of universal properties are not always universal. Therefore,\nwe cannot de\fne a transformer W U in the same way as we de\fned W E. Actually,\nit can be shown [8] that some properties do not have a weakest universal property\nstronger than them. Nevertheless, because conjunctions of universal properties\nare universal, the equation Z :[ X ) Z] ^ univ:Z has a strongest solution S U :X:\nSU:X\n4\n= h8Z :[ X ) Z] ^ univ:Z : Zi :\nFor any property X,S U:X is the strongest universal property weaker than X.\nBecause S E:X is universal (since it is existential) and weaker than X,w ec a n\ndeduce:\n[S U:X ) SE:X] :\nReasoning about Composition 589\nAmong interesting properties concerning S U, we can prove:\n[X ) SU:X];\nuniv:X \u0011 [S U:X \u0011 X];\n[X ) Y ] ) [S U:X ) SU:Y ];\n[S U:X] ) (X: UNIT)~ : (10)\nNote that property (10) is only an implication because S U :X is, in general,\nstrictly stronger than S E :X. Also, S U is monotonic but neither conjunctive, nor\ndisjunctive.\nIf all components of a system satisfy X, they also satisfy S U :X and, be-\ncause S U:X is universal, the whole system satis\fes S U :X. Moreover, S U:X is the\nstrongest property that can be deduced this way.\nProposition 5 SU:X is the strongest property that can be deduced of any system\nbuilt from components that all satisfy X:\nh8F; G; H;\u0001\u0001\u0001 : F pG ^ F \u000eGpH ^ F \u000eG\u000eHp \u0001\u0001\u0001 :\nX:F ^ X:G ^ X:H ^\u0001\u0001\u0001) Y: F \u000eG\u000eH\u000e\u0001\u0001\u0001i\n\u0011 [S U:X ) Y ] :\n4.5 Example\nWe consider the following question: What must be proved on a bag of balls to\nensure that any system that contains that bag, if it contains at least one red\nball, contains at least two balls of di\u000berent colors? Formally, the speci\fcation of\nthe component is that any system that contains that component satis\fes:\n(at least 1 red ball) ) (at least 2 colors) :\nThen, from proposition 2, we know that the speci\fcation for the component is:\nWE:((at least 1 red ball) ) (at least 2 colors)) : (11)\nIn this section, we show how an explicit formulation of property (11) can be\ncalculated. The calculation relies on the following proposition, proved in [8]:\nProposition 6 [X \u0011 UNIT\n6=] _ [WE:(UNIT= _ X) \u0011 WE:X]~ :\nThen, we can calculate an equivalent formulation of (11):\nWE:((at least 1 red ball) ) (at least 2 colors))\n= fPredicate calculus g\nWE:(UNIT= _ (at least 1 non red ball))\n=\n\u001aAssume there exist red balls, hence\n:[(at least 1 non red ball) \u0011 UNIT6=], apply prop. 6\n\u001b\n590 M. Charpentier and K.M. Chandy\nWE:(at least 1 non red ball)\n= fexist:(at least 1 non red ball) g\n(at least 1 non red ball) .\nTherefore, we deduce that the necessary and su\u000ecient speci\fcation of the\ncomponent is that it should contain at least one non-red ball. In other words,\nto ensure that any system that uses F as a component will have at least two\nballs of di\u000berent colors provided it has at least one red ball, it is su\u000ecient and\nnecessary that F contains at least one non-red ball. This is consistent with our\nintuition. However, instead of guessing the desired property of F and then prove\nthat it is both necessary and su\u000ecient, we have calculated the property. This\nprovides us with both the property and the proof at the same time, and avoids\ndealing explicitly with the universal quanti\fcation over components.\n5 Conjugates of Property Transformers\nAny predicate transformers has a unique conjugate. Duality allows us to easily\ndeduce properties of a predicate transformer from properties of its conjugate. In\nthis section, we focus on the conjugates of W E, S E and S U.\n5.1 Conjugate of a Predicate Transformer\nLet f be a predicate transformer. Its conjugate, denoted by f\n\u0003 is de\fned by [13]:\nf \u0003:X\n4\n= :f:(:X) :\nDuality provides us with a way of deducing properties of f \u0003 from properties\nof f , and vice-versa. For instance, f is monotonic i\u000b f \u0003 is monotonic. In the same\nway, f is conjunctive (resp. disjunctive) i\u000b f \u0003 is disjunctive (resp. conjunctive).\n5.2 The Property Transformer W E\u0003\nWe de\fne WE\u0003 as the conjugate of the property transformer W E:\nWE\u0003:X\n4\n= :WE:(:X) :\nBecause the dual of existential properties are all-components properties, we\ncan easily deduce that W E\u0003:X is the strongest all-components property weaker\nthen property X. Moreover, applying the duality principle to proposition 2, we\ncan deduce the following proposition.\nProposition 7 WE\u0003:X is the strongest property that can be deduced of all com-\nponents of any system that satis\fes X:\nh8F; G: F \u0001 G : X:G ) Y:F i\u0011 [WE\u0003:X ) Y ] :\nReasoning about Composition 591\nDuality can also be applied to the basic properties of W E to obtain the following\nproperties of WE\u0003:\n[X ) WE\u0003:X];\nall-c:X \u0011 [WE\u0003:X \u0011 X];\n[WE\u0003:(X _ Y ) \u0011 WE\u0003:X _ WE\u0003:Y ];\n[X ) Y ] ) [WE\u0003:X ) WE\u0003:Y ];\n[X \u0011 false] \u0011 [WE\u0003:X \u0011 false] :\n5.3 The Property Transformer S E \u0003\nIn the same way as what is done in the previous section, we can study the\nconjugate of the property transformer S E. Applying duality, S E \u0003:X is the weakest\nall-components property stronger than X. From proposition 4, we obtain:\nProposition 8 SE\u0003:X is the weakest property that must be proved on a system\nto ensure that all components of the system satisfy X:\nh8F; G: F \u0001 G : Y:G ) X:F i\u0011 [Y ) SE\u0003:X] :\n5.4 The Property Transformer S U \u0003\nSU\u0003:X, as the conjugate of S U :X, is the weakest some-component property stron-\nger than X. By duality of proposition 5:\nProposition 9 SU\u0003:X is the weakest property that must be proved on a system\nto ensure that at least one component of the system satis\fes X:\nh8F; G; H;\u0001\u0001\u0001 : F pG ^ F \u000eGpH ^ F \u000eG\u000eHp \u0001\u0001\u0001 :\nY: F \u000eG\u000eH\u000e\u0001\u0001\u0001) X:F _ X:G _ X:H _\u0001\u0001\u0001i\n\u0011 [Y ) SU\u0003:X] :\n5.5 Comparison of the Six Transformers\nThe following table summarizes the intuitive interpretation for each one of the\nsix property transformers that we have de\fned. Each transformer corresponds\nto a di\u000berent view of composition:\n592 M. Charpentier and K.M. Chandy\nWE:X What must be proved on a component to ensure that any\nsystem that contains that component satis\fes X.\nSE:X What can be deduced of any system that contains at least\none component that satis\fes X.\nSU:X What can be deduced of any system that contains only\ncomponents that satisfy X.\nWE\u0003:X What can be deduced on all components of any system\nthat satis\fes X.\nSE\u0003:X What must be proved on a system to ensure that all com-\nponents satisfy X.\nSU\u0003:X What must be proved on a system to ensure that at least\none component satis\fes X.\n5.6 Example\nWe consider another example that uses the bags of balls model: If a system\ncontains exactly one ball and that ball is blue, what can we tell from its compo-\nnents? Using proposition 7, we can claim that all components in such a system\nmust satisfy:\nWE\n\u0003:(exactly one ball and the ball is blue) : (12)\nApplying duality to proposition 6, we deduce:\n[X \u0011 UNIT=] _ [WE\u0003:(UNIT6=^ X) \u0011 WE\u0003:X]~ :\nWe can then calculate and equivalent formulation for (12):\nWE\u0003:(exactly one ball and the ball is blue)\n= fPredicate calculus g\nWE\u0003:(UNIT6=^ (all balls are blue) ^ (at most one ball))\n= fApply the dual of prop. 6 g\nWE\u0003:((all balls are blue) ^ (at most one ball))\n=\n\u001aBoth properties are all-components and a conjunction of all-components\nproperties is an all-components property, for which [W E\n\u0003:X \u0011 X]\n\u001b\n(all balls are blue) ^ (at most one ball) .\nThis is consistent with our intuition: If a system contains only one ball and the\nball is blue, then all its components must contain only blue balls and at most\none ball. Note that the condition we obtain is no guaranteed to hold in a system\neven if it holds in all its components because the property \\at most one ball\" is\nnot universal.\nReasoning about Composition 593\n6 Conclusions\nThis paper reports on an ongoing exploration of using ideas from the mathema-\ntics of program construction to develop a theory of compositional design. This\npaper shows how we exploit concepts from the axiomatic semantics of programs\nfor designing systems. The speci\fc constructs that we investigated in this paper\nare predicate transformers and their conjugates. The only assumptions we made\nabout the composition operator were that it was associative and that it had\na unit element. A sizable body of theory about transformers can be developed\nfrom only these limited assumptions.\nWe started this study because of our conviction of the importance of composi-\ntion in systems design. We believe that systems, and especially software systems,\nshould more and more be constructed from generic, \\o\u000b the shelf\", components.\nThis means that reuse of systems and components is going to be a central issue.\nReuse of existing systems and description of generic components require a\nspeci\fcation language that is abstract enough to be able to specify only the\nrelevant aspects of a system and to hide operational details as much as possible.\nFor this reason, we depart from the process calculus approach, such as in CSP or\nCCS, and focus on logical speci\fcations. Especially, we are interested in applying\nour approach to concurrent systems speci\fed with temporal logics.\nOf course, more abstract speci\fcations lead to more di\u000eculties in terms of\ncomposition. However, a great amount of work has been done in relation with the\ncomposition of concurrent systems described in terms of temporal logic speci\f-\ncations. Among the logics that were considered, we can cite the linear temporal\nlogic [15] and some variants [14], TLA [2] or Unity [9,10,11,12,16]. It should be\nnoted that all these works, and even more general studies done at a semantic [1,\n4] or syntactic [3] level, rely on the same fundamental hypothesis that systems\nare described in terms of states and computations. More precisely, the key point\nthat allows systems to be composed is always the same: Components are speci-\n\fed in terms of open computations , i.e., in\fnite traces that are shared with the\nenvironment.\nIn this paper, we adopt a dual perspective on the question of composition.\nWe do not want to consider systems that can always be composed (i.e., that are\nspeci\fed in such a way that composition is going to work) and we do not rely\non the open computations assumption. Instead, we consider any kind of systems\nand look at what happens when they are composed. In this way, we hope to be\nable to reason on composition in the abstract and understand its fundamental\nissues.\nSo far, this proposed framework helped us better understand the guaran-\ntees operator, which was originally de\fned in [5], along with existential and\nuniversal properties. It is interesting to note that guarantees, when applied to\ntemporal logic and reactive systems, gives us a powerful way to combine logi-\ncal speci\fcations. Especially, the compositional characteristics (existential) of\nX guarantees Y does not depend on properties X and Y . For instance, both the\nleft-hand side and the right-hand side can be progress properties, which is not\n594 M. Charpentier and K.M. Chandy\npossible with usual assumption-commitment speci\fcations. This leads to simpler\nproofs of composition, as in [7].\nAlso, the framework emphasizes a symmetry between top-down design and\nbottom-up design. Conjugates of predicate transformers allow us to deduce theo-\nrems about top-down decomposition from corresponding theorems of bottom-\nup composition. We believe that, from a practical point of view, the top-down\nproblem (identify suitable components) is as important as the more classical\nbottom-up problem (deduce system properties).\nIn this paper we limited our discussion to properties that were existential\nor universal or conjunctions of such properties. We have also shown elsewhere\n[6,7] that nice proofs of correctness for signi\fcant concurrent programs can be\ndeveloped using these concepts coupled with a logic such as Unity. In this pa-\nper we were not concerned with showing how these concepts could be used for\nprogramming; instead, we were primarily concerned with showing how concepts\nfrom programming can be applied to broad classes of systems in which composi-\ntion has simple properties such as associativity and existence of a unit element.\nMuch further work needs to be done to develop an axiomatic semantics of a\ntheory of compositional design. We have only begun to explore the area. Theo-\nrems that derive from further assumptions about the compositional operator\nmust be developed. Properties that are not necessarily predicates on systems\nshould be studied. In general, a property is a function from systems to some\ntype that is not limited to booleans. A theory should be able to reason about\nproperties such as mass and energy consumed. We believe that it is possible to\nconstruct axiomatic theories that help in understanding the basic principles of\ncompositional design.\nReferences\n1. Mart\u0013\u0010n Abadi and Leslie Lamport. Composing speci\fcations. ACM Transactions\non Programming Languages and Systems , 15(1):73{132, January 1993.\n2. Mart\u0013\u0010n Abadi and Leslie Lamport. Conjoining speci\fcations. ACM Transactions\non Programming Languages and Systems , 17(3):507{534, May 1995.\n3. Mart\u0013\u0010n Abadi and Stephan Merz. An abstract account of composition. In Jivr\u0013 \u0010 Wie-\ndermann and Petr Hajek, editors, Mathematical Foundations of Computer Science ,\nvolume 969 of Lecture Notes in Computer Science , pages 499{508. Springer-Verlag,\nSeptember 1995.\n4. Mart\u0013\u0010n Abadi and Gordon Plotkin. A logical view of composition. Theoretical\nComputer Science , 114(1):3{30, June 1993.\n5. K. Mani Chandy and Beverly Sanders. Reasoning about program composition.\nSubmitted for publication.\nhttp://www.cise.uﬂ.edu/\u0018sanders/pubs/composition.ps.\n6. Michel Charpentier and K. Mani Chandy. Examples of program composition\nillustrating the use of universal properties. In J. Rolim, editor, International\nworkshop on Formal Methods for Parallel Programming: Theory and Applicati-\nons (FMPPTA’99), volume 1586 of Lecture Notes in Computer Science , pages\n1215{1227. Springer-Verlag, April 1999.\nReasoning about Composition 595\n7. Michel Charpentier and K. Mani Chandy. Towards a compositional approach\nto the design and veri\fcation of distributed systems. In J. Wing, J. Woodcock,\nand J. Davies, editors, World Congress on Formal Methods in the Development of\nComputing Systems (FM’99), (Vol. I) , volume 1708 of Lecture Notes in Computer\nScience, pages 570{589. Springer-Verlag, September 1999.\n8. Michel Charpentier and K. Mani Chandy. Theorems about composition. Technical\nReport CS-TR-99-02, California Institute of Technology, January 2000. 29 pages.\n9. Pierre Collette. Design of Compositional Proof Systems Based on Assumption-\nCommitment Speci\fcations. Application to Unity. Doctoral thesis, Facult\u0013 e des\nSciences Appliqu\u0013ees, Universit\u0013e Catholique de Louvain, June 1994.\n10. Pierre Collette. An explanatory presentation of composition rules for assumption-\ncommitment speci\fcations. Information P rocessing Letters, 50:31{35, 1994.\n11. Pierre Collette and Edgar Knapp. Logical foundations for compositional veri\fca-\ntion and development of concurrent programs in Unity.I n International Confe-\nrence on Algebraic Methodology and Software Technology , volume 936 of Lecture\nNotes in Computer Science , pages 353{367. Springer-Verlag, 1995.\n12. Pierre Collette and Edgar Knapp. A foundation for modular reasoning about safety\nand progress properties of state-based concurrent programs. Theoretical Computer\nScience, 183:253{279, 1997.\n13. Edsger W. Dijkstra and Carel S. Scholten. Predicate calculus and program seman-\ntics. Texts and monographs in computer science. Springer-Verlag, 1990.\n14. J.L. Fiadeiro and T. Maibaum. Verifying for reuse: foundations of object-oriented\nsystem veri\fcation. In I. Makie C. Hankin and R. Nagarajan, editors, Theory and\nFormal Methods, pages 235{257. World Scienti\fc Publishing Company, 1995.\n15. Zohar Manna and Amir Pnueli. The Temporal Logic of Reactive and Concurrent\nSystems: Speci\fcation. Springer-Verlag, 1992.\n16. Rob T. Udink. Program Re\fnement in Unity-like Environments . PhD thesis,\nUtrecht University, September 1995.",
  "topic": "Computer science",
  "concepts": [
    {
      "name": "Computer science",
      "score": 0.752196192741394
    },
    {
      "name": "Exploit",
      "score": 0.7517811059951782
    },
    {
      "name": "Transformer",
      "score": 0.6510463953018188
    },
    {
      "name": "Predicate (mathematical logic)",
      "score": 0.5352301001548767
    },
    {
      "name": "Theoretical computer science",
      "score": 0.4754195809364319
    },
    {
      "name": "Programming language",
      "score": 0.39533889293670654
    },
    {
      "name": "Algorithm",
      "score": 0.33767563104629517
    },
    {
      "name": "Physics",
      "score": 0.0
    },
    {
      "name": "Quantum mechanics",
      "score": 0.0
    },
    {
      "name": "Computer security",
      "score": 0.0
    },
    {
      "name": "Voltage",
      "score": 0.0
    }
  ]
}