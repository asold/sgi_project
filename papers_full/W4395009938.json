{
  "title": "Segmentation using large language models: A new typology of American neighborhoods",
  "url": "https://openalex.org/W4395009938",
  "year": 2024,
  "authors": [
    {
      "id": "https://openalex.org/A4261087198",
      "name": "Alex D. Singleton",
      "affiliations": [
        "University of Liverpool"
      ]
    },
    {
      "id": "https://openalex.org/A2704335176",
      "name": "Seth Spielman",
      "affiliations": [
        "Microsoft (United States)"
      ]
    },
    {
      "id": "https://openalex.org/A4261087198",
      "name": "Alex D. Singleton",
      "affiliations": [
        "University of Liverpool"
      ]
    },
    {
      "id": "https://openalex.org/A2704335176",
      "name": "Seth Spielman",
      "affiliations": [
        "Blue Canyon Technologies (United States)",
        "Microsoft (United States)"
      ]
    }
  ],
  "references": [
    "https://openalex.org/W2036688216",
    "https://openalex.org/W4244003284",
    "https://openalex.org/W2300880524",
    "https://openalex.org/W4288096060",
    "https://openalex.org/W2924974277",
    "https://openalex.org/W2908709484",
    "https://openalex.org/W2744267167",
    "https://openalex.org/W1990391316",
    "https://openalex.org/W2040839938",
    "https://openalex.org/W2298261490",
    "https://openalex.org/W1966775261",
    "https://openalex.org/W2952128688",
    "https://openalex.org/W1976182638",
    "https://openalex.org/W2046310563",
    "https://openalex.org/W2434182841",
    "https://openalex.org/W2085230521",
    "https://openalex.org/W3032944544",
    "https://openalex.org/W4387574864",
    "https://openalex.org/W1701987536",
    "https://openalex.org/W2067765703",
    "https://openalex.org/W658962771",
    "https://openalex.org/W1547981617"
  ],
  "abstract": "Abstract In the United States, recent changes to the National Statistical System have amplified the geographic-demographic resolution trade-off. That is, when working with demographic and economic data from the American Community Survey, as one zooms in geographically one loses resolution demographically due to very large margins of error. In this paper, we present a solution to this problem in the form of an AI based open and reproducible geodemographic classification system for the United States using small area estimates from the American Community Survey (ACS). We employ a partitioning clustering algorithm to a range of socio-economic, demographic, and built environment variables. Our approach utilizes an open source software pipeline that ensures adaptability to future data updates. A key innovation is the integration of GPT4, a state-of-the-art large language model, to generate intuitive cluster descriptions and names. This represents a novel application of natural language processing in geodemographic research and showcases the potential for human-AI collaboration within the geospatial domain.",
  "full_text": "SingletonandSpielman EPJDataScience           (2024) 13:34 \nhttps://doi.org/10.1140/epjds/s13688-024-00466-1\nRESEARCH OpenAccess\nSegmentationusinglargelanguagemodels:\nAnewtypologyofAmericanneighborhoods\nAlexD.Singleton 1* andSethSpielman 2\n*Correspondence:\nalex.singleton@liverpool.ac.uk\n1GeographicDataScienceLab,\nUniversityofLiverpool,Roxby\nBuilding,74BedfordStSouth,L69\n7ZT,Liverpool,UK\nFulllistofauthorinformationis\navailableattheendofthearticle\nAbstract\nIntheUnitedStates,recentchangestotheNationalStatisticalSystemhaveampliﬁed\nthegeographic-demographicresolutiontrade-oﬀ.Thatis,whenworkingwith\ndemographicandeconomicdatafromtheAmericanCommunitySurvey,asone\nzoomsingeographicallyonelosesresolutiondemographicallyduetoverylarge\nmarginsoferror.Inthispaper,wepresentasolutiontothisproblemintheformofan\nAIbasedopenandreproduciblegeodemographicclassiﬁcationsystemfortheUnited\nStatesusingsmallareaestimatesfromtheAmericanCommunitySurvey(ACS).We\nemployapartitioningclusteringalgorithmtoarangeofsocio-economic,\ndemographic,andbuiltenvironmentvariables.Ourapproachutilizesanopensource\nsoftwarepipelinethatensuresadaptabilitytofuturedataupdates.Akeyinnovationis\ntheintegrationofGPT4,astate-of-the-artlargelanguagemodel,togenerateintuitive\nclusterdescriptionsandnames.Thisrepresentsanovelapplicationofnatural\nlanguageprocessingingeodemographicresearchandshowcasesthepotentialfor\nhuman-AIcollaborationwithinthegeospatialdomain.\nKeywords: Geodemographics;LargeLanguageModel(LLM);AmericanCommunity\nSurvey;Segmentation;Neighborhoods;ArtiﬁcialIntelligence(AI);Demographics;\nRetreivalAugmentedGeneration(RAG)\n1 Introduction\nFor most of the past century, there has been an abundance of data available about places\nin the United States. The US Census Bureau’s American Community Survey (ACS) pub-\nlisheshundredsoftableseachyearfornearly300,000diﬀerentgeographicunits.TheACS\nis the primary source of social and economic data in the US but the abundance of data\nthat it provides masks a fundamental problem- much of data is low quality, especially at\nthe highest levelsofgeographicdetail (BlockGroups).This createsaparadoxwherebyas\nonezooms-ingeographicallytheresolutionofsocialandeconomicdatadecreases;thisis\ncounter-intuitivetomostdatauserswhoareusedtozoominginonmapsandseeingmore,\nnotlessdetail.This occursbecausetheACS,asthenameimplies,isasurvey,andasone\nzooms in geographically the sample is diluted. Spielman and Folch [1]d o c u m e n tt h a ti n\n72%ofallareasreportedbythecensusthemarginoferroraroundtheestimatednumber\nofchildrenunder5inpovertyisgreaterthantheestimate,forexample,25+/–30(imply-\ning that the true number of children in poverty is somewhere between zero and 55). The\n©TheAuthor(s)2024. OpenAccess ThisarticleislicensedunderaCreativeCommonsAttribution4.0InternationalLicense,which\npermits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit\nto the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The\nimagesorotherthirdpartymaterialinthisarticleareincludedinthearticle’sCreativeCommonslicence,unlessindicatedotherwise\nin a credit line to the material. If material is not included in the article’s Creative Commons licence and your intended use is not\npermitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright\nholder.Toviewacopyofthislicence,visit http://creativecommons.org/licenses/by/4.0/.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page2of21\nproblemissoacutethattheUSCensusBureauadvisesagainsttheuseofthemostdetailed\nlevels of ACS geography, noting “For the ACS, block groups are not designed to be used\nindividually, rather they provide a smaller geographic area than census tracts that allow\ndatauserstocombinethemtocreatelargergeographicareasthatmaybemoremeaning-\nful for their speciﬁc use” [2]. That is, the US Census Bureau advises data users to build\nlowerresolutiongeographiesoutofCensusBlockGroupsand not to use them directly.\nThis pattern of having a high volume of low quality data is not unique to the American\nCommunity Survey. The new operating environment for many social scientists is one in\nwhichlargevolumesof“organic”dataofdubiousqualityand/orforwhichprovenanceare\nunavailable.Inaworldwheredataareabundant,butindividualvariablesareoflowquality,\nidentifyinggroupsorpatternsinadatasetcanbeacriticalwaytoﬁndmeaningfulinsights.\nOnline data about people often follows this pattern of large volumes of low quality data\nbeing available, in this setting segmentation (or proﬁles) are the norm, as a recent leak\nfromoneofthelargestonlineadvertising platformsmakesclear.\n1\nAlthough combining large numbers of variables via classiﬁcation tends to be the norm\nintheprivatesector,arguablyfeweroptionsareavailableforscientistsandpolicymakers.\nThe lack of options are partially driven by demand, as their dominant mode of inquiry\nleans on individual variables ([3]). However, another driver of the reliance on low quality\nvariablesisthelackofalternativesinthepublicdomain.Webelievethatthisgapisdueto\nafailureoftheresearchcommunitytoadapttothechangingnatureofthedatalandscape,\nwhile the US National statistical system has undergone some profound changes, such as\na 50% reduction in the sample size used to produce small area estimates.\n2 Spielman and\nSingleton[4]arguethatasolutiontothedeclineindataqualityistheaggregationofnoisy\nsignals to produce a more precise picture of a place than any single variable would allow.\nThe logic behind this approach is that if data are unbiased but noisy, as one adds noisy\nbut unbiased variables to an ensemble it becomes possible to make reliable inferences\naboutclustermeansbecausetheexpectedvalueoftheerroracrossmanyvariablesiszero.\nHowever, the Spielman and Singleton approach also requires a fundamental change in\npractise,ashiftfroma“VariablesApproach”inwhichonefocusesonindividualvariables,\ndescribing places by race or income, to a “contextual approach” in which one describes\nplacesholisticallyusingmanyvariablesatonce.\nSocialScientiﬁcpractisehasnotfullyadaptedtothisnewoperatingenvironmentwhere\ndata are more abundant but lower quality. However, the growing availability of spatially\nreferenced data about populations and their local contexts has led to an upsurge of in-\nterest in these high-dimensional descriptive models of places [5, 6]. Commonly referred\nto as segmentation or geodemographic classiﬁcation [7,8], they represent a collection of\nmethodological approaches that utilise unsupervised classiﬁcation techniques to group\ngeographicareasbasedonthesimilarityoftheircharacteristicsinthesocioeconomic,de-\nmographic, and built environment [9]. Such systems have proven to be valuable tools for\nunderstandingcomplexspatialpatternsinurbanareas[ 10],targetingpublicpolicyinter-\nventions [11], and guiding business decisions [12]. While several commercial geodemo-\ngraphic classiﬁcation systems for the United States exist (e.g. Esri’s Tapestry Segmenta-\n1https://www.theguardian.com/australia-news/2023/aug/15/tab-gamblers-betting-australia-targeted-microsoft-xandr-\nadvertising-database.\n2Details ofthe surveycan befound here—https://www.census.gov/programs-surveys/acs/.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page3of21\ntion,3 Nielsen’s PRIZM4), these systems are closed source and proprietary, which com-\nplicates their use for science, policy, and governance because the underlying data and\nmethodscannotbeindependentlyveriﬁed.Thereremainsaneedforatransparent,repro-\nducibleandupdateableclassiﬁcationsystemthatisgroundedinopenscientiﬁcprinciples\nandcanevolveitsrepresentationsalongsidechangesindata[ 13].\nOne ofthe persistent challengesto the useof high-dimensional typologies in thesocial\nsciences is that it can be diﬃcult to understand such systems. Given hundreds of vari-\nables and hundreds of groups, creating descriptions of clusters used to require a manual\nprocess of reading many tables of data and writing descriptions by hand. This process of\ndescription is often error prone; [14] noted that a major research endeavor in the 1970s\nwas undermined by misleading interpretation of multivariate groupings of data. This pa-\nper addresses these challenges by developing an open and reproducible geodemographic\nclassiﬁcation at the block group scale for the United States using the ACS, and further\ndemonstrateshowbycouplingthisclassiﬁcationwithGenerativePre-trainedTransformer\n4( G P T 45) one can generate intuitive descriptions and names for high dimensional clus-\nters. Integration of GPT4 into geodemographic typologies represents a novel application\nofnaturallanguageprocessingtechniquesintheinterpretationofhigh-dimensionalclus-\nteranalyses.\nTo create a robust and reproducible geodemographic classiﬁcation, we utilise a par-\ntitioning clustering algorithm to identify areas with similar characteristics, employing a\nrangeofmeasuresdescribingpeople,theirbehavioursandresidentialcontext.Byutilising\na pipeline of open-source software and sharing our code, data, and methods, we ensure\nthatthisclassiﬁcationistransparent,reproducible,andadaptabletofutureupdatesofthe\nACS. Our ﬁnal classiﬁcation organises the United States into 7 Groups which are further\nbrokendowninto39Types; eachaccompaniedbydescriptive penportraits.\nOurpaperproceedsasfollows:Sect. 2providesabriefoverviewofthehistoryandevo-\nlution of geodemographics; Sect.3 provides an overview of the ACS and pre-processing\nsteps, including a rationale for the selection and evaluation of variables aligned to a con-\nceptual framework; Sect.4 describes the clustering algorithm implementation; Sect.5\npresents the results of the geodemographic classiﬁcation including their spatial distribu-\ntion, socio-economic and demographic characteristics. Section6 details the integration\nof GPT4 for generating descriptions and names for the clusters, with a discussion on the\nbeneﬁtsandlimitationsofthisapproach.Section 7presentsanevaluationofourclassiﬁca-\ntionsystem;andﬁnally,Sect. 8concludesthepaper,highlightingtheuniquecontributions\nofourworkandoutlinessomepotentialavenuesforfutureresearch.\n2 Thegeodemographiccharacterisationofneighbourhoods\nThe process of building a geodemographic classiﬁcation can be considered both art and\nscience [8], as although many of the methods used in their creation are driven by algo-\nrithms, there are nuances to their implementation that mean that they are only partially\nautomated. This includes the selection of variables that may have theoretical and em-\npirical rationale [15], the choice of variable pre-processing, including normalisation and\n3https://www.esri.com/en-us/arcgis/products/data/data-portfolio/tapestry-segmentation.\n4https://claritas.com/prizm-premier/.\n5https://openai.com/research/gpt-4.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page4of21\nstandardisation, and the selection of cluster frequencies for the classiﬁcation, including\nwhethertheseshouldappearasahierarchy.Thereareavarietyofperspectivesaroundthe\nmost eﬀective approach [4, 8], all of which have the overarching objective of creating a\ngeodemographicclassiﬁcationwithdescriptive validity foranintendedapplication.\nFor most geodemographic classiﬁcations, after the creation of clusters, there is a more\nexplicitly qualitative stage in the analysis that aims to provide descriptive portraits of the\nresulting groups. The process will usually involve the development of a table describing\neach input variable and its representation within each cluster relative to some base (e.g.\nnational). The classiﬁcation builder manually reads these tables to write “pen portrait”\ndescriptionsandgivetheclustersnames.Thisprocessistime-consumingand,depending\nontheexperienceoftheclassiﬁcationbuilderortheteamofpeopleworkingonthesede-\nscriptions,maybeofvariablequality.Wemakethecaseherethatthroughtheintegration\noflargelanguagemodels,suchasGPT4,theseprovideanalternativeandeﬃcientmethod\nforthecreationofaninterfacetoasegmentation.\n3D a t a a n d d e s i g n\nThe US Census Bureau conducts the ACS which is a large and representative survey of\ntheUSpopulation,comprisingaroundtwomillioninterviewsannually.TheACSprovides\nhundredsofestimatesforthemorethan200,000blockgroupsintheUnitedStates.Block\nGroupsaregeographicunitsdesignedbytheCensusBureauthatcontainbetween600and\n3000people,theyvaryinsize(basedonpopulationdensity)butgenerallyconsistofafew\ncityblocks.\nSome simple maths tells you that it is diﬃcult to produce annual estimates for 200,000\nplaces from a survey of 2 million people, there simply are not enough people per block\ngroup to produce reliable estimates. So the “annual” estimates provided for block groups\nactually combine 5 years of data. The data used in this study were accessed through US\nCensusBureau’sAPIviatheTidyCensusRpackage[ 16],withcountvariablesconvertedto\nproportionsusingtheappropriatedenominatorvariable(providedbytheCensusBureau).\nThere are numerous ways in which the input variables used to create a geodemographic\nclassiﬁcation can be selected. Most of the time, these blend empirical evaluation of their\ndescriptive utility, experience of classiﬁcation builders informed by previous work, and\ntheoreticalrationaleformeasureslinkedtodrivers ofresidential diﬀerentiation.\nTheinputsformostgeodemographicclassiﬁcationsaredesigned aroundanorganising\nframework.Theseareoftenstructuredhierarchicallyandcomprisebroad“concepts”and\nmorespeciﬁcnested“domains”.Withinsuchframeworks,thespeciﬁclabelsforthegroup-\ningsofinputvariablesmightchange,andtherearenoﬁxedstructuresforhowgroupings\nof input measures could be presented. All these choices vary manually depending on the\ncontexts for which a classiﬁcation is being created. The purpose of such frameworks are\nto establish a greater theoretical basis for the choice of input variables, which is particu-\nlarlyimportantwithinthecontextofthesocialsciences,andfollowspracticethathasbeen\nimplementedsincetheﬁrstclassiﬁcationswerecreatedinthe1970s[ 17].Theconceptual\nframework for this study is presented in Table1 with three organising concepts that in-\ncludeeconomy,environment,andpopulation.Thentheseconceptsarebrokendowninto\n25 domains. This input taxonomy was manuallydesigned to broadly represent key facets\nthatareknowntoeitherdiﬀerentiatebetweenresidentialareasorareimportantoutcomes\nof these patterns. The ACS has available over 18,000 potential variables, many of which\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page5of21\nTable 1ConceptualFrameworkfortheGeodemographic\nConcept Domain\nEconomy DigitalConnectivity\nDigitalDevices\nEmployment\nMobility\nStartWorkTime\nTransport\nWealth\nEnvironment Accommodationsize\nBuildingAge\nHousingCost\nOccupancy\nRent\nStructureType\nTenure\nUnitSize\nVacant Units\nPopulation Children\nEducation\nFamily\nFamily Structure\nHousehold\nHousing\nLanguage\nMarriage\nRace/Ancestry/Citizenship\nare not relevant for the context of this study, or as these are predominantly cross tabula-\ntionsofdiﬀerentvariables,forthisgeographicscaleofanalysishaveverywidemarginsof\nerror or large amounts of suppressed values as a result of disclosure controls. Based on\na breadth of past classiﬁcation builder experience and use of these data [4, 18] an initial\nselection of 697 variables encompassing all concepts were assessed based on their geo-\ngraphic coverage, correlation, and variance. The evaluation initially prioritised variables\nthatoﬀerednear-completecoverageacrosstheBlockGroupsoftheUnitedStatesandex-\nhibitedgreatervariance,whichisausefulindicatorofhoweﬀectiveavariablewouldbeat\ndiﬀerentiating between areas.\nFor variables deemed non-problematic in terms of coverage and variance, correlation\nwasthenconsidered.Ensuringthatcorrelationisminimised(orunderstood)withinclus-\nt e ra n a l y s i si n p u t si si m p o r t a n tt op r e v e n ta no v e re m p h a s i so fap a r t i c u l a rd i m e n s i o n s\nwithin the classiﬁcation. It is common practice to limit these eﬀects by excluding vari-\nableswithhighcorrelation,commonlydeﬁnedbyaPearsoncorrelationcoeﬃcientof+ve/\n–ve0.7[ 19].Thecorrelationcoeﬃcientsbetweenallvariableswerecalculatedandusedto\nbuildadensenetworkfromtheassociationsofthevariables.Eachvariablewasrepresented\nas a node and the correlation coeﬃcients linking the nodes were considered edges, with\naweightassignedasthecorrelationcoeﬃcientvalue.Becausecorrelationcoeﬃcientsare\ncalculated for all pairs of variables, the full network is dense, however, to make the graph\nmore interpretable, edges where the correlation weights were +ve / –ve 0.7 were deleted,\nleaving a multi-part graph. A graph visualisation was then created where the nodes were\ncolouredbythethreeConcepts;andtheedgesbythestrengthoftheircorrelation.Thead-\nvantageofagraphrepresentationarethatthosevariableswithhighcorrelationtomultiple\nvariables were immediately visible; enabling these groupings to be considered conceptu-\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page6of21\nFigure1 ACorrelationGraphShowingVariableswithHighCorrelation\nally and to ensure that changes in variable selection (due to high correlation) would not\ncausealossofconceptualcoverage.Thegraphguidestheidentiﬁcationofvariablestobe\nr e m o v e do rc o m b i n e di n t on e wm e a s u r e s( F i g .1). For example, the variables for males\naged 18 to 19 and females aged 18 to 19 were highly correlated: with a decision taken to\nmergethesevariablesintoanewvariable,aged18to19.Afterthisprocessofinputreﬁne-\nment,atotalof247inputvariablesremained.\n4 Clusteringandmodelspeciﬁcation\nPrior to cluster analysis each input measure was converted to a constrained logit, which\nshifted the measures onto a scale of –6 to +6 and adjusted the shape of their distribu-\ntion.Thisapproachwasselectedbecause,relativetoothercommonlyusednormalisation\nprocesses in geodemographic classiﬁcation including taking a log [20], or inverse hyper-\nbolicsine[ 19],alogitprovidesamoreappropriatetreatmentforproportionsandcontrols\nfor extreme outliers. The constrained logit applied to the proportions is deﬁned in Algo-\nrithm1.\nGeodemographic classiﬁcations typically use unsupervised clustering methods to ﬁnd\ngroups of areas with shared characteristics. Publicly available classiﬁcations follow two\nmain design patterns, “top-down” or “bottom-up”. A top-down approach clusters all ar-\neas into a number of large aggregate groups. These groups are then used to partition the\ndata,withseparateclusteranalysisconductedonthesubsetstobuildahierarchyfromthe\ntop(mostaggregate)downwards.Bottom-upassociatesareassharingsimilarcharacteris-\ntics into a larger number of initial clusters and then bringing these clusters together into\naggregategroups,commonlyusinghierarchicalmethodssuchaswardsclustering.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page7of21\nAlgorithm1 ConstrainedLogit\nfunction ConstrainedLogit(p,m=6)\nif pis NA then\nreturn NA\nelseif p≤ 0then\nreturn –m\nelseif p≥ 1then\nreturn m\nelse\nCalculate logit as log( p\n1–p)\nreturn min(max(logit,–6),6)\nendif\nendfunction\nIn both top-down and bottom-up approaches, k-means is the most prevalent unsuper-\nvised partitioning algorithm in geodemographic classiﬁcation, although there are exam-\nplesofothermethods[ 18,21].Forthisapplication,atop-downapproachwasselectedand\nimplementedusingak-meanswhichinitiallypartitionsbyassigning k randomseedloca-\ntions within the multidimensional data array. For each data point, the Euclidean distance\nto each centroid is calculated, then observations are assigned to the closest centroid. A\ncluster mean is then computed from the data points assigned to that cluster, producing\na new centroid. This process is repeated until there are no more changes in the cluster\nassignments or the centroid locations, or a predeﬁned number of iterations have been\nreached. This process converges when the algorithm has found a local minimum for the\nobjectivefunction—thewithin-clustersumofsquares(WCSS).WCSSisameasureofhow\nmuch variation exists within each cluster. These scores can be summed over all clusters\nto give thetotal within sum of squaresand istypically usedasa measureof thequalityof\naclusteringsolution,withlowervaluesindicating tighterandmoredistinct clusters.\nLet C\ni be the cluster containing data pointsx1,x2,..., xni,a n dl e t¯xi be the centroid of\nclusterCi.T hen,t heWCSSf orc lust erCi canbecalculatedas:\nWCSSi =\nni∑\nj=1\n∥xj – ¯xi∥2\nThe total WCSS (TWCSS) for a clustering solution withk clusters is the sum of the\nWCSSforeachcluster:\nTWCSS =\nk∑\ni=1\nWCSSi\nIn geodemographic classiﬁcation, there is no a priori knowledge of which value ofk is\nmostappropriate,andassuch,thisrequiresaset ofheuristicstoguidetheselection. The\nmost prevalent method to estimatek includes the use of an elbow criterion, that plots\nthechangeinTWCSSfordiﬀerentvaluesof k,althoughothermethodssuchassilhouette\nscoresandgapstatisticshavealsobeenused.However,forthisexample,weutiliseaClus-\ntergramtoselecttheinitialandthensubsequentpartitioningofthedata.Foreachcluster,\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page8of21\nFigure2 AClustergramIllustratingkPotentialInitialDataPartitions\nTable 2kSubsequentDataPartitions\nCluster Splits\n15\n25\n37\n45\n55\n66\n76\nthisvisualtoolplotsclustercentroidsalongtheyaxisbasedonaweightedﬁrstcomponent\nofaprincipalcomponentanalysis.Thethicknessofthelinesbetweensolutionsrelatesto\nthe number of areas assigned to clusters across the diﬀerent values ofk, indicating large,\nsmall or stable splits. An indicator of the most appropriate value ofk is where the cluster\ncentroidsarewellseparatedontheyaxis.AClustergramisshowninFig. 2andavalueof\n7wasse lect ed.\nA further feature ofk means is that the initial location of the seeds impacts the ﬁnal\nqualityoftheclusteringresult.Followingpreviousgeodemographicapplications,random\nseed locations were allocated for 10,000 runs of the algorithm, selecting the result that\nminimised the TCWSS, representing more compact clusters. The input data were then\npartitionedbythesevenclustersolutionintoseparatedatasets,andfurtherClustergrams\nestimated appropriate splits. The application ofk means to these data subsets, enabled a\nsecondhierarchicaltieroftheclassiﬁcationtobecreated(SeeTable 2).Forspacewedonot\ninclude these here but the plots are available on the code repository associated with this\nproject.Thedevelopmentofatwotiermodelfollowspracticeswellestablishedelsewhere\ninthegeodemographicliterature[ 19,22].\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page9of21\nTable 3TheDistributionofBlockGroupsbytheirGroupandTypeAssignmentswithintheUS\nGroup Type N %\nA A1 5489 2.3\nA2 8212 3.5\nA3 5237 2.2\nA4 4826 2.0\nA5 7455 3.1\nB B1 4119 1.7\nB2 3001 1.3\nB3 1743 0.7\nB4 2259 1.0\nB5 4014 1.7\nC C1 9440 4.0\nC2 8086 3.4\nC3 5452 2.3\nC4 6159 2.6\nC5 7177 3.0\nC6 4422 1.9\nC7 9605 4.1\nD D1 9304 3.9\nD2 8122 3.4\nD3 8484 3.6\nD4 8473 3.6\nD5 5538 2.3\nE E1 8446 3.6\nE2 9036 3.8\nE3 7911 3.3\nE4 3907 1.7\nE5 9738 4.1\nF F1 4503 1.9\nF2 8071 3.4\nF3 4564 1.9\nF4 6472 2.7\nF5 6269 2.6\nF6 4596 1.9\nG G1 7313 3.1\nG2 1914 0.8\nG3 3510 1.5\nG4 4691 2.0\nG5 4832 2.0\nG6 4385 1.9\n5 Clusteringresults\nThe clustering process returns a typology for the US, with the assignment of each area\n(Census Block Group) into a hierarchical and nested cluster. The initial and more ag-\ngregate 7 cluster partitioning will be referred to henceforth as a Group, and labelled se-\nquentiallyA-G;andthe39sub-clustersthatwerecreatedthroughfurthersplittingofeach\nGroup will be referred to as Type, and labeled numerically and sequentially within each\nGroup.ThenationaldistributionofBlockGroupassignmentsbythecreatedtypologyare\ns h o w ni nT a b l e3, with assignments ranging from 0.7% to 4.1% of the total frequency of\nBlockGroups.\nTo begin to understand the geography of the clusters, maps were generated for the\nentirety of the US, with illustrative examples of the Groups presented for a number of\nUS cities and regions in Fig.3. The Groups have all been assigned a separate color, and\nthose areas in light grey were areas not included within the cluster analysis, as a result of\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page10of21\nFigure3 GrouplevelmapsofthreeselectedareasoftheUS(a)BoulderCounty,CO(b)The5Boroughsof\nNYC,NY(c)SeattleandSurroundingCounties,WA\nsmallpopulationcountsoralackofcomprehensivemeasuresforalloftheinputvariables.\nTheUSmapsandtheseillustrationsshowclearpatternsofspatialautocorrelation,where\ngroupvaluescorrespondtothevaluesoftheirneighbouringareas.Furthermore,through\nthe variegation of the clusters acrossthese diﬀerent areas,it can be seen how they are ef-\nfective at picking out diﬀerences in the underlying distribution of populations and those\nplaces in which they live. Boulder is a small county in CO with compact form and has\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page11of21\nquite diﬀerent Group distribution than New York or the densest area of Seattle (exclud-\ning its wider hinterlands). New York, which is predominantly all urban features no Block\nGroupswithinGroupC,whichisfoundinlowerdensityareas;andlikewise,averyurban\nGroup F is not found within Boulder. Mapping such diﬀerences aim to give reassurance\nthatbroadlyexpectedgeographicpatternshaveemerged;however,furtherdescriptivede-\ntail is required to develop a fuller understanding of the Group and Type characteristics\nrepresenting thesespatial patterns.\n6 Largelanguagemodelsforclusterdescriptions\nWhen building a geodemographic classiﬁcation, their utility as descriptors of diﬀerent\nneighbourhoods is linked to their ability to provide concise, faithful and usable descrip-\ntions of places. Key to the utility of Geodemographic classiﬁcations is the creation of an\ninterface for the clusters. The most common way to do this is to create short textual la-\nbelsforeachclustersupportedbylonger“penportrait”descriptions.Historically,thishas\nbeenamanualprocess,withscoresshowingtherelativedistributionofvariablesbycluster\ncompiled into a table (which are often but not exclusively the input variables to the clas-\nsiﬁcation), then the classiﬁcation builder or team will interpret these scores and qualita-\ntivelydeveloplabelsanddescriptions.Thesewilllikelygothrougharangeofreviewswith\nstakeholders.Thereissigniﬁcantcreativeskilltothegenerationofsuchcontent,ensuring\nthat it is eﬀectively pitched to an audience, factually accurate, and isn’t inﬂammatory or\ndiscriminatoryinanyway. Theprocessisverytimeconsuming.\nLargeLanguageModels(LLM)suchasGPT4havetheabilitytobothinterpretdataand\ndeveloparticulatedescriptionsofdatasets,andweargueareusefultosupporttheprocess\nofclusternaminganddevelopmentofpenportraits.Wedevelopa“humanintheloop”so-\nlutionwhereGPT4wasusedtogenerateaseriesofthematicdescriptionsforeachcluster\nusing a pattern called retrieval augmented generation or “RAG”. In retrieval augmented\ngeneration authoritative data or documents are presented to a Large Language Model to\nensureitsresultsareinformedbythebest availabledata.However,RAGisnotinfalliable\nsowemanuallyvalidateandreviewallmachine-generatedcontent.Thesereviewsinitially\nwereusedtoreﬁnepromptsandlaterusedtoﬁnalisepen-portraitsandlabels.\nThe process involved creating hundreds of prompts, each containing text and data for\no n ea s p e c to ft h ec l u s t e r .V a r i a b l e sw e r er e n a m e dt os i m p l i fyC e n s u sB u r e a ud e s c r i p t i o n\ninto a human readable form, and inference on these prompts was run using the OpenAI\nGPT4 API. The responses were stored and manually reviewed. Manual checks of the ac-\ncuracy of the results relative to the input data were completed to explore if there is any\nproblematic supposition or spurious content and, ﬁnally, if there are other more general\nquality issues such as repetition or poor sentence construction. We would always adopt\nsuchchecksfrombothanethicalandpracticalstancewhenthegeodemographicoutputs\nandcreatedlabels/descriptionsmayhavereal-worldapplicationsorimpacts.\nWe developed standardized index scores for the classiﬁcation input variables and a\nprompt that comprises of a number of sections. The prompt ﬁrst introduces the task to\ncreate descriptions using the provided data, and then provides examples of how the data\ntable is structured. Finally, the correct use of index scores are explained, and how they\nshould be interpreted.\nThefollowingwasthereforecommonacrossallprompts:\nAgeodemographicscompanyistryingtoexplainthecharacteristicsofaneighborhoodto\na new customer. They present data comparing this neighborhood to the national average.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page12of21\nAscoreof100meanstheneighborhoodisequivalenttothenationalaverage,ascoreof150\nmeans the neighborhood one and a half times the national average, a score of 200 means\nthe neighborhood is twice the national average, a score of 50 means the neighborhood is\nhalf of the national average, a score of 300 means the neighborhood is three times the na-\ntionalaverage.Theirneighborhoodhasthefollowingcharacteristics,describedin#DATA#\nbelow.Dataarepresentedforeachcharacteristicfollowedbyacolon,andthenascore.The\ndescription of the neighborhood should focus on characteristics that have scores which are\ngreaterthan120orlessthan80.If‘housingunitsthatareRenteroccupied’havescoresthat\narelessthan80,thendon’tdescribe anydetailsabouttherentprices.\nThesecondelementofthepromptwastoprovidetheindexscoresforeachofthevari-\nables. The variables were each given reasonably descriptive names to provide context for\nthe scores. The following is an example of how a subset of a data table was presented to\nthe prompt:\n#DATA# commutes to work using public transit public transportation (excluding taxi-\ncab):681\ncommutelengthLessthan5minutes:90\ncommutelength5to9minutes:106\ncommutelength10to14minutes:123\ncommutelength15to19minutes:135\ncommutelength20to24minutes:153\ncommutelength25to29minutes:157\ncommutelength30to34minutes:158\ncommutelength35to39minutes:160\nFinally, an instruction was given to the prompt concerning what the desired output\nshouldcomprise.Thiswasalsocommonforallpromptsassessedandispresentedasfol-\nlows:\nIn the third person, write a description of the neighborhood in no more than 500 words.\nDon’t mention the speciﬁc scores from the #DATA#, and instead use descriptive words to\nillustrateratesthatareaboveorbelowthenationalaverage.\nIt was necessary to add prompt context to not cite speciﬁc scores, as without this ad-\nditional instruction the outputs tended to include scores by default which were deemed\nto be undesirable. As an illustrative example of an output, the following description was\ncreated by GPT 4 for Cluster A2.\nTheneighborhoodisadiverseandfamily-orientedcommunity,withasigniﬁcantpresence\nof Black or African American residents, as well as a notable mix of individuals of two or\nmoreracesandthreeormoreraces.Theareaispredominantlycomposedofhouseholdsliv-\ningwithbiological,adopted,orstepchildren,andaconsiderablenumberofhouseholdswith\ngrandchildren.Marriageisquitecommon,withahigher-than-averagenumberofmarried\ncouplefamilies.\nThe age distribution in the area is fairly average, with a slightly larger population of\nwomen aged 55 to 69 years. The neighborhood is also characterized by a high number of\nseniors who speak Asian and Paciﬁc Island languages.\nWhen it comes to work and commuting, residents of the neighborhood are more likely to\nworkinthesamecountyastheirresidenceandhaveahigherpropensityfortravelingtowork\nby car, truck, or van. Many residents have early start times for work, particularly between\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page13of21\nmidnight and 5:59 a.m. The majority of the working population experiences commuting\nti mesof15to29m i n utes.\nIn terms of education, the area has a higher number of residents who have completed\nsome college, less than 1 year, and those with an associate’s degree. However, the number\nof individuals with advanced degrees, such as master’s, professional, or doctorate, is lower\ncompared tothenationalaverage.\nTheneighborhood’sincomedistributionismostlyfocusedaroundthemiddlerange,with\nanabove-averagenumberofhouseholdsearningbetween$60,000and$124,999annually.\nTheprevalenceoflow-incomehouseholdsislowerinthearea,andthenumberofresidents\nwithretirementincomeishigher thanthenationalaverage.\nHousing in the neighborhood is primarily owner-occupied, with a considerably lower\nnumber of renter-occupied housing units. The area features a signiﬁcant amount of de-\ntachedsingle-unitbuildings,withasubstantialprevalenceofhomesbuiltinthe1980sand\n1970s.Thenumberofvacanthousesisconsiderablylowerthanthenationalaverage.\nThe local workforce is employed in a variety of industries, with a higher-than-average\nnumber of men working in transportation and warehousing, utilities, and administrative\nand support services. Women are more likely to be employed in transportation and ware-\nhousing, utilities, ﬁnance and insurance, real estate, rental and leasing, and management\nofcompaniesandenterprises.\nOverall,theneighborhoodischaracterizedbyitsdiversepopulation,family-orientedna-\nture,strongpreferenceforowner-occupiedhousing,andaworkforcethatisengagedinvar-\niousindustries,particularlytransportationandwarehousing,utilities,andadministrative\nandsupportservices.\n6.1 ManualreviewofGPT4output\nOutputsweremanuallyassessedbycheckingthenumberofdiﬀerentattributes/factsref-\nerenced and establishing the number that were factually inaccurate, those which made\nspurioussupposition,containedrepetitionorweremissing featuresthatshouldprobably\nhavebeenconsiderednotable.Theresultsfromtheassessmentforeachclusterareshown\ninTable 4.\nOn average the returned descriptions contained around 25 facts for each cluster, and\nincluded1factualinaccuracy,verylowlevelsofsuppositionorrepetitionandalsoaround\n1 missing feature. The quality of the returned written descriptions were overall very ac-\ncurate, and written in an accessible and clear style. Although each description contained\na very small level of error, we would still advocate that these require human intervention\nto check the results, following similar processes as building traditional geodemographic\ndescriptive proﬁles [19]. Where factual inaccuracies occurred these were reasonably un-\npredictable,anddidnotfocusonanyparticularareaofdescription.Attheirmostextreme,\nthesetooktheantipodeofthedesiredoutcome.Forexample,aclusterwithhomogeneous\ncommutingmightbedescribedas“commutingpatternsintheneighborhoodarediverse”.\nMissing features tended to be very minor, and usually missed an element of a range in\nthedatatable.Forexample“withmostpeopletraveling10to19minutestowork”,should\nhave been reported as “with most people traveling 10 to 34 minutes to work”: thus, al-\nthough not classed as inaccurate as the statement is true, there is some missing detail. A\nfurtherissueobservableinsomedescriptionswereelementsofvaluejudgementorsenti-\nmentascribedtosomeofthepatterns.Thismostlyoccurredintheﬁnalparagraphofthe\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page14of21\nTable 4AccuracyChecksofGPT4GeneratedGeodemographicDescriptions\nType FactualInaccuracy Supposition Repetition MissingFeatures NotNotableFeature AttributesN\nA1 1 0 0 1 0 22\nA2 0 0 0 0 0 23\nA3 2 0 0 1 0 23\nA4 1 0 0 0 0 22\nA5 1 0 0 1 0 27\nB1 1 0 0 2 0 25\nB2 0 1 0 0 0 24\nB3 0 0 0 1 0 27\nB4 1 0 0 0 0 28\nB5 2 0 0 1 1 28\nC1 0 1 0 0 0 25\nC2 1 0 0 2 0 23\nC3 2 0 0 1 0 22\nC4 1 0 0 0 0 17\nC5 0 0 1 2 0 28\nC6 2 0 1 0 0 24\nC7 0 0 0 1 0 25\nD1 4 0 0 1 0 28\nD2 0 0 0 1 0 27\nD3 1 0 0 0 0 27\nD4 0 0 0 1 0 19\nD5 1 0 0 2 0 28\nE1 0 0 1 0 0 24\nE2 0 0 0 2 0 19\nE3 0 0 0 0 0 28\nE4 1 0 0 0 1 28\nE5 2 0 1 3 0 26\nF1 3 0 0 1 0 23\nF2 5 1 1 1 0 27\nF3 1 1 0 0 0 22\nF4 0 0 0 3 0 23\nF5 0 0 1 1 0 19\nF6 1 0 0 1 0 22\nG1 1 0 0 2 0 28\nG2 1 0 0 1 0 27\nG3 1 0 1 1 0 24\nG4 1 0 0 2 0 27\nG5 2 0 0 0 0 25\nG6 1 0 0 0 0 26\nproﬁle description (as illustrated in the presented example), which GPT 4 tends to pro-\nduceonlongeroutputsasasummaryofthetextgenerated.Wewouldarguesuchphrases\nare semantically problematic as imply a degree of ecological fallacy; that is area charac-\nteristicsbeingerroneouslyappliedtoindividuals,andacutelyinthiscasewheredriversof\nbehaviourorpreferencearenotknown.Prospectively,suchissuescanlikelybeaddressed\nthroughadditional reﬁnementtothepromptengineering technique.\nAfter the returned descriptions for Types were manually cleaned to remove inaccura-\ncies, a second application of GPT 4 was used to generate summarising names for each\ncluster. The following prompt was used, followed by each Type description. In this in-\nstance,wemanuallyranthisanumberoftimestodeveloparangeoflabels,selectingwhat\nwasmostacceptable.Aqualitativeevaluationofoutputswasmadetoensuretheserepre-\nsentedthesalientcharacteristicsofthecluster.\nIn the style of a commercial geodemographic classiﬁcation; create a cluster name that\nwould summarise the following geodemographic pen portrait. The name should capture\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page15of21\nas many diﬀerent characteristics contained within the description as possible. The cluster\nnameshouldbenomorethan3words.\nGPT4wasthenusedtogenerategroup-leveldescriptivesummariesfromtheassociated\nType descriptions. The following prompt was used, followed by the descriptions for all\nthe Types within the Group. The prompt also details how the Type descriptions will be\npresentedtoGPT4.\nThe following text represent a series of cluster descriptions from a geodemographic clas-\nsiﬁcation. Create an aggregate description that summarises the key characteristics of all\nthe clusters. This should describe the age proﬁle, racial composition and language diver-\nsity, types of housing, commuting characteristics and modes of transport, and the types of\nemployment.\nThis should be no more than 300 words. Each cluster description starts with a name,\nfollowedbythedescription. Eachclusterdescription isseparatedby“##########”.\nFinally,oncetheGroupdescriptionswerecreatedandchecked,thepreviouslyspeciﬁed\npromptthatwasusedtogeneratenamesfortheTypeswasthenappliedtoeachofGroup\ndescriptions. TheﬁnalGroupandTypehierarchyispresentedTable 5.\n7 Classiﬁcationevaluation\nGeodemographic classiﬁcation systems require two types of evaluation to ensure their\nutility.Theﬁrstisacheckoftheinternalconsistency,designedtomakesurethattheclus-\nters are homogeneous, and have similar amounts of internal variability [4, 19, 23]. This\nprovides potential users with insights into the levels of certainty associated with the as-\nsignmentofBlockGroupstospeciﬁcGroupsorTypes,aswellasidentifyinganypotential\ngeographicalbiases.\nThe second type of evaluation establishes the utility of the classiﬁcation for describing\nsocial and economic phenomena in the real world. This type of evaluation is designed to\ntesttheabilityoftheresultinggeodemographicclassiﬁcationtoproviderichmultivariate\ninsightsintosomerealworldevent,policy,oraction.\n7.1 Internalevaluation\nAusefulmeasureofclusterﬁtisthewithinsumofsquaredistancebetweentheinputmea-\nsures of each Block Group to the values of their assigned cluster centroid. Larger scores\nindicate areasthat ﬁtless well, whereassmallerscoresrepresent areaswith input proﬁles\nthat are closer to the cluster average. These scores were calculatedforall input areasand\nare presented by Groups and Types in Fig.4a n da ls om a p pedt oe x p l o r et h e i rg eo gr a p h y\ninFig. 5.\nSome of the lowest error rates are found within Group C: Aging Agricultural Settlers,\npertaining to areas that are predominantly more rural and have more stable aging pop-\nulations. An interesting exception to this is Type C6: Mature Rural Dwellers, which has\na tendency to be found in areas that are particularly remote and low density, and the er-\nror may be a result of wider margins of error associated with the ACS in these locations.\nGroup D: Diverse Aﬄuent Professionals have relatively low error that is reasonably uni-\nformovertheTypes.Thesearemostlyfamilyareasthatmightbeconsideredmorestable,\nexhibiting features such as high income, larger housing and a well-educated and profes-\nsionaldemographic.GroupF:EconomicAdversityhasmoremixederroracrossthenested\nTypes,acutelyinthoseareaswithgreateroverrepresentationofnon-whiteracialgroups.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page16of21\nTable 5GroupandTypeLabels\nGroups Types\nA:CommutingFamilies A1 MulticulturalCommuterCommunities\nA2 DiverseFamilyCommuters\nA3 DiverseEarly-RiserFamilies\nA4 MulticulturalSunriseLaborers\nA5 SeniorSuburbanStability\nB:YoungProfessionals B1 MulticulturalUrbanProfessionals\nB2 DiverseMultilingualCommuters\nB3 YouthfulAcademicDiversity\nB4 YoungUrbanites\nB5 MulticulturalUrbanAchievers\nC:AgingAgriculturalSettlers C1 ElderlyAgriculturalEnclave\nC2 AgingRuralHaven\nC3 DiverseElders’Enclave\nC4 AgriculturalEmploymentHub\nC5 ModestAgriculturalSettlers\nC6 MatureRuralDwellers\nC7 Mature,RuralHomesteaders\nD:ProsperousProfessionals D1 AﬄuentMatureFamilies\nD2 DiverseFamilyProfessionals\nD3 DiverseAgingAﬄuents\nD4 ProsperousMulticulturalProfessionals\nD5 MultilingualProfessionalCommunity\nE:CulturallyRichAchievers E1 AﬄuentEducatedElders\nE2 DiverseProfessionalEnclave\nE3 EducatedCommutingProfessionals\nE4 AﬄuentElderlyEnclave\nE5 MatureMulticulturalSettlement\nF:EconomicAdversity F1 Lower-IncomeAgriculturalCommunity\nF2 YoungMultilingualCommuters\nF3 Lower-IncomeEthnicMeltingPot\nF4 DiverseCulturalMosaic\nF5 StrugglingServiceWorkers\nF6 UrbanEconomicStrugglers\nG:UrbanMeltingPot G1 DiverseYoungRenters\nG2 DiverseCommuterCommunity\nG3 Low-IncomeMultilingualRenters\nG4 EconomicallyChallengedCommuters\nG5 MultigenerationalLatinoEnclaves\nG6 DiverseLow-IncomeCommunity\nThe error map shown in Fig.5does not highlight any particular geographic areas of spe-\nciﬁc concern, but does reiterate that in more isolated areas (visible in large block group\nzones),thereisatendencyforgreatererror,whichasdiscussed,ispickedupinsomeofthe\nType level patterns. The purpose of this internal validation is to provide additional guid-\nance on the salience of the patterns and where (Geography, Groupsor Types) robustness\nofapplicationsmightbegiven extrascrutiny.\n7.2 Externalevaluation:evictionsintheUnitedStates\nThe 2016 bookEvicted by Matthew Desmond is an ethnographic look at eviction in Mil-\nwaukee, Wisconsin. The book shed light on an understudied aspect of the housing crisis\nin America and led to the creation of the Eviction Data Lab at Princeton University. This\nlab tracks eviction ﬁlings at the block group level for much of the United States. Eviction\nis a complex phenomenon rooted in poverty, race, built environment, housing markets,\nfamilystructure,andmore.Duetoitsmultidimensionalnature,itisaninterestingwayto\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page17of21\nFigure4 ABoxandWhiskerPlotoftheErrorMetricbyTypesandGroups\nFigure5 ANationalMapoftheErrorMetric\ndemonstratetheutilityofahigh-dimensionaltypologyofneighbourhoods.Thecomplex-\nity of eviction and the imprecision of data from the American Community Survey at the\nblock-group level make a variable-by-variable approach to eviction untenable. A holistic\nunderstanding of patterns in eviction ﬁlings can be diﬃcult, a variable-by-variable anal-\nysis would fail to capture interactions, and a regression model would be unwieldy (due\nto those same interactions). This makes the geodemographic approach ideally suited to\nunderstandingthese patterns.\nAlthoughnationalpatternsclearlyshowthatsometypesofneighbourhoodhaveamuch\nhigherevictionratethanothers 6,geodemographicclassiﬁcationsalsoallowthedisaggre-\ngationoftrends.Forexample,Fig. 7showstrendsinevictionsovertimeforclusterswithat\nleast5000evictionsbetween2000and2018.Thegroup“DiverseCommuterCommunity”\nis a highly racially diverse group, with 10x the national average public transit ridership\nlong commutes, and many pre-war large (10 or more unit) multifamily buildings. This\nparticular conﬁguration of the built environment only really exists in larger, older Amer-\nican cities. The population has far fewer people with college and advanced degrees than\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page18of21\nFigure6 Evictionﬁlingrate(evictionsﬁledper100rentalunits)byclustertype\nthe national average. However, in New York another type of block group with high evic-\ntionratesis“MulticulturalUrbanAchievers”,inthatithasveryhighlevelsofeducational\nattainment, and many more residents have advanced degrees than the national average.\nWhilebothofthesetypesofblockgrouparediverseurbanareaswithanolderdensehous-\ningstockandtheirbuiltenvironmentmightlooksimilartothecasualobserver,theyhave\nverydiﬀerent populations.\nValidating any geodemographic classiﬁcation is diﬃcult, but we would argue that our\nmodel’s ability to separate classes of block groups with diﬀerent eviction rates, in a way\nthat provides insights is a useful validation of utility. There are of course some caveats,\nwhile eviction happens to people and families, our data describe places (block groups),\nand the characteristics of the block group might not apply to the people being evicted.\nEveniftheclassiﬁcationonlyhelpsresearchersaskbetterquestions,wethinkithasvalue.\n8 Discussionandconclusion\nIn this research, we addressed the challenges posed by the geographic-demographic res-\nolution trade-oﬀ in the United States by creating a new way of working with the Amer-\nican Community Survey (ACS). Recognizing the limitations of existing geodemographic\nsystems, we introduced an AI-based, open-source geodemographic classiﬁcation system\nfor the United States, leveraging small area estimates from the ACS. Our methodology\nemployedapartitioningclusteringalgorithm,consideringarangeofsocio-economic,de-\nmographic,andbuiltenvironment variables.\nA signiﬁcant innovation in our approach was the integration of AI through the GPT4\nlargelanguagemodelandretrievalaugmentedgeneration.Thisintegrationfacilitatedthe\nautomated generation of intuitive cluster descriptions and names, marking the ﬁrst ap-\nplicationofnaturallanguageprocessinginacademicgeodemographicresearch.However,\nwe do not argue that such innovations should be implemented uncritically. The integra-\ntion of AI into geodemographic research workﬂows in the way that is presented in this\npaper necessitates a comprehensive framework that not only leverages the eﬃciency and\ncapabilities of the AI, but also safeguards end users against potential biases and ethical\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page19of21\nFigure7 EvictionﬁlingratebyyearforNewYorkState.Clusterswithmorethan5000evictionsﬁledfrom\n2000-2018\nissues. As we argued in this paper, having a “human in the loop” as part of the process of\noutputcreationandqualityevaluationiscriticallyimportant,andtherearesomeinterest-\ningprospectiveresearchchallengesaroundhowsuchprocessescouldbebettersupported\nthrough automation, both in terms of human computer interaction evaluation related to\nprospectiveinterfacestosuchmodels,andhowthemanualvalidationofGPT4outputsas\npresented here might be supported through greater automation. Furthermore, the wider\ntheoperationaluseofanyclassiﬁcationwithgenerativeAIoutputs,thegreaterthepoten-\ntial for any inherent bias or negative eﬀects to be realised. As with any geodemographic\nclassiﬁcation that has expected wide use, we would advocate that stakeholders are con-\nsulted as an integral part of the design, development and evaluation process. We would\nargue that this is good practice in general, and has been exempliﬁed in the past three\neditions of the UK ONS Output Area Classiﬁcation that have been compiled after each\nCensus from 2001-2021 [19,20, 22] .E l s ew h e r ew ea l s oh a v ea r gu edf o rt h ed ev e l o p m e n t\nof public interfaces to geodemographic classiﬁcations enabling wider consultation and\nfeedbacktobegathered[ 24].\nOurclassiﬁcationorganizedtheUSinto7distinctGroups,furtherdividedinto39Types,\neachaccompaniedbydescriptive pen portraits.This structureprovidesa comprehensive\nand nuanced understanding of the diverse geodemographic landscape of the US. Valida-\ntionofourclassiﬁcationsystemwasacrucialstepinensuringitsreliabilityandapplicabil-\nity. Through internal and external evaluation we ensured that our geodemographic clus-\nters accurately represent the underlying data and could be eﬀectively used in real-world\napplicationsthroughastudyofnationaleviction rates.\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page20of21\nThispapercontributessigniﬁcantlytotheﬁeldofgeodemographicsbyoﬀeringatrans-\nparent,reproducibleandanadaptableclassiﬁcationsystem;withtheintegrationandeval-\nuationofadvancedAImodelslikeGPT4demonstratingapplicabilityforfuturegeodemo-\ngraphicresearch.\nAbbreviations\nACS,AmericanCommunitySurvey;API,ApplicationProgrammingInterface;GPT4,GenerativePre-trainedTransformer4;\nLLM,LargeLanguageModel;WCSS,WithinClusterSumofSquares.\nAuthorcontributions\nAuthorswereequalparticipantsintheconception,methodologicaldevelopment,implementationandcoding,analysis\nofresultsandthepreparationofthemanuscript.Allauthorsreadandapprovedtheﬁnalmanuscript.\nFunding\nThisworkwasfundedbyESRCgrantES/L011840/1.\nDataavailability\nThegeodemographicsegmentationofAmericanBlockGroupsdescribedinthispaperisavailablefromtheauthorsorat\nhttps://github.com/alexsingleton/US_Geodemographic.AlldatausedinthisstudyareopenandavailablefromtheUS\nCensusBureau( https://www.census.gov/data.html).Thispaperaccessedthesedatathrough:\nhttps://walker-data.com/tidycensus/index.htmlwhichlinkstotheUSCensusBureauAPI.\nCodeavailability\nCodeforthisstudyisavailableonGithub: https://github.com/alexsingleton/US_Geodemographic.\nDeclarations\nCompetinginterests\nTheauthorsdeclarethattheyhavenocompetinginterests.\nAuthordetails\n1GeographicDataScienceLab,UniversityofLiverpool,RoxbyBuilding,74BedfordStSouth,L697ZT,Liverpool,UK.\n2Microsoft,1650CanyonBlvd.,CO80302,Boulder,USA.\nReceived:27October2023 Accepted:18March2024\nReferences\n1. SpielmanSE,FolchDC(2015)ReducinguncertaintyintheAmericancommunitysurveythroughdata-driven\nregionalization.PLoSONE10(2):0115626. https://doi.org/10.1371/journal.pone.0115626\n2. BureauUC(2018)Blockgroupsforthe2020census-proposedcriteria. https://www.federalregister.gov/documents/\n2018/02/15/2018-02624/block-groups-for-the-2020-census-proposed-criteria.Accessed2023-10-27\n3. AbbottA(1997)Oftimeandspace:thecontemporaryrelevanceoftheChicagoschool.SocForces75(4):1149–1182\n4. SpielmanSE,SingletonA(2015)StudyingneighborhoodsusinguncertaindatafromtheAmericancommunity\nsurvey:acontextualapproach.AnnAssocAmGeogr105(5):1003–1025.\nhttps://doi.org/10.1080/00045608.2015.1052335\n5. SuT,SunM,FanZ,NoymanA,PentlandA,MoroE(2022)Rhythmofthestreets:astreetclassiﬁcationframework\nbasedonstreetactivitypatterns.EPJDataSci11:43. https://doi.org/10.1140/epjds/s13688-022-00355-5\n6. ZignaniM,QuadriC,GaitoS,RossiGP(2019)Urbangroups:behavioranddynamicsofsocialgroupsinurbanspace.\nEPJDataSci8:8. https://doi.org/10.1140/epjds/s13688-019-0187-7\n7. WebberR,BurrowsR(2018)Thepredictivepostcode:thegeodemographicclassiﬁcationofBritishsociety,1stedn.\nSAGE,LosAngeles.OCLC:1028809809\n8. HarrisR,SleightP,WebberR(2005)Geodemographics,GISandneighbourhoodtargeting.MasteringGIS.Wiley,West\nSussex\n9. ClarkS,LomaxN,MorrisMA(2017)Classiﬁcationofwestminsterparliamentaryconstituenciesusinge-petitiondata.\nEPJDataSci6:16. https://doi.org/10.1140/epjds/s13688-017-0113-9\n10. ReibelM(2011)Classiﬁcationapproachesinneighborhoodresearch:introductionandreview.UrbanGeogr\n32(3):305–316.https://doi.org/10.2747/0272-3638.32.3.305\n11. BateyP,BrownP,PembertonS(2008)MethodsforthespatialtargetingofurbanpolicyintheUK:acomparative\nanalysis.ApplSpatAnalPolicy1(2):117–132. https://doi.org/10.1007/s12061-008-9007-3\n12. WeissMJ(2000)Theclusteredworld:howwelive,whatwebuy,andwhatitallmeansaboutwhoweare.Little,\nBrownandCompany,Boston\n13. SingletonAD,SpielmanS,BrunsdonC(2016)Establishingaframeworkforopengeographicinformationscience.Int\nJGeogrInfSci30(8):1507–1521. https://doi.org/10.1080/13658816.2015.1137579\n14. PalmR,CarusoD(1972)Factorlabellinginfactorialecology.AnnAssocAmGeogr62(1):122–133\n15. LiuY,SingletonA,Arribas-BelD(2019)APrincipalComponentAnalysis(PCA)-basedframeworkforautomated\nvariableselectioningeodemographicclassiﬁcation.Geo-SpatInfSci22(4):251–264.\nhttps://doi.org/10.1080/10095020.2019.1621549\nSingletonandSpielman EPJDataScience           (2024) 13:34 Page21of21\n16. WalkerK,HermanM(2023)Tidycensus:loadUSCensusBoundaryandAttributeDataas‘tidyverse’and‘sf’-Ready\nDataFrames.Rpackageversion1.3.2. https://walker-data.com/tidycensus/\n17. SingletonAD,SpielmanSE(2014)Thepast,present,andfutureofgeodemographicresearchintheUnitedStatesand\nUnitedKingdom.ProfGeogr66(4):558–567. https://doi.org/10.1080/00330124.2013.848764\n18. SpielmanSE,ThillJ-C(2008)Socialareaanalysis,datamining,andGIS.ComputEnvironUrbanSyst32(2):110–122.\nhttps://doi.org/10.1016/j.compenvurbsys.2007.11.004\n19. GaleCG,SingletonAD,BatesAG,LongleyPA(2016)Creatingthe2011areaclassiﬁcationforoutputareas(2011OAC).\nJSpatInfSci12(2016):1–27. https://doi.org/10.5311/JOSIS.2016.12.232\n20. VickersD,ReesP(2007)CreatingtheUKnationalstatistics2001outputareaclassiﬁcation.JRStatSoc,SerA,StatSoc\n170(2):379\n21. YazgiWalshB,BrunsdonC,CharltonM(2021)Opengeodemographics:classiﬁcationofsmallareas,Ireland2016.\nApplSpatAnalPolicy14(1):51–79. https://doi.org/10.1007/s12061-020-09343-6\n22. WyszomierskiJ,LongleyPA,SingletonA,GaleC,O’BrienO(2023)Aneighbourhoodoutputareaclassiﬁcationfrom\nthe2021and2022UKcensuses.GeogrJ(inpress).eprint:\nhttps://onlinelibrary.wiley.com/doi/pdf/10.1111/geoj.12550.Accessed2023-11-22.\nhttps://doi.org/10.1111/geoj.12550\n23. SingletonAD,LongleyP(2015)TheinternalstructureofGreaterLondon:acomparisonofnationalandregional\ngeodemographicmodels.Geo:GeogrEnviron2(1):69–87. https://doi.org/10.1002/geo2.7\n24. LongleyPA,SingletonAD(2009)Classiﬁcationthroughconsultation:publicviewsofthegeographyoftheE-society.\nIntJGeogrInfSci23(6):737–763\nPublisher’sNote\nSpringerNatureremainsneutralwithregardtojurisdictionalclaimsinpublishedmapsandinstitutionalaﬃliations.",
  "topic": "Computer science",
  "concepts": [
    {
      "name": "Computer science",
      "score": 0.6924436092376709
    },
    {
      "name": "Geospatial analysis",
      "score": 0.6514366865158081
    },
    {
      "name": "Data science",
      "score": 0.6080982685089111
    },
    {
      "name": "Cluster analysis",
      "score": 0.5943703055381775
    },
    {
      "name": "Domain (mathematical analysis)",
      "score": 0.4990274906158447
    },
    {
      "name": "Pipeline (software)",
      "score": 0.45590323209762573
    },
    {
      "name": "Range (aeronautics)",
      "score": 0.4260585308074951
    },
    {
      "name": "American Community Survey",
      "score": 0.42202073335647583
    },
    {
      "name": "Natural language",
      "score": 0.4105529487133026
    },
    {
      "name": "Data mining",
      "score": 0.39653295278549194
    },
    {
      "name": "Artificial intelligence",
      "score": 0.35308241844177246
    },
    {
      "name": "Geography",
      "score": 0.29171276092529297
    },
    {
      "name": "Cartography",
      "score": 0.16030040383338928
    },
    {
      "name": "Population",
      "score": 0.11238199472427368
    },
    {
      "name": "Composite material",
      "score": 0.0
    },
    {
      "name": "Mathematics",
      "score": 0.0
    },
    {
      "name": "Sociology",
      "score": 0.0
    },
    {
      "name": "Census",
      "score": 0.0
    },
    {
      "name": "Programming language",
      "score": 0.0
    },
    {
      "name": "Materials science",
      "score": 0.0
    },
    {
      "name": "Demography",
      "score": 0.0
    },
    {
      "name": "Mathematical analysis",
      "score": 0.0
    }
  ],
  "institutions": [
    {
      "id": "https://openalex.org/I146655781",
      "name": "University of Liverpool",
      "country": "GB"
    },
    {
      "id": "https://openalex.org/I1290206253",
      "name": "Microsoft (United States)",
      "country": "US"
    }
  ],
  "cited_by": 5
}