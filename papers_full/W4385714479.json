{
    "title": "CORAL: Expert-Curated medical Oncology Reports to Advance Language Model Inference",
    "url": "https://openalex.org/W4385714479",
    "year": 2023,
    "authors": [
        {
            "id": "https://openalex.org/A5009516496",
            "name": "Madhumita Sushil",
            "affiliations": [
                "University of California, San Francisco"
            ]
        },
        {
            "id": "https://openalex.org/A5090273676",
            "name": "Vanessa E. Kennedy",
            "affiliations": [
                "UCSF Helen Diller Family Comprehensive Cancer Center",
                "University of California, San Francisco"
            ]
        },
        {
            "id": "https://openalex.org/A5046846922",
            "name": "Divneet Mandair",
            "affiliations": [
                null
            ]
        },
        {
            "id": "https://openalex.org/A5035909569",
            "name": "Brenda Y. Miao",
            "affiliations": [
                "UCSF Helen Diller Family Comprehensive Cancer Center",
                "University of California, San Francisco"
            ]
        },
        {
            "id": "https://openalex.org/A5024959372",
            "name": "Travis Zack",
            "affiliations": [
                "UCSF Helen Diller Family Comprehensive Cancer Center",
                "University of California, San Francisco"
            ]
        },
        {
            "id": "https://openalex.org/A5036068985",
            "name": "Atul J. Butte",
            "affiliations": [
                "University of California Office of the President",
                "UCSF Helen Diller Family Comprehensive Cancer Center",
                "University of California, San Francisco"
            ]
        }
    ],
    "references": [
        "https://openalex.org/W4220989182",
        "https://openalex.org/W4327810158",
        "https://openalex.org/W4310964482",
        "https://openalex.org/W2549158913",
        "https://openalex.org/W4362522726",
        "https://openalex.org/W4361289889",
        "https://openalex.org/W4287703745",
        "https://openalex.org/W3037109418",
        "https://openalex.org/W4384071683",
        "https://openalex.org/W3118564271",
        "https://openalex.org/W4281250694",
        "https://openalex.org/W2765488845",
        "https://openalex.org/W79139011",
        "https://openalex.org/W4313451803",
        "https://openalex.org/W3031326204",
        "https://openalex.org/W2940935157",
        "https://openalex.org/W4360891289",
        "https://openalex.org/W3194230338",
        "https://openalex.org/W4383223222",
        "https://openalex.org/W2766919434",
        "https://openalex.org/W4221143046",
        "https://openalex.org/W2967056613",
        "https://openalex.org/W2978612210",
        "https://openalex.org/W3012916248",
        "https://openalex.org/W2146089916",
        "https://openalex.org/W4292779060",
        "https://openalex.org/W4362521774",
        "https://openalex.org/W2797227230",
        "https://openalex.org/W3022924136",
        "https://openalex.org/W4385573087"
    ],
    "abstract": "Both medical care and observational studies in oncology require a thorough understanding of a patient's disease progression and treatment history, often elaborately documented in clinical notes. Despite their vital role, no current oncology information representation and annotation schema fully encapsulates the diversity of information recorded within these notes. Although large language models (LLMs) have recently exhibited impressive performance on various medical natural language processing tasks, due to the current lack of comprehensively annotated oncology datasets, an extensive evaluation of LLMs in extracting and reasoning with the complex rhetoric in oncology notes remains understudied. We developed a detailed schema for annotating textual oncology information, encompassing patient characteristics, tumor characteristics, tests, treatments, and temporality. Using a corpus of 40 de-identified breast and pancreatic cancer progress notes at University of California, San Francisco, we applied this schema to assess the zero-shot abilities of three recent LLMs (GPT-4, GPT-3.5-turbo, and FLAN-UL2) to extract detailed oncological history from two narrative sections of clinical progress notes. Our team annotated 9028 entities, 9986 modifiers, and 5312 relationships. The GPT-4 model exhibited overall best performance, with an average BLEU score of 0.73, an average ROUGE score of 0.72, an exact-match F1-score of 0.51, and an average accuracy of 68% on complex tasks (expert manual evaluation on subset). Notably, it was proficient in tumor characteristic and medication extraction, and demonstrated superior performance in relational inference like adverse event detection. However, further improvements are needed before using it to reliably extract important facts from cancer progress notes needed for clinical research, complex population management, and documenting quality patient care.",
    "full_text": "CORAL:expert-CuratedmedicalOncologyReportstoAdvanceLanguagemodel\ninference\nMadhumitaSushil\n1,*\n, VanessaE. Kennedy\n2,#\n, DivneetMandair\n2,#\n, BrendaY. Miao\n1\n, Travis\nZack\n1,2,†\n, AtulJ. Butte\n1,2,3,4,†\n1.BakarComputationalHealthSciencesInstitute,UniversityofCalifornia,SanFrancisco,USA\n2.HelenDillerFamilyComprehensiveCancerCenter,UniversityofCalifornia,SanFrancisco,USA\n3.CenterforData-drivenInsightsandInnovation,UniversityofCalifornia,OﬃceofthePresident,\nOakland,CA,USA\n4.DepartmentofPediatrics,UniversityofCalifornia,SanFrancisco,CA,94158,USA\n*CorrespondingAuthor\nEmailID:Madhumita.Sushil@ucsf.edu\nBakarComputationalHealthSciencesInstitute,490IllinoisStreet,Cubicle2215,2ndFl,NorthTower,\nSanFrancisco,CA94143\nTelephone:+1(415)-514-1971\n#Equalcontributionasthesecondauthor\n†Equalcontributionastheﬁnalauthor\n1\nAbstract\nBackground:Bothmedicalcareandobservationalstudiesinoncologyrequireathoroughunderstanding\nofapatient'sdiseaseprogressionandtreatmenthistory,oftenelaboratelydocumentedwithinclinical\nnotes.Aslargelanguagemodels(LLMs)arebeingconsideredforusewithinmedicalworkﬂows,it\nbecomesimportanttoevaluatetheirpotentialinoncology.However,nocurrentinformationrepresentation\nschemafullyencapsulatesthediversityofoncologyinformationwithinclinicalnotes,andno\ncomprehensivelyannotatedoncologynotesexistpublicly,therebylimitingathoroughevaluation.\nMethods:Wecuratedanewﬁne-grained,expert-labeleddatasetof40de-identiﬁedbreastandpancreatic\ncancerprogressnotesatUniversityofCalifornia,SanFrancisco,andassessedtheabilitiesofthreerecent\nLLMs(GPT-4,GPT-3.5-turbo,andFLAN-UL2)inzero-shotextractionofdetailedoncological\ninformationfromtwonarrativesectionsofclinicalprogressnotes.Modelperformancewasquantiﬁed\nwithBLEU-4,ROUGE-1,andexactmatch(EM)F1-scoremetrics.\nResults:Ourteamannotated9028entities,9986modiﬁers,and5312relationships.TheGPT-4model\nexhibitedoverallbestperformance,withanaverageBLEUscoreof0.73,anaverageROUGEscoreof\n0.72,anaverageEM-F1-scoreof0.51,andanaverageaccuracyof68%(expertmanualevaluationon\nsubset).Notably,GPT-4wasproﬁcientintumorcharacteristicandmedicationextraction,and\ndemonstratedsuperiorperformanceinadvancedreasoningtasksofinferringsymptomsduetocancerand\nconsiderationsoffuturemedications.Commonerrorsincludedpartialresponseswithmissinginformation\nandhallucinationswithnote-speciﬁcinformation.\n2\nConclusions:Bydevelopingacomprehensiveschemaandbenchmarkofoncology-speciﬁcinformation\ninoncologynotes,weuncoveredboththestrengthsandlimitationsofLLMs.Ourevaluationshowed\nvariablezero-shotextractioncapabilityoftheGPT-3.5-turbo,GPT-4,andFLAN-UL2models,and\nhighlightedaneedforfurtherimprovements,particularlyincomplexmedicalreasoning,before\nperformingreliableinformationextractionforclinicalresearch,complexpopulationmanagement,and\ndocumentingqualitypatientcare.\nIntroduction\nCancercareiscomplex,ofteninvolvingmultipletreatmentsacrossdiﬀerentinstitutions,withthemajority\nofthiscomplexityonlybeingcapturedwithinthetextualformatofanoncologist’sclinicalnote.Optimal\nclinicaldecision-makingaswellasresearchstudiesbasedonreal-worlddatarequireanuancedand\ndetailedunderstandingofthiscomplexity,naturallyleadingtowide-spreadinterestinoncology\ninformationextractionresearch\n1\n.Recently,largelanguagemodels(LLMs)haveshownimpressive\nperformanceonseveralnaturallanguageprocessing(NLP)tasksinmedicine,includingobtaininghigh\nscoresonUnitedStatesMedicalLicensingExamination(USMLE)questions\n2,3\n,medicalquestion\nanswering\n4\n,promisingperformanceformedicalconsultation,diagnosis,andeducation\n5\n,identifyingkey\nﬁndingsfromsyntheticradiologyreports\n6\n,biomedicalevidenceandmedicationextractionextraction\n7\n,and\nbreastcancerrecommendations\n8\n.However,duetothelackofpubliclyavailableandcomprehensively\nannotatedoncologydatasets,theanalysisoftheseLLMsforinformationextractionandreasoningin\nreal-worldoncologydataremainsfragmentedandunderstudied.\nTodate,priorstudiesononcologyinformationextractionhaveeitherfocusedonelementsrepresented\nwithinICD-O3codesorcancerregistries\n9,10\n,oronasubsetofcancer-orproblem-speciﬁcinformation\n11–15\n.\nNoexistinginformationrepresentationandannotationschemaisadeptenoughtoencompass\n3\ncomprehensivetextualoncologyinformationinaproblem-,notetype-,anddisease-agnosticmanner.\nAlthoughsimilarframeworksarebeingcreatedfortabularoncologydata\n16\n,eﬀortsfortextualdatasources\nhavebeenlimitedtopilotstudies\n17\n,surveysofoncologyelementsstudiedacrossdiﬀerentresearch\ncontributions\n18,19\n,anddomain-speciﬁcschemas\n20\n.Inthisresearch,weaimtodevelopanexpert-labeled\noncologynotedatasettoenableevaluationofLLMsinextractingclinicallymeaningful,complexconcepts\nandrelationsby:(a)developingaschemaandguidelinesforcomprehensivelyrepresentingandannotating\ntextualoncologyinformation,(b)creatingadatasetof40oncologyprogressnoteslabeledaccordingto\nthisschema,and(c)benchmarkingthebaselineperformanceoftherecentLLMsforzero-shotextraction\nofoncologyinformation.SampleworkﬂowisdemonstratedinFigureS1(SupplementaryMaterials).\nMethods\nOncology-speciﬁcinformationrepresentationschema\nToholisticallyrepresentoncologyinformationwithinclinicalnotes,wedevelopedadetailedschema\nbasedonahierarchical,conceptualstructureofoncologyinformation(alsocalledframesemantics)\n17,18,20\n,\nagnostictocancerandnotetypesunderconsideration.Itcomprisedofthefollowingbroadconcepts:\npatientcharacteristics,temporalinformation,location-relatedinformation,test-relatedinformation,test\nresults-relatedinformation,tumor-relatedinformation,treatment-relatedinformation,procedure-related\ninformation,clinicaltrial,anddiseasestate.Broadconceptsfurtherencompassedexpert-determined\nﬁne-grainedconcepts,forexample,radiologytest,genomictest,anddiagnosticlabtestwererepresented\nwithinthe“tumortest”category.Theschemawasimplementedthroughthreeannotationmodalities:a)\nentitiesorphrasesofspeciﬁctypes,b)attributesormodiﬁersofentities,andc)relationsbetweenentity\npairs.Theserelationscouldeitherbe(i)descriptive,forexamplerelatingabiomarkernametoitsresults,\n(ii)temporal,forexampleindicatingwhenwasatestconducted,or(iii)advanced,forexample,relatinga\n4\ntreatmenttoadverseeventscausedduetoit.Together,theschemacomprisedof59uniqueentities,23\nattributes,and26relations(SupplementaryMaterials,TableS1).—Theconceptsandrelationships\nannotatedwithinthisnewschemaincorporatenuanceddetailslikesymptomhistoryattributedtothe\ndiagnosedcancer,clinicaltrialsconsideredforpatientenrollment,genomicﬁndings,reasonsforswitching\ntreatments,anddetailedsocialhistoryofthepatientnototherwiserepresentedincancerregistriesand\nstructuredmedicalrecord,andaresigniﬁcantlymoreinclusiveandspeciﬁcthanthoseextractedby\nexistingclinicalNLPpipelineslikecTakes\n21 \nandDeepPhe\n22\n.Anopenly-availableclinicalNLPmodel,\nStanza\n23,24\n,wasusedtopre-highlightthementionsofproblems,treatments,andtestswithintexttoaidthe\nannotators.Elaborate annotationguidelinesareprovidedinthesupplementarymaterials,andthe\nannotationschemaintheformatofanopen-sourceannotationsoftware,BRAT\n1\n,issharedalongwiththe\nsourcecodeathttps://github.com/MadhumitaSushil/OncLLMExtraction.\nData\nWecollected20breastcancerand20pancreaticcancerpatientsfromtheUniversityofCalifornia,San\nFrancisco(UCSF)InformationCommons,containingpatientdatabetween2012–2022,de-identiﬁedas\npreviouslydescribed\n25\n.Alldateswithinnoteswereshiftedbyarandom,patient-leveloﬀsettomaintain\nanonymity\n25\n.Onlypatientswithcorrespondingtabularstagingdata,documenteddiseaseprogression,and\nanassociatedmedicaloncologynotewereconsideredfordocumentsampling.Somegenesymbols,\nclinicaltrialnamesandcancerstageswereinappropriatelyredactedinourautomatedhandling,andthese\nweremanuallyaddedbacktotheclinicalnotesundertheUCSFIRB#18-25163and#21-35084.These\ntwodiseaseswerechosenfortheirdissimilarity—whilebreastcancerisfrequentlycurable,heavily\nreliantonbiomarkerandgenetictestingandtreatmentplansintegratingradiation,surgical,andmedical\noncology,pancreaticcancerhashighmortalityrates,andhighlytoxictraditionalchemotherapyregimens.\nAllnarrativesectionsexceptdirectcopy-forwardsofradiologyandpathologyreportswereannotated\n1 \nhttps://brat.nlplab.org/\n5\nusingtheknowledgeschemadescribedabovebyoneoftwooncologyfellowsand/oramedicinestudent.\nThisresultedinaﬁnalcorpusof40expert-annotatedclinicalnotes,whichisavailablefreelythroughthe\ncontrolled-accessrepositoryPhysioNet\n2\naftersigningadata-useagreement,withadditional100notes\neachforbreastandpancreaticcancerautomaticallylabeledbyGPT-4usingthesamepromptsasthe\nbenchmarkingtestsinthisstudy.\nZero-shotLLMextractionbaseline\nToestablishthebaselinecapabilityofLLMsinextractingdetailedoncologicalhistory,weevaluatedthree\nrecentLLMswithoutanytask-speciﬁctraining(i.e.“zero-shot”extraction):theGPT-4model\n26\n,the\nGPT-3.5-turbomodel(basemodelfortheChatGPTinterface\n27\n),andtheopenly-availablefoundation\nmodelFLAN-UL2\n28 \nonthefollowingtasksderivedfromtwonarrativesectionsofclinicalprogressnotes\nforbreastandpancreaticcancer:HistoryofPresentIllness(HPI)andAssessmentandPlan(A&P):\n1) Symptompresentation:Identifyallsymptomsexperiencedbythepatient,symptomspresentat\nthetimeofcancerdiagnosis,andsymptomsexperiencedduetothediagnosedcancer,allfurther\nrelatedtothedatetimeoftheiroccurrence.\n2) Radiologytests:Listradiologytestsconductedforthepatientpairedwiththeirdatetime,siteof\nthetest,medicalindicationforthetest,andthetestresult.\n3) Genomictests:Listgeneticandgenomictestsconductedforthepatientpairedwiththe\ncorrespondingdatetimeandthetestresult.\n4) Firstcancerdiagnosisdate:Inferthedatetimefortheﬁrstdiagnosisofcancerforthepatient.\n2 \nUserswillneedtocreateanaccountonhttps://physionet.org/andsignadatauseagreementbeforedownloadingthedataset.Uponmanuscriptpublication,thedatasetwouldbesearchableusingthemanuscripttitlehere:https://physionet.org/content/.AvalidCITItrainingcertiﬁcatewillneedtobeuploadedbeforesigningtheDUA.\n6\n5) Tumorcharacteristics:Extracttumorcharacteristicsinthefollowinggroups:biomarkers,\nhistology,stage(TNMandnumeric),grade,andmetastasis(alongwiththesiteofmetastasisand\ntheprocedurethatdiagnosedmetastasis),allpairedwiththeirdatetime.\n6) Administeredprocedures:Identifyallinterventionalproceduresconductedforthepatientpaired\nwiththeirdatetime,site,medicalindication,andoutcome.\n7) Prescribedmedications:Listmedicationsprescribedtothepatient,linkedtothebeginning\ndatetime,enddatetime,reasonforprescription,continuitystatus(continuing,ﬁnished,or\ndiscontinuedearly),andanyhypotheticalorconﬁrmedadverseeventsattributedtothe\nmedication.\n8) Futuremedications:Infermedicationsthatareeitherplannedforadministrationordiscussedas\napotentialoption,pairedwiththeirconsideration(plannedorhypothetical)andpotentialadverse\neventsdiscussedinthenote.\nWeusedtheGPTmodelsviatheHIPAA-compliantMicrosoftAzureOpenAIstudioandapplication\nprogramminginterface,sothatnodatawaspermanentlytransferredtoorstoredbyMicrosoftorOpenAI\nsimilartopreviouslydescribed\n29\n.Separately,weimplementedtheopenly-availableFLAN-UL2modelon\ntheinternalcomputingenvironment.Modelinputswereprovidedintheformat{systemroledescription}\n{notesectiontext,prompt}.GPTmodelsettingsandtask-speciﬁcpromptsareprovidedinthe\nSupplementaryMaterials.Examplesofstructuredoutputformatwereprovidedwithpromptstoenable\nautomatedevaluation.\nEvaluation\nAnautomaticquantitativeevaluationwasperformedbycomparingthemanuallyannotated,relatedentity\npairstothecorrespondingmodeloutput.SinceLLMsgeneratefree-textoutputstorepresententity\nmentionsandtheirrelations,modelperformancewasquantiﬁedusingtwoevaluationmetricsfor\ncomparingpairsoftext—BLEU-4withsmoothing\n30 \nandROUGE-1\n31\n.BLEUandROUGEmetrics\n7\nquantifytheoverlapbetweensequencesofnwords(orn-grams)inthegeneratedoutputandthereference\nannotations(seeSupplementaryMaterials).TheBLEUscorequantiﬁestheprecisionofn-gramsbetween\nthemodeloutputandreferenceannotationswhilealsopenalizingveryshortoutputscomparedto\nreferences,andtheROUGEscoresimilarlyquantiﬁestherecallofn-grams,bycomparingannotated\nsnippetstomodel-generatedanswerstopenalizethemodelwhenannotationsarenotincludedinoutputs.\nFurthermore,theexactmatchF1-scorebetweenmodeloutputsandannotatedphraseswasquantiﬁedto\nevaluatethemodel’sabilityingeneratinglexically-identicaloutputs.Ofnoteisthattheexactmatch\nmetricisoverly-strict,forexample,ER+:2020andERpositive:2020areconsideredseparateanswersfor\nexactmatchscores.Additionally,theaccuracyofthebest-performingmodelwasquantiﬁedfor11entity\nextractiontasks,and20relationextractiontasksonarandomsubsetofhalfofthe notes—10notesfrom\nbreastcancerand10frompancreaticcancer—throughreviewbyanindependentoncologist.Model\noutputswerepresentedtotheoncologistastablesoftherequestedinformationbyﬁrstparsingtheGPT-4\nmodeloutputautomaticallytopopulatethetable.Forexample,thetableforradiologytestincluded\ncolumnsfortestname,datetimeofthetest,siteofthetest,reasonforthetest,andthetestresults.The\nexpertassessmentdividedeachoutputintothreebroadcategories:correct,partiallycorrect,andincorrect,\nwhichwereaggregatedtocomputemodelaccuracy.Partiallycorrectorincorrectoutputswerefurther\nsubcategorizedbasedontypesoferrors(seeSupplementaryMaterials).\nResults\nBenchmarkingdatasetcreation\nAcross40breastandpancreaticcancerprogressnotes,9028entities,9986entityattributes,and5312\nrelationshipswereannotated,demonstratingthehighdensityofclinically-relevantinformationinthe\ncomplexmedicaloncologynarratives.PatientdemographicsarepresentedinTable1,andasampleofthe\n8\nannotateddocumentationispresentedinFigure1.Manualannotationwastime-consuming;ittookthe\noncologyfellows88hourstoannotate27documents,thestudent50hourstoannotate17documents(4of\nwhichwerealsoannotatedbyafellow),andtheindependentreviewer116hourstoreviewpotentialerrors\ninannotatingall40documents.Themeaninter-annotatoragreementofentities—computedasthemean\nf1-scoreofoverlapbetweentheirentityspans\n32 \n—was0.81,indicatinghighagreement.\nTable1:Patientdemographicdistributionfortheannotateddatacohortcomprisingof40patients,\nadditionallystratiﬁedbydiseasegroup.\n9\nDemographicProperty\nCategory BreastCancer\nPancreaticCancer\nAll\nRace/Ethnicity NativeHawaiianorOtherPaciﬁcIslander 2 0 2\nLatinx 3 3 6\nNativeAmericanorAlaskaNative 1 0 1\nSouthwestAsianandNorthAfrican 1 0 1\nBlackorAfricanAmerican 4 4 8\nAsian 4 4 8\nMulti-Race/Ethnicity 0 3 3\nOther 1 2 3\nWhite 4 4 8\nUnknown/Declined 0 0 0\nGender Male 0 10 10\nFemale 20 10 30\nAgeGroup Under30 0 0 0\n31-40 6 0 6\n41-50 3 1 4\n51-60 6 4 10\n61-70 2 8 10\n71-80 2 6 8\n81-89 1 1 2\nFigure1:Asampleoftheannotatedde-identiﬁedmedicaloncologyprogressnote.Thecoloredhighlights\nrefertodiﬀerenttypesofentityspanswithintext.Thearrowsindicatetherelationsbetweenthepairof\n10\n89+ 0 0 0\n\nentitieslinked.Withintheboxnexttoentitytypes,thecorrespondingmodiﬁervaluesforthoseentitiesare\nlisted.\nDescriptionofinitialcancerdiagnosis,anddiseaseandtreatmentprogressionwereelaborately\nrepresentedwithintheannotations(Figure2).Asanticipated,pancreaticcancernotespresentedmore\npalliativeandsupportivetreatmententities,andmoresymptomsattributabletocancer.Conversely,breast\ncancernotescontainedmorediagnosticandstagingtests,aswellaslaterality,lymphnodeinvolvement\nandbiomarkers,pertainingtothemorecomplexdiagnosticandstagingworkuprequiredforthisdisease.\nTemporalrelationswerecommon(1200relations),aswereindicationsofﬁndingsfromatestor\nprocedure(566relations),andrelationsattributingadverseeventstopre-existingconditionsortreatments\n(232relations).\n11\n12\n\n(a)\n(b)\nFigure2:Distributionof:(a)theannotatedentitymentionsandtheattributevaluesfortheseentities,and\n(b)relationsintheannotatedcorpusofbreastcancermedicaloncologyprogressnotes.\nInformationExtraction\nGPT-4outperformstheGPT-3.5modelandtheFLAN-UL2model\nTheGPT-4modelperformedbetterthanGPT-3.5-turboandFLAN-UL2models(Figure3),\ndemonstrating anaverageBLEUscoreof0.73,anaverageROUGEscoreof0.72,andanaverage\nexact-matchF1(EM-F1)scoreof0.51comparedtotheaverageBLEU,ROUGE,andEM-F1scoresof\n0.61,0.58,and0.29respectivelyfortheGPT-3.5-turbomodel,and0.53,0.27,and0.06respectivelyfor\ntheFLAN-UL2model\n3\n.Performancediﬀerenceswerenotablefortasksrequiringadvancedreasoning,for\nexample,inferringsymptomspresentatthetimeofcancerdiagnosisandhypotheticaldiscussionsof\nfuturemedications.\n3\nWeadditionallyexperimentedwiththeclinical-T5-largemodel31,andLLaMA7B,LLaMA13B,andLLaMA-213Bmodels32.However,wedidnotobtainreasonableoutputsfromthesemodelsforourtask,presumablybecausetheyarenottunedontaskdescriptions,whichisknowntoimprovetheinstruction-followingabilitiesofLLMs33.\n13\n\nBestsynthesisoftumorcharacteristicsandmedicationhistory\nHighscores—0.95BLEU,0.93ROUGE,0.91EM-F1—wereobtainedbytheGPT-4modelwhen\nextractingtumorgradepairedwithtemporalinformation.Highperformanceswerealsoobtainedin\nextractingcancersummarystage(0.85BLEU,0.80ROUGE,0.69EM-F1),TNMstage(0.82BLEU,0.78\nROUGE,0.71EM-F1),andfuturemedication(0.88meanBLEU,0.84meanROUGE,0.70mean\nEM-F1),suggestingpromisingcapabilitiesintheautomatedextractionoftheseparameters.Furthermore,\ntheGPT-4modelalsodemonstrated goodperformancewithpotentialforfurtherimprovementsin\nextractinggenomicsdatetimeandresults(0.81meanBLEU,0.80meanROUGE,0.68meanEM-F1),\nradiologytestswiththeirdatetime(0.80BLEUandROUGE,0.52EM-F1),theprescribedmedications\nwiththeirstartdatetime,enddatetime,currentcontinuitystatus,potentialadverseevents,andadverse\neventsexperiencedduetothemedication(0.80meanBLEU,0.76meanROUGE,0.57EM-F1),\nsymptomswiththeirdatetime(0.71BLEU,0.74ROUGE,0.45EM-F1),metastasisextraction(0.64mean\nBLEU,0.65meanROUGE,0.44EM-F1),andforidentifyingsymptomsthatoccuredduetocancer(0.67\nBLEU,0.75ROUGE,0.5EM-F1).Lexicaldiﬀerencesbetweenannotatedinformationandmodeloutputs\nwerecommonwhenextractinglongerphrases,suchasreasonsfortestsortestresults,ascomparedto\nshortresponseslikecancergradeorstage.Theopen-sourceFLAN-UL2modelandtheGPT-3.5model\ndemonstratedhigherlexicaldiﬀerencesthantheGPT-4model,asevidentfromsigniﬁcantlylowerEM\nF1-scores.Whenextractinghistologicalsubtypesandtreatment-relevanttumorbiomarkers,themodels\nfrequentlyprovidedmoreinformationthannecessary,forexampleprovidinggrade,stage,andbiomarkers\nofatumorinadditiontotherequestedhistologicalsubtype.Thepoorestquantitativeperformancewas\nobtainedforprocedureextraction(0.58meanBLEU,0.57meanROUGE,0.33EM-F1).GPT-4model\nperformancewascomparableacrossthetwocancertypes,althoughthemodeldemonstratedmarginally\nbetterperformanceinmedicationandbiomarkerextractionforbreastcancer,andingenomicand\nprocedureextractionforpancreaticcancer(FigureS2,Supplementarymaterials).Furthermore,wedid\nnotﬁndanysigniﬁcantdiﬀerencesinmodelperformanceacrosseithermaleandfemalegenders,oracross\n14\ndiﬀerentracesandethnicitiesforanyofthethreemodelsforanyofthethreemetrics,ascomputedwith\nKruskal-WallistestwithFalsediscoveryratecorrectionbyBenjamini-Hochbergmethod(TableS2,S3:\nSupplementarymaterials).\nFigure3:MeanBLEUscores(precision-focused;ﬁrstcolumn),ROUGEscores(recall-focused;secondcolumn),\nandexact-matchF1-score(thirdcolumn)forentity-relationextractionindiﬀerentoncologytasks,groupedbythe\ncategoryofinference.Entity1Entity2onthey-axisrepresentstheperformanceforextractingthementionofentities\nEntity1andEntity2andtherebycorrectlyinferringtheirrelationship.\n15\n\nExpertevaluationconﬁrmssuperioroncologicinformationextractionability\nAmedicaloncologistadditionallyevaluatedGPT-4modeloutputsonasubsetof10breastcancerand10\npancreaticcancernotesfortheﬁrstcancerdiagnosisdate,symptoms,radiologytests,procedures,\nhistology,metastasis,andfuturemedications(Table2).Ittooktheoncologistnearly90hourstoquantify\nGPT-4modelaccuracyacross31categoriesforthe20notes.Theexpertevaluationsshowedthatthe\nGPT-4modeloutputswereoverall68%accurate,withanadditional3%ofthecasesbeingcorrect,but\nmissingsomedesiredinformationandanother1%ofthecasesdeemedtobeuncertainduetolinguistic\nambiguity.Theseﬁndingssupporttheautomatedquantitativeevaluations,highlightingtheexcellent\noncologicinformationextractionabilityoftheGPT-4model.Themostcommonerror(22%)werecases\nwherethemodelproducedoutputfromnotetext,althoughitdidnotcorrespondtotherequested\ninformation(hallucinations1;Table2:3b).Oftheremainingerrors,in6%ofthecases,themodel\nreturnedUnknowninsteadofcorrectanswers,andin1%ofthecases,themodelfabricatedinformation\n(hallucinations2;Table2:3c).\nPartialcorrectanswerswithsomemissinginformationweremostfrequentfortumorhistology,andinthe\nresultsofradiologytests.Hallucinationsfromnotetextincludedincorrectlycategorizingbiomarkers,\ngenomictests,procedures,andradiologytests,andincorrectinferencesofinformationlikesymptoms\npresentatthetimeofcancerdiagnosisorsymptomscausedduetothediagnosedcancer.Themodel\noutputinformationwithoutdirectreferencesintextmostfrequentlywheninferringwhetheramedication\nwasconsideredhypotheticallyorwasplannedforadministration,andinidentifyingthereasonsoftests\nandprocedures,forexamplespecifyingthatPET/CTwasconductedtoevaluatemetabolicactivity.\nFinally,themostcommoncaseswherethemodeloutputUnknowndespitethecorrectinformationbeing\n16\npresentinthenoteincludedmentionsofcancerhistology,futuremedications,andsymptomsdueto\ncancer.\nTable2:ExpertmanualevaluationofGPT-4outputsforasubsetofinferencecategoriesonasubsetof10breast\ncancernotes.EachnotewasﬁrstdividedintotheHistoryofPresentIllnessandAssessmentandPlansections,\ntherebyresultingininferenceover20notesnippets.EachcellrepresentsthemodeloutputsasafractionofGPT-4\noutputsinthatcategory.Whenonlyoneentityismentioned,forexampleinProcedure,thescoresrepresentthe\nextractionofthatentitybyitself.Whentwoentitiesareseparatedwithahyphen,forexampleinProcedure-\nDatetime,thescoresrepresentanevaluationofcorrectlylinkingtheentitiestogether,forexamplepairingthe\nprocedurewiththerightdateortimeoftheprocedure.Partiallycorrectanswercategoriesaredeﬁnedasfollows—\n(2a):Theoutputcontainsmoreinformationthannecessary,andtheextrainformationiscorrect,(2b):Theoutputis\ncorrect,butsomeinformationismissingfromtheoutput,(2c):Theoutputcontainsmoreinformationthannecessary,\nbuttheextrainformationisincorrect.Incorrectanswercategoriesaredeﬁnedasfollows:(3a):Independentexpert\nreviewerdeterminesthatthenotetextisambiguous,whereeithermanualannotationormodelanswercouldbe\nconsideredcorrect,(3b):Hallucinations1-themodelanswersfromtheinformationmentionedinthenote,butthe\nanswerisincorrectforthequestionasked.,(3c):Hallucinations2-themodelfabricatesinformationnotdiscussedin\nthetext,(3d):Correctoutputispresentintheinputtext,butthemodelreturnsunknown.\nEntity/Relation InferenceCategory Samplesize\nCorrect\nPartiallycorrect Incorrect1 2a 2b 2c 3a 3b 3c 3d\nEntity\nFirstCancerDiagnosis 40 0.88 0.00 0.05 0.00 0.00 0.08 0.000.00Symptoms 140 0.84 0.04 0.01 0.00 0.00 0.06 0.000.04SymptomsDueToCancer 129 0.83 0.00 0.01 0.01 0.02 0.08 0.000.05FutureMedication 91 0.77 0.04 0.02 0.00 0.00 0.05 0.000.11SymptomsAtDiagnosis 63 0.76 0.00 0.00 0.00 0.00 0.24 0.000.00Metastasis 51 0.63 0.14 0.00 0.00 0.00 0.20 0.000.04RadiologyTest 116 0.53 0.27 0.00 0.00 0.00 0.13 0.000.07Procedure 107 0.51 0.15 0.01 0.01 0.01 0.27 0.010.03Biomarker 154 0.51 0.05 0.01 0.01 0.00 0.40 0.000.03GenomicTestName 84 0.50 0.00 0.00 0.00 0.00 0.46 0.000.04Histology 73 0.25 0.01 0.58 0.00 0.00 0.03 0.000.14Relation Metastasis-Datetime 51 0.90 0.00 0.00 0.00 0.00 0.06 0.000.04\n17\nSymptomsAtDiagnosis-Datetime 63 0.87 0.00 0.00 0.00 0.00 0.11 0.000.02Metastasis-Site 51 0.86 0.02 0.00 0.00 0.00 0.08 0.000.04Histology-Datetime 72 0.86 0.00 0.00 0.00 0.00 0.00 0.000.14Metastasis-Procedure 51 0.80 0.06 0.04 0.00 0.00 0.06 0.000.04SymptomsDatetime 140 0.77 0.00 0.06 0.00 0.01 0.09 0.000.06RadiologyTest-Datetime 116 0.76 0.00 0.00 0.00 0.03 0.14 0.000.07FutureMedication-PotentialAdverseEvent 91 0.74 0.00 0.02 0.00 0.04 0.09 0.000.11SymptomsDueToCancer-Datetime 129 0.73 0.01 0.07 0.00 0.02 0.09 0.000.09FutureMedication-Consideration 91 0.73 0.00 0.00 0.00 0.00 0.09 0.080.11Procedure-Datetime 107 0.67 0.00 0.07 0.00 0.02 0.19 0.000.05Biomarker-Datetime 141 0.65 0.00 0.00 0.00 0.00 0.32 0.000.03Procedure-Site 107 0.61 0.00 0.01 0.00 0.01 0.34 0.010.03RadiologyTest-Reason 116 0.52 0.02 0.06 0.00 0.03 0.29 0.010.08RadiologyTest-Result 116 0.52 0.02 0.23 0.00 0.00 0.16 0.000.07GenomicTestName-Datetime 84 0.49 0.00 0.00 0.00 0.00 0.46 0.000.05Procedure-Result 107 0.49 0.00 0.15 0.00 0.00 0.30 0.040.03GenomicTestName-Result 84 0.46 0.00 0.00 0.00 0.00 0.46 0.040.04Procedure-Reason 107 0.42 0.04 0.07 0.00 0.03 0.42 0.000.03RadiologyTest-Site 116 0.40 0.01 0.01 0.00 0.03 0.47 0.010.09TOTAL/MEAN 2872 0.66 0.03 0.05 0.00 0.01 0.19 0.010.05\nDiscussion\nTheschemapresentedinthismanuscript,coupledwithitsassociatedannotateddataset,oﬀersarobust\nbenchmarkforassessingLLMperformanceagainsthumanspecialistcuratorsinextractingcomplex\ndetailsfrommedicaloncologynotes.Across40patientconsultationnotes,wemanuallyannotated9028\nrelevantentities,9986attributes,and5312relations,highlightingtheinformation-densenatureofthese\nnotes.Ourschemafacilitatedcapturingofthenuancedrhetoricinmedicaloncologynarratives,spanning\ninformationlikefamilyhistory,disease-relevantobjectiveandtemporaldata,socialdeterminantsofhealth\nfactors,causalitybetweendiagnoses,treatments,andsymptoms,andtreatmentintentandresponse\nincludingpotentialandcurrentadverseevents.Thisnew,richdatasetofreal-worldoncologyprogress\nnoteswillenableseveralfollow-upadvancesinlanguagemodelsforoncology.\n18\nThedatasetfacilitatedthebenchmarkingofthezero-shotcapabilityofLLMsinoncologichistory\nsummarization.Itdemonstratedsurprisingzero-shotcapabilityoftheGPT-4modelinsynthesizing\noncologichistoryfromtheHPIandA&Psections,includingtasksrequiringadvancedlinguistic\nreasoning,suchasextractingadverseeventsforprescribedmedicationsandthereasonfortheir\nprescription.Themodel,however,alsoshowedroomforimprovementsincausalinference,suchas\ninferringwhetherasymptomwascausedduetocancer.Anopen-sourcecounterpart,theFLAN-UL2\nmodel,demonstratedhighprecisionbutlowrecall,suggestingthatitmaybeapromisingalternativetothe\nproprietaryGPT-4modelifﬁnetunedfurtheronin-domaindata.\nAlthoughcurrentzero-shotperformancesareimpressivebecausenotask-speciﬁcﬁne-tuningwas\nperformed,theobtainedaccuracymaynotbedirectlyusableinclinicalsettings.Meanwhile,manual\ninformationextractionfromnotesistime-consuming,whichcontributestoanunder-utilizationofNLPin\nElectronicHealthRecord(EHR)-basedobservationalresearch\n33\n.Toobtainresearch-usablecapabilityfor\noncologyinformationextractionwithminimalmanualinvolvement,itispromisingtoexplorestrategies\nlikefew-shotlearning,wherefewannotatedexamplesareprovidedtothemodeltolearnbetter\n34\n,\nadvancedpromptdesignslikechain-of-thoughtprompting\n35 \ntobeneﬁtreasoningandselection-inference\nprompting\n36 \ntoﬁrstselecttherelevantentitiesbeforeinferringmoreadvancedrelationsandentity\nattributes,andin-domainﬁne-tuningforadaptingopen-sourcemodelstoclinicaldomains.Thisdataset\nwouldbeacriticalresourceforfollow-upbenchmarkingstudies,reducingtheneedforpriorextensive\ndomain-speciﬁcannotationsforvalidatingtheperformanceofnovelclinicalLLMsandprompting\nstrategies.Althoughtheannotationsinthedatasetmaybelessverbosethanmodeloutputs,andannotator\nfatiguemaycontributetoadditionalerrors,expertmanualevaluationscorroboratedtheﬁndingsof\nautomatedevaluations,demonstratingthereliabilityoftheﬁndings.Furthermore,althoughourstudydid\nnotuncoveranystatisticallysigniﬁcantdisparitiesinmodelperformanceacrossgenderandrace/ethnicity,\nsamplesizesinthisstudymaybeinsuﬃcientforthisanalysis,andtheremaybesystematicbiasesin\n19\nmodelperformancethatneedtobestudiedfurtheronlargerdatasets.Finally,smallchangesinprompts\ncanresultinabigimpactonmodelperformance.Furtherstudiesareneededtoestablishdetailed\nguidelineswithregardstopromptdesignandtoquantifytheimpactofpromptengineeringonmodel\nperformance.\nThecurrentcapabilityofLLMsinextractingtumorcharacteristics,medication,andadversedrugevents\ndemonstratedpromiseforenhancedpost-approvalreal-worlddruganddevicesafetymonitoringfrom\nunstructureddata,automaticallypopulatingpopulation-widecancerregistries,text-basedcohortselection\nforEHR-basedresearchstudies,andspeedingupthematchingofpatientstoclinicaltrialcriteria.Easier\naccesstotextdata,potentiallyfacilitatedbyLLMsinahuman-in-the-loopsetting,willimproveresearch\nonpatientoutcomesandpublichealthbyprovidingevidenceforbetterdata-drivenguidelines,and\nincorporatingtext-basedvariablesinpreviouslyunutilizedways.\nAlthoughthisdatasetrepresentsasmallnumberofpatients,thenumberofannotatedsentencesand\noncologicconceptsislarge,makingitcomparableinsamplesize,butmuchlargerinbreadth,than\nexistingbenchmarkingclinicalNLPdatasets.Furthermore,anadditionalsetof200GPT-4-labelednotes\nwouldfacilitatelargerbenchmarkingstudiesthroughfurtherexpertanalysis,andwouldalsoenable\nﬁne-tuningofopen-sourcemodelswithweaklabels(modeldistillation).Finally,althoughweusedthe\ndatafromonlytwocancerswithinasingleacademicinstitution,theinformationrepresentationand\nannotationschemawasdesignedtobebothcancer-andinstitution-agnostic,whichwillfacilitatean\nextensionoftheanalysistolargemulti-center,multi-cancerstudiestoobtaingeneralizableconclusions.\n20\nConclusions\nWesuccessfullycreatedabenchmarkingdatasetoffortyexpert-annotatedbreastandpancreaticcancer\nmedicaloncologynotesbyvalidatinganewdetailedschemaforrepresentingin-depthtextual\noncology-speciﬁcinformation,whichissharedopenlyforfurtherresearch.Thisdatasetservedasa\ntest-bedtobenchmarkthezero-shotextractioncapabilityofthreeLLMs:GPT-3.5-turbo,GPT-4,and\nFLAN-UL2.WefoundthattheGPT-4modelholdsthebestperformancewithanaverageof0.73BLEU,\n0.72ROUGE,and0.51EM-F1scores,highlightingthepromisingcapabilityoflanguagemodelsto\nsummarizeoncologicpatienthistoryandplanwithoutsubstantialsupervisionandaidfutureresearchand\npracticebyreducingmanualeﬀorts.Withfurtherpromptengineeringandmodelﬁne-tuning,combined\nwithminimalmanualsupervision,LLMswillpotentiallybeusabletoextractimportantfactsfromcancer\nprogressnotesneededforclinicalresearch,complexpopulationmanagement,anddocumentingquality\npatientcare.\nAcknowledgements\nThisresearchwouldnothavebeenpossiblewithimmensesupportfromseveralpeople.Theauthorsthank\ntheUCSFAITigerTeam,AcademicResearchServices,ResearchInformationTechnology,andthe\nChancellor’sTaskForceforGenerativeAIfortheirsoftwaredevelopment,analyticalandtechnical\nsupportrelatedtotheuseofVersaAPIgateway(theUCSFsecureimplementationoflargelanguage\nmodelsandgenerativeAIviaAPIgateway),Versachat(thechatuserinterface),andrelateddataassetand\nservices.WethankBorisOskotsky,andtheWyntonhigh-performancecomputingplatformteamfor\nsupportinghighperformancecomputingplatformsthatenabletheuseoflargelanguagemodelswith\nde-identiﬁedpatientdata.WefurtherthankJenniferCreasman,AlysaGonzales,DaliaMartinez,and\nLakshmiRadhakrishnanforhelpwithcorrectingclinicaltrialandgenenameredactions.WethankProf.\nKirkRobertsforhelpfuldiscussionsregardingframesemantics-basedannotationsofcancernotes,Prof.\n21\nArtuurLeeuwenbergfordiscussionsabouttemporalrelationannotation,andallmembersoftheButtelab\nforusefuldiscussionsintheinternalpresentations.PartialfundingforthisworkisthroughtheFDAgrant\nU01FD005978totheUCSF–StanfordCenterofExcellenceinRegulatorySciencesandInnovation\n(CERSI),throughtheNIHUL1TR001872granttoUCSFCTSI,throughtheNationalCancerInstituteof\ntheNationalInstitutesofHealthunderAwardNumberP30CA082103,andfromaphilanthropicgiftfrom\nPriscillaChanandMarkZuckerberg.Thecontentissolelytheresponsibilityoftheauthorsanddoesnot\nnecessarilyrepresenttheoﬃcialviewsoftheNationalInstitutesofHealth.\nFinancialDisclosuresandConﬂictsofInterest\nMS,VEK,DM,andTZreportnoﬁnancialassociationsorconﬂictsofinterest.BYMisapaidconsultant\nfordrugdevelopmentatSandboxAQwithnoconﬂictsofinterestforthisresearch.AJBisaco-founder\nandconsultanttoPersonalisandNuMedii;consultanttoMangoTreeCorporation,andintherecentpast,\nSamsung,10xGenomics,Helix,PathwayGenomics,andVerinata(Illumina);hasservedonpaidadvisory\npanelsorboardsforGeisingerHealth,RegenstriefInstitute,GersonLehmanGroup,AlphaSights,\nCovance,Novartis,Genentech,andMerck,andRoche;isashareholderinPersonalisandNuMedii;isa\nminorshareholderinApple,Meta(Facebook),Alphabet(Google),Microsoft,Amazon,Snap,10x\nGenomics,Illumina,Regeneron,Sanoﬁ,Pﬁzer,RoyaltyPharma,Moderna,Sutro,Doximity,BioNtech,\nInvitae,PaciﬁcBiosciences,EditasMedicine,NunaHealth,AssayDepot,andVet24seven,andseveral\nothernon-healthrelatedcompaniesandmutualfunds;andhasreceivedhonorariaandtravel\nreimbursementforinvitedtalksfromJohnsonandJohnson,Roche,Genentech,Pﬁzer,Merck,Lilly,\nTakeda,Varian,Mars,Siemens,Optum,Abbott,Celgene,AstraZeneca,AbbVie,Westat,andmany\nacademicinstitutions,medicalordiseasespeciﬁcfoundationsandassociations,andhealthsystems.AJB\nreceivesroyaltypaymentsthroughStanfordUniversity,forseveralpatentsandotherdisclosureslicensed\ntoNuMediiandPersonalis.AJB’sresearchhasbeenfundedbyNIH,Peraton(astheprimeonanNIH\n22\ncontract),Genentech,JohnsonandJohnson,FDA,RobertWoodJohnsonFoundation,LeonLowenstein\nFoundation,IntervalienFoundation,PriscillaChanandMarkZuckerberg,theBarbaraandGersonBakar\nFoundation,andintherecentpast,theMarchofDimes,JuvenileDiabetesResearchFoundation,\nCaliforniaGovernor’sOﬃceofPlanningandResearch,CaliforniaInstituteforRegenerativeMedicine,\nL’Oreal,andProgenity.Noneoftheseentitieshadanyroleinthedesign,execution,evaluation,orwriting\nofthismanuscript.Noneoftheauthorshaveanyconﬂictsofinterestwiththisresearch.\nReferences\n1. SavovaGK,DanciuI,AlamudunF,etal.UseofNatural LanguageProcessingtoExtractClinical CancerPhenotypesfromElectronicMedical Records.CancerResearch2019;79(21):5463–70.2. Nori H,KingN,McKinneySM,CarignanD,HorvitzE.CapabilitiesofGPT-4onMedicalChallengeProblems.3. KungTH,CheathamM,MedenillaA,etal.PerformanceofChatGPTonUSMLE:PotentialforAI-assistedmedical educationusinglargelanguagemodels.PLOSDigital Health2023;2(2):e0000198.4. Singhal K,Azizi S,TuT,etal.Largelanguagemodelsencodeclinical knowledge.Nature2023;620(7972):172–80.5. LeeP,BubeckS,PetroJ.Benefits,Limits,andRisksofGPT-4asanAIChatbotforMedicine.NewEnglandJournal ofMedicine2023;388(13):1233–9.6. LeveragingGPT-4forPostHocTransformationofFree-TextRadiologyReportsintoStructuredReporting:AMultilingual FeasibilityStudy[Internet].[cited2023Apr5];Availablefrom:https://pubs.rsna.org/doi/epdf/10.1148/radiol.2307257. Agrawal M,HegselmannS,LangH,KimY,SontagD.Largelanguagemodelsarefew-shotclinical informationextractors[Internet].In:Proceedingsofthe2022ConferenceonEmpirical MethodsinNatural LanguageProcessing.AbuDhabi,UnitedArabEmirates:AssociationforComputational Linguistics;2022[cited2023Mar21].p.1998–2022.Availablefrom:https://aclanthology.org/2022.emnlp-main.1308. HaverHL,AmbinderEB,Bahl M,Oluyemi ET,JeudyJ,Yi PH.AppropriatenessofBreastCancerPreventionandScreening          RecommendationsProvidedbyChatGPT.Radiology2023;230424.9. AlawadM,YoonH-J,Tourassi GD.Coarse-to-finemulti-tasktrainingofconvolutionalneural networksforautomatedinformationextractionfromcancerpathologyreports.In:2018IEEEEMBSInternational ConferenceonBiomedical &HealthInformatics(BHI).2018.p.218–21.10. BreitensteinMK,LiuH,Maxwell KN,PathakJ,ZhangR.ElectronicHealthRecordPhenotypesforPrecisionMedicine:PerspectivesandCaveatsFromTreatmentofBreastCancerataSingleInstitution.Clinical andTranslational Science2018;11(1):85–92.11. YalaA,BarzilayR,SalamaL,etal.Usingmachinelearningtoparsebreastpathologyreports.BreastCancerResTreat2017;161(2):203–11.12. Odisho*Anobel,ParkB,Altieri N,etal.Pd58-09 extractingstructuredinformationfrom\n23\npathologyreportsusingnatural languageprocessingandmachinelearning.Journal ofUrology2019;201(Supplement4):e1031–2.13. Li Y,LuoY-H,WampflerJA,etal.EfficientandAccurateExtractingofUnstructuredEHRsonCancerTherapyResponsesfortheDevelopmentofRECISTNatural LanguageProcessingTools:PartI,theCorpus.JCOClinical CancerInformatics2020;(4):383–91.14. Altieri N,ParkB,OlsonM,DeNeroJ,OdishoAY,YuB.Supervisedlineattentionfortumorattributeclassificationfrompathologyreports:Higherperformancewithlessdata.JournalofBiomedical Informatics2021;122:103872.15. ZhouS,WangN,WangL,LiuH,ZhangR.CancerBERT:acancerdomain-specificlanguagemodel forextractingbreastcancerphenotypesfromelectronichealthrecords.Journal oftheAmericanMedical InformaticsAssociation2022;29(7):1208–16.16. BelenkayaR,GurleyMJ,GolozarA,etal.ExtendingtheOMOPCommonDataModel andStandardizedVocabulariestoSupportObservational CancerResearch.JCOClinicalCancerInformatics2021;(5):12–20.17. RobertsK,Si Y,Gandhi A,BernstamE.AFrameNetforCancerInformationinClinicalNarratives:SchemaandAnnotation[Internet].In:ProceedingsoftheEleventhInternationalConferenceonLanguageResourcesandEvaluation(LREC2018).Miyazaki,Japan:EuropeanLanguageResourcesAssociation(ELRA);2018.Availablefrom:https://aclanthology.org/L18-104118. DattaS,BernstamEV,RobertsK.AframesemanticoverviewofNLP-basedinformationextractionforcancer-relatedEHRnotes.Journal ofBiomedical Informatics2019;100:103301.19. Mirbagheri E,Ahmadi M,SalmanianS.Commondataelementsofbreastcancerforresearchdatabases:Asystematicreview.JFamilyMedPrimCare2020;9(3):1296–301.20. DattaS,Ulinski M,Godfrey-Stovall J,KhanparaS,Riascos-CastanedaRF,RobertsK.Rad-SpatialNet:AFrame-basedResourceforFine-GrainedSpatial RelationsinRadiologyReports[Internet].In:Proceedingsofthe12thLanguageResourcesandEvaluationConference.Marseille,France:EuropeanLanguageResourcesAssociation;2020.p.2251–60.Availablefrom:https://aclanthology.org/2020.lrec-1.27421. SavovaGK,MasanzJJ,OgrenPV,etal.Mayoclinical TextAnalysisandKnowledgeExtractionSystem(cTAKES):architecture,componentevaluationandapplications.JAmMedInformAssoc2010;17(5):507–13.22. SavovaGK,TseytlinE,FinanSP,etal.DeepPhe-ANatural LanguageProcessingSystemforExtractingCancerPhenotypesfromClinical Records.CancerRes2017;77(21):e115–8.23. Qi P,ZhangY,ZhangY,BoltonJ,ManningCD.Stanza:APythonNatural LanguageProcessingToolkitforManyHumanLanguages[Internet].2020[cited2023Dec22];Availablefrom:http://arxiv.org/abs/2003.0708224. ZhangY,ZhangY,Qi P,ManningCD,LanglotzCP.Biomedical andclinical EnglishmodelpackagesfortheStanzaPythonNLPlibrary.Journal oftheAmericanMedical InformaticsAssociation2021;28(9):1892–9.25. RadhakrishnanL,SchenkG,MuenzenK,etal.Acertifiedde-identificationsystemforallclinical textdocumentsforinformationextractionatscale.JAMIAOpen2023;6(3):ooad045.26. OpenAI.GPT-4Technical Report[Internet].2023[cited2023Apr10];Availablefrom:http://arxiv.org/abs/2303.0877427. ChatGPT[Internet].[cited2023Apr10];Availablefrom:https://chat.openai.com28. ANewOpenSourceFlan20BwithUL2[Internet].Yi Tay.[cited2023Apr10];Availablefrom:https://www.yitay.net/blog/flan-ul2-20b29. News[Internet].[cited2023Jul 28];Availablefrom:https://physionet.org/news/post/41530. Papineni K,RoukosS,WardT,ZhuW-J.Bleu:aMethodforAutomaticEvaluationofMachineTranslation[Internet].In:Proceedingsofthe40thAnnual Meetingofthe\n24\nAssociationforComputational Linguistics.Philadelphia,Pennsylvania,USA:AssociationforComputational Linguistics;2002[cited2023Mar20].p.311–8.Availablefrom:https://aclanthology.org/P02-104031. LinC-Y.ROUGE:APackageforAutomaticEvaluationofSummaries[Internet].In:TextSummarizationBranchesOut.Barcelona,Spain:AssociationforComputationalLinguistics;2004[cited2023Mar20].p.74–81.Availablefrom:https://aclanthology.org/W04-101332. HripcsakG,RothschildAS.Agreement,theF-Measure,andReliabilityinInformationRetrieval.JAmMedInformAssoc2005;12(3):296–8.33. FuS,WangL,MoonS,etal.Recommendedpracticesandethical considerationsfornatural languageprocessing-assistedobservational research:Ascopingreview.ClinTransl Sci 2023;16(3):398–411.34. BrownT,MannB,RyderN,etal.LanguageModelsareFew-ShotLearners[Internet].In:AdvancesinNeural InformationProcessingSystems.CurranAssociates,Inc.;2020[cited2023Apr11].p.1877–901.Availablefrom:https://proceedings.neurips.cc/paper/2020/hash/1457c0d6bfcb4967418bfb8ac142f64a-Abstract.html35. Wei J,WangX,SchuurmansD,etal.Chain-of-ThoughtPromptingElicitsReasoninginLargeLanguageModels[Internet].2022[cited2023Jan27].Availablefrom:https://openreview.net/forum?id=_VjQlMeSB_J36. Creswell A,ShanahanM,HigginsI.Selection-Inference:ExploitingLargeLanguageModelsforInterpretableLogical Reasoning[Internet].2023[cited2023Apr10].Availablefrom:https://openreview.net/forum?id=3Pf3Wg6o-A4\nSupplementaryMaterials\nFigureS1:Workﬂowfordevelopinganoncologyinformationrepresentationschema,annotatingclinical\ntextaccordingtotheschema,andevaluatinglargelanguagemodelsonspeciﬁctasksderivedfromthe\nschema.\n25\n\nAnnotationssupportedbytheannotationschema\nTableS1:Listofannotationmodalities,annotationbucketsandannotationnamessupportedby\nthenewlydevelopedschematorepresenttextual oncologyinformation.Annotationsareadded\nwithintextthroughthreeannotationmodalities:a)entitiesorphrasesofspecifictype,b)\nattributesormodifiersofentities,andc)relationsbetweenentitypairs.Theserelationscould\neitherbe(i)descriptive,forexamplerelatingabiomarkernametoitsresults,(ii)temporal,for\nexampleindicatingwhenwasatestconducted,or(iii)advanced,forexample,relatinga\ntreatmenttoadverseeventscausedduetoit.\nAnnotationmodality Annotationbucket Annotationname\nEntity Temporal Datetime\nFrequency\nDuration\nAge\nPatientCharacteristics Symptom\nClinicalCondition\nAllergy\nPerformanceStatus\nSDoH\nSDoH:Alcohol\nSDoH:Drugs\nSDoH:Tobacco\nSDoH:PhysicalActivity\nSDoH:Employment\nSDoH:LivingCondition\nSDoH:Insurance\n26\nSDoH:SexualOrientation\nSDoH:MaritalStatus\nSDoHModiﬁer\nSDoHModiﬁer:ConsumptionQuantity\nLocation Site\nLaterality\nTumorTest GenomicTest\nPathology\nRadiology\nDiagnosticLabTest\nTestResult RadPathResult\nGenomicTestResult\nLabTestResult\nTumorCharacteristics Histology\nMetastasis\nLymphNodeInvolvement\nStage\nTNM\nGrade\nSize\nLocalInvasion\nBiomarkerName\nBiomarkerResult\nProcedure ProcedureName\nProcedureModiﬁer\nProcedureModiﬁer:ProcedureOutcome\nProcedureModiﬁer:MarginStatus\n27\nTreatment MedicationName\nMedicationRegimen\nMedicationModiﬁer\nMedicationModiﬁer:Cycles\nRadiationTherapyName\nRadiationTherapyModiﬁer\nTreatmentDosage\nTreatmentDoseModiﬁcation\nTreatmentType\nClinicalTrial ClinicalTrial\nDiseaseState DiseaseState\nSectionSkip SectionSkip\nUnspeciﬁedEntity UnspeciﬁedEntity\nRelation Temporal HappensAtOnDuring\nBeginsOnOrAt\nEndsOnOrAt\nHappensBefore\nHappensAfter\nHappensOverlapping\nDescriptive ConsumptionQuantityRel\nSDoHDesc\nLateralityOfSite\nSiteOf\nSizeOf\nResultOfTest\nBiomarkerRel\nProcedureDesc\n28\nTumorDesc\nTreatmentDesc\nRegimenFor\nAdvanced TestOrProcedureReveals\nTestOrProcedureConductedForProblem\nTreatmentAdministeredForProblem\nTreatmentDiscontinuedBecauseOf\nConditionOrTreatmentCausesProblem\nNotUndergoneBecauseOf\nInclusionCriteriaFor\nExclusionCriteriaFor\nAttribute NegationModalityVal negated\naﬃrmed\nuncertain_in_present\nuncertain_in_past\nplanned_in_future\nhypothetical_in_future\nPerformanceStatusType ECOG\nKarnofsky\nOther\nIsStoppedOrContinuing:SDoH stopped\ncontinuing\nIsPresentOnFirstCancerDiagnosis:Symptom\nyes\nno\nunclear\nIsCausedByDiagnosedCancer:Symptom\nyes\nno\n29\nunclear\nChronicVal chronic\nnon-chronic\nContinuityVal new\n  stable\nimproving\nworsening\nstopped\nunclear\nExperiencerVal patient\nfamily\nothers\nDiseaseStateVal remission\nprogression-recurrence\nprogression-others\nstability\nothers\nIntentVal screening\nstaging\ndiagnosis\nTreatmentAssessment\ntreatment-curative\ntreatment-palliative\ntreatment-others\nDiagnosisAndTreatment\nothers\n30\nunclear\nRadPathResultVal NoDisease\nInitialCancerDiagnosis\nProgression\nDiseaseStability\nTreatmentResponse\nMixed\nOthers\nUnclear\nLabTestResultVal normal\nabnormal\nunclear\nGenomicTestType Germline\nSomatic\nGeneExpression\nOthers\nUnclear\nMarginVal positive\nLessThan2mm\nMoreThan2mm(Neg)\nunclear\nHistoryVal history\nnew\nEpisodeDescription FirstOccurrence\nProgression\nRecurrence\nOthers\n31\nBiomarkerResultVal Positive\nNegative\nLowPositive\nUnclear\nTreatmentContinuityVal started\nplanned\ncontinuing\nﬁnished\ndiscontinued_early\nunclear\nCycleType ongoing\ncompleted\ntarget\nTreatmentTypeVal neoadjuvant\nadjuvant\nmaintenance\nlocal\nothers\nunclear\nTreatmentIntentVal curative\npalliative\nothers\nunclear\nTreatmentCategory AntiNeoPlastics\nSupportive\nOthers\nIsTumorRemaining yes\n32\nno\nunclear\nSectionSkipType physical_exam\nmedications\nlaboratory\nallergies\nradiology_report\npathology_report\ncopy_forward\nothers\nAnnotationguidelines\nAllthedocumentswillbepre-highlightedwithhighlights‘Annotate’or‘Skip’toindicatewhetherasectionshouldbeannotatedorcanbeskipped.Thesectionsofinterestmayhavebeenmentionedunderdifferentheaders,whichcouldhavebeenmissedbyourrule-basedpipelineforsectiondetection.Thebestguessesshouldbemadeaboutthecontentofaparagraphorsectionbasedontheirindividualheadingsinthetext.\nSectionstoannotate\nWewillannotatethefollowingsectionsinclinicalnotes:\n● Sectionsdescribingthepatient’shistory○ Historyofpresentillness○ PastMedicalHistory○ PastSurgicalHistory○ Subjective○ Intervalhistory○ Oncologyhistory● Assessmentandplan(Canalsobementionedasimpressionandplan)● Reviewofsystems: Ifthisismentionedassemi-structureddata,ignoreeverythingthatismentionedasN/Aornotonfile.Annotatetheinformationthatisknown.● Socialhistorynarrative:Ifthisismentionedassemi-structureddata,ignoreeverythingthatismentionedasN/Aornotonfile.Annotatetheinformationthatisknown.● Familyhistory:Ifthisismentionedassemi-structureddata,ignoreeverythingthatismentioned\n33\nasN/Aornotonfile.Annotatetheinformationthatisknown.\nSectionstoskip\n● Thesection‘PhysicalExamination”thatdescribestheresultsofaphysicalexam(e.g.PHYSICALEXAM,OBJECTIVEASSESSMENT,etc.).● Thesectioncontainingsemi-structuredinformationaboutmedications(e.g.CURRENT(OUTPATIENT)MEDICATIONS).● Thesectioncontainingsemi-structuredcontentaboutlabtests(e.g.Labdata,LABORATORYRESULTS,etc.).● Thesectioncontainingareviewofallergies(e.g.ALLERGIES,AllergenReactions,etc.).● RadiologyandPathologysections(e.g.sectionsIMAGING,RADIOGRAPHICANDPATHOLOGYRESULTS,SURGICALPATHOLOGYREPORT,etc.)○ Anyradiologyreportspastedwithinthenotedirectlyshouldbeskippedaswell.● Copyforwardedinformationthathasalreadybeenannotated.\nTheentiresectionsthatareskippedshouldbeannotatedwiththeSectionSkipentity.Thecorrespondingattribute‘SectionSkipType’shouldbeusedtoindicatethetypeofsectionthatwasskipped.\nAnnotationschemadetails\nTheentityandrelationannotationsshouldbecompletedinthesequentialorderofdocuments.Allthedocumentswillbepre-highlightedwithsectionheaders‘Annotate’or‘Skip’entitiesof3types:problems,treatments,andtests,asrecognizedbypublicly-availablemodels.Thesearepresentasaguideratherthanastheentitiesthatweneedtoannotateourselves.\nTheentitiescompriseeverythingofinterestinthecategoriesmentionedbelowinthisschema.Foralltheentities,theminimumspanthatconveystherequisiteinformationshouldbeannotated.Thiswouldmeanthatadjectivesthatexpressadditionalinformationaboutanentityoraneventshouldberetained,forexample,“serious”,however,articlessuchas“a”,“an”,“the”orotherextraneousinformationshouldbeexcluded.Totheextentfeasible,asinglespanshouldbeusedforasingleentity.Abbreviationsshouldbeannotatedinanequivalentmannertotheirexpandedforms.\nAllentitiesshouldspecifydetailsofnegationandmodalitymarkers(NegationModalityVal),aswellastemporality(withseveraltemporalrelations).TheattributeNegationModalityValtakesafewdifferentvalues:negated,affirmed,uncertain_in_present,uncertain_in_past,planned_in_future,andhypothetical_in_future.‘Affirmed’wouldbeusedbydefaultwhenevernoothervaluehasbeenset,sopleasetakespecialcaretoindicateothervalueswhenrelevant.\n● Temporal:Severaltemporalrelationscanbeusedtorelateanyentitieswiththesetemporalmarkerentities:HappensAtOnDuring,HappensBefore,HappensAfter,BeginsOnOrAt,EndsOnOrAt,HappensOverlapping,Temporal.○ Datetime:Includesdateandtimeexpressions,suchas“December2019”,“12\nth\n34\nDecember”,“2pm”aswellasindirectreferencestotimelike“lastyear”or“2monthsago”.AsinglespanshouldbeaddedfortheentireDateTimeexpression.Theminimumspanthatconveystheinformationshouldbeused.Forexample,“lastyear”shouldbeannotatedinsteadof“inthelastyear”.○ Frequency:Anydetailsoffrequencyinformation,forexampleweekly,shouldbemarkedwiththisentity.Similarguidelinesexistasfordatetimeentitiesforadditionaldetails.○ Duration:Usedtomarktemporalentitiesoftypeduration,forexample,10hours.Similarguidelinesexistasfordatetimeentitiesforadditionaldetails.○ Age:Usedtomarkmentionsofage.Similarguidelinesexistasfordatetimeentitiesforadditionaldetails.● PatientCharacteristicsThisgenericcategoryofPatientCharacteristicsshouldbeusedforallmentionsofrelevantinformationotherthanSymptoms,ClinicalCondition,socialdeterminantsforhealthfactors,andanyotherinformationexplicitlylistedasentitiesahead.Someexampleswouldbeinformationaboutmenopause,numberofchildren,etc.thatmayberelevantforthecancerinquestion,orthatmayberelevantasaninclusionorexclusioncriteriaforatreatmentoraclinicaltrial.SiteOfrelationcanbeaddedforallsymptomsandclinicalconditionstoaddinformationabouttheirsite.○ Symptom:Thisincludesallmentionsofsymptomsandcomplaintsthatapatientpresentswith,forexample,fatigue,nausea,breathingdifficulties.Minimalentityspansthatconveytheinformationshouldbeannotated,forexample,nauseashouldbeannotatedinsteadofthepatientpresentswithnausea.Iftheseverityofthesymptomisalsomentioned,ifrelevant,shouldbeincludedwiththesymptomentity(forexampleminorbreathingdifficulties).■ TheattributeContinuityValshouldbesettoindicatewhetheritisanewsymptom,astablesymptom,orwhetherthesymptomhasimproved,worsened,orstopped.■ TheattributeChronicValshouldbesettoindicatewhetheritischronicornon-chronic.■ Furthermore,theattributeIsPresentOnFirstCancerDiagnosisshouldbeselectedtoindicatethatthesymptomwaspresentwhenthepatientwasdiagnosedwithanewtumorforthefirsttime.Forthisattribute,thevalue‘unclear’wouldbeassumedbydefaultifeitheryesornoisnotindicated.■ TheattributeIsCausedByDiagnosedCancershouldbesettoindicatethatthesymptomwascausedduetoacancerdiagnosis.Forthisattribute,thevalue‘unclear’wouldbeassumedbydefaultifeitheryesornoisnotindicated.■ TheattributeNegationModalityValshouldbeusedtoindicateanynegationandmodalitymarkersjointlywithalltheentities.\nTherelationTreatmentAdministeredForProblemshouldlaterbeaddedbetweensymptomentitiesandtreatmentnamesifthetreatmentwasadministeredforagivensymptom.\n35\nTherelationTreatmentDiscontinueBecauseOfshouldlaterbeaddedtorelatetreatmententitieswithsymptomsifthesymptomswerethereasonfordiscontinuingatreatment.\n○ ClinicalCondition:Thisincludesthediagnosisattachedtothesymptomsthatthepatienthaspresentedwith.Thisisusuallystatedbytheproviderandnotthepatient.Conditionslikebreastcancerandcoloncancerarealsoincludedinthiscategory.TheattributeExperiencerValshouldbesettoindicatewhethertheexperienceristhepatient,familyofthepatient,orothers.Wecanuse‘patient’asexperiencerbydefault,sopleasetakespecialcaretoindicatethisattributeiftheexperiencerisanyoneotherthanthepatient.Furthermore,theattributeChronicValshouldbesettoindicatewhethertheclinicalconditionisachronicconditionoranon-chroniccondition.TheattributeContinuityValshouldadditionallybesettoindicatewhetheritisanewcondition,continuingcondition,whethertheconditionhasprogressed,orithasstopped.Asalways,NegationModalityValshouldbeusedtohighlightnegation/modality.\nTherelationTreatmentAdministeredForProblemshouldlaterbeaddedbetweenclinicalconditionentitiesandtreatmentnamesifthetreatmentwasadministeredforagivenclinicalcondition.\nTherelationTreatmentDiscontinueBecauseOfshouldalsobeaddedtorelatetreatmententitieswithaclinicalconditionifitwasareasonfordiscontinuingatreatment.\nIfaclinicalconditioncausesasymptomoranothercondition,therelationConditionOrTreatmentCausesProblemshouldbeadded.\n○ Allergy:AnyexistenceofallergywithinthesectionsthatareannotatedshouldbemarkedastheAllergyentity.ThesamerelationsasSymptomandClinicalConditionarealsopresentforallergy.TheattributeContinuityValisusedtodeterminewhetheritisnew,stable,improving,worsening,orstopped.Asalways,NegationModalityValshouldbeusedtohighlightnegation/modality.\n○ PerformanceStatus:Mentionsofperformancestatus,suchastheECOGscoreshouldbemarkedwiththisentity.TheattributePerformanceStatusTypeshouldbeadditionallysettoprovidethetypeofthestatus.\n○ SDoH:Thisincludesdifferentsocialdeterminantsforhealthfactors.Thebroad-levelcategoryofSDoHshouldbeusedwhenamorespecificcategory(Alcohol,Drugs,Tobacco,ConsumptionQuantity,PhysicalActivity,Employment,LivingCondition,Insurance,SexualOrientation,andMaritalStatus)isnotpresent.TheattributesNegationModalityValandExperiencerValshouldbeusedasneeded.TheattributesIsStoppedOrContinuing(default:continuing)shouldbeusedtoindicatewhetherthesevaluesareinthepast(forexample,thepatienthasstoppeddrinking),orcontinuinginthepresent(thepatientdrinks).\n36\n■ Alcohol:Mentionsofalcoholuse.■ Drugs:Mentionsofdruguse.■ Tobacco:Mentionsoftobaccoconsumptioninanyform.Smokelesstobaccowouldbeincludedinthiscategoryinadditiontosmoking.Vaping,ifitcontainsnicotine,wouldbeincluded.■ PhysicalActivity:Allphrasesdescribingphysicalactivityshouldbemarkedassuch,forexample,swimming,walking2milesperday,etc.■ Employment:Mentionsofemploymentstatus.Thiscanincludementionsoftheprofession,forexample,“doctor”,ormentionsofemploymentstatus,forexample“employedintheprivatesector”.Theentityspansshouldcoverthedetailsoftheprofessionwhenavailable,butnoextrainformation.■ LivingCondition:Informationaboutthelivingconditionofthepatient,forexample,“livesalone”,“liveswithfamily”,“homeless”,etc.■ Insurance:Anyinformationabouttheinsurance,forexample,informationabouttheinsuranceplan,orthepresenceorabsenceofinsurance.TherelationTreatmentDiscontinueBecauseOfshouldlaterbeaddedtorelatetreatmententitieswithinsurancestatusifitwasareasonfordiscontinuingthetreatment.■ SexualOrientation:Anymentionofthepatient’ssexualorientation.■ MaritalStatus:Anymentionsofthepatient’smaritalstatus.■ SDoHModifier:AnyimportantmodifiersforSDoH,particularlythosenotlistedexplicitly,shouldbeannotatedasthisentity.Forexample:typeoftobaccouse.TheseentitiesshouldfurtherberelatedwiththecorrespondingSDoHwithanSDoHDescrelation.● ConsumptionQuantity:Anymentionsofconsumptionquantityforalcohol,drugs,ortobacco,forexample,3packsperdayor1pintofbeeraday.Anymentionsofconsumptionfrequencyshouldalsobeencodedwithinthesameentity.● ArelationbetweenthisentityandthecorrespondingAlcohol/Drugs/Tobaccoentityshouldbeaddedatthesubsequentstep(ConsumptionQuantityRel).● Location:TheattributeNegationModalityValshouldbeusedforthefollowingentitiesasneeded.○ Site:Thisincludesthesite(organ/bodypart)ofatest,thesiteofthetumoronthebody,orthesiteofasurgicalprocedure,forexample‘breast’.Iflateralityispresent,itshouldbeannotatedseparately. Forexample,in“leftbreast”,only“breast”shouldbeannotatedasthesite.Whentheexactsiteismentioned,forexample,10o’clockfromthenipple,theentireminimalspanthatconveystheinformationshouldbeannotated.Iftheexactlocationofaspecimenonanorganisnotpresent,onlythebroadertopographyshouldbeannotated,inlinewiththeICD-O3topographyguidelineshere(orinthefollowingguide:https://apps.who.int/iris/bitstream/handle/10665/96612/9789241548496_eng.pdf;\n37\nstartingonpage44;breastcanceronpage54).\nSiteislaterrelatedtothenameofthetest/procedure/tumorthatitisasiteofusingtherelationSiteOf.\nIfthesiteismentionedinanambiguousmanner,suchas‘leftlumpectomy’,pleaseannotate‘left’asthesiteandnotlaterality.\n○ Laterality:Lateralityofthesitewhereeitheratestwasconducted,wherethetumorwasfound,orwhereasurgicalprocedurewasperformed.forexample‘left’in‘leftbreast’.\nLateralityshouldlaterberelatedtothecorrespondingsite(LateralityOfSite).\n● TumorTest:Thisincludesanytestsconductedtoeitherscreenorconfirmwhetheratumorispresent.ThegenericcategoryofTumorTestwillbeusedonlywhenatestspecificationisnotpreciselyeithercoveredunderRadiology,Pathology,GenomicTest,orDiagnosticLabTest.Thesite/lateralityofthetestshouldbeannotatedasseparateentitiesandshouldnotbeapartofthissameentitycalledTumorTest.\nTheattributevalueunderIntentValshouldbeusedforeachTumorTesttoindicatewhetherthetestwasconductedforscreening,staging,treatmentassessment,orotherreasons.Similarly,theattributevalueunderVenueValshouldbeusedtoindicatewhetherthetesthappenedatUCSF,atotherlocations,orisunclear(default).Ifthetestswouldbeconductedinthefuture,theattributevalue‘hypothetical_in_future’shouldbeusedforNegationModalityVal.Ifthetestswerenegated,forexample,“didnotundergoabiopsy”,“biopsy”shouldbeannotated,andthenegationattributeshouldbeselectedunderNegationModalityVal. TheattributeExperiencerValshouldbeusedtoindicatewhethertheexperienceristhepatient(default),family,orothers.\n(Theserelationsarealsodiscussedlaterattheendofthedocument:)ThesiteofthetestshouldbeaddedwiththerelationSiteOf.\nIfatestwasconductedinresponsetoanexistingproblem,tumorcharacteristics,ordiseaseprogression,therelationTestOrProcedureConductedForProblemshouldbeusedtorelatethem.\nThedetailsofthetestresultsshouldberelatedtothisentityusingtherelationResultOfTestdescribedlater.\nIfatestrevealsamalignanttumor,clinicalcondition,ordiseaseprogression,thetestnameshouldberelatedtotherelevantentityusingtherelationTestOrProcedureReveals.\n○ Pathology:Anymentionsofpathologytestsconductedshouldbeannotated.Ifthetypeofbiopsyisspecified,forexample,“coreneedlebiopsy”,itshouldbeannotatedasapartofthesameentity.■ Specificcases:\n38\n● FISH(Fluorescenceinsituhybridization):PleaselabelthisasaPathologytest○ Radiology:TheannotationsshouldfollowsimilarstrategiesasthatofthePathologyannotations.Allscreening,aswellasdiagnostictests,shouldbeannotated.Forexample,“Mammography”,“Ultrasound”,“US”,‘MRI’,‘CT’shouldallbeannotatedunderthiscategory.○ DiagnosticLabTest:Thisincludeslabteststhatarespecificallyconductedtodiagnoseatumor.SomeexamplesincludePSA,CEA,CA99,AFP,etc.○ GenomicTest:Thisentityshouldbeaddedforalltypesofgenetests.Additionally,theattributeGenomicTestTypeshouldbeaddedtoindicatewhetherthegenomictestisoftypesgermlinetest,somatictest,geneexpressiontest(forexampleOncotypeDxorMammaprint),others,orthetypeunclearfromtext.Rememberthatforanyhypotheticaldiscussionsofteststobeconductedinthefuture,theNegationModalityValattributevalue“hypothetical_in_future”shouldadditionallybeused.● TestResult:Thisisthegenericcategoryforthetumortestresult.Thiscategoryshouldbereservedforanytestsexceptpathology,radiology,genomictest,ordiagnosticlabtest.TheattributeExperiencerValshouldbeusedtoindicatewhetherthetestresultisaboutthepatient(default),family,orsomeoneelse,andtheattributeNegationModalityValshouldbeusedtoindicatethenegation/modalitystatus.\nTherelationResultOfTestshouldbeusedtorelatethetestnamewithitscorrespondingresult(thisresultcaneitherbethegenericcategoryofTestResult,oramorespecificcategoryofRadPathResult,GenomicTestResult,orLabTestResult).\n○ RadPathResult:Thiscategoryisforresultsrelatedtobothpathologyandradiologytests.AttributevalueRadPathResultValshouldbesetinadditiontohighlightingthecorrespondingentitytoindicatewhetherthetestresultreferstothenodisease,initialdiseasediagnosis,stabledisease,diseaseprogression,treatmentresponse,mixedresponse(forexampleonetumorisimproving,theotherisworsening),others,orisunclear.○ GenomicTestResult:Thisentityisforallresultsofgenomictests.TheattributesNegationModalityVal,ExperiencerVal,andGenomicTestTypeshouldbesettoindicatethecorrespondingrelevantvalues.○ LabTestResult:ThisentityisreservedforannotatingtheresultsofDiagnosticLabTest.Inaddition,theattributevalueLabTestResultValshouldbeselectedtoindicatewhetherthetestis‘normal’,‘abnormal’,or‘unclear’.● TumorCharacteristics:Thisincludesanymodifiersnotcoveredinthelistmentionedbelow.Forallthetumorcharacteristicsinthislist,thefollowingattributesshouldbeset:theattributeExperiencerValshouldbesettoindicatewhetherthepatient(default),familymembers,orothershavethesetumorcharacteristics.Modifiersofoldtumorsshouldbeaccompaniedwiththevalue“history”oftheattributeHistoryVal(defaultvalue:new). Similarly,allTumorModifierentitiesshouldalsoindicateanEpisodeDescriptionattributeafterdecipheringwhetheritisthe\n39\nhistologyatthe“FirstOccurrence”(default),“progression”,“recurrence”or“others”.AnynegationandmodalityshouldbeexpressedwiththeNegationModalityValattribute(default:affirmed).\nTherelationTestOrProcedureRevealswouldlaterbeaddedforanytumorpropertiesthathavebeenidentifiedwiththehelpofatestoraprocedure.\nTherelationTestOrProcedureConductedForProblemshouldlaterbeaddedforanytestorprocedurethatwasconductedforanytumorcharacteristics.\nTherelationSiteOfshouldbeusedtorelatesiteentitiestothecorrespondingtumorproperties.\nTherelationTreatmentAdministeredForProblemshouldlaterbeaddedtodescribeanyrelationsbetweentreatmentsadministeredforanyofthetumorcharacteristics.\n○ Histology:Thisincludesthehistologyofthetumoreitherrevealedbyatestorthehistologyofatumorinapatient’shistory.Unlessamorespecificdescriptionisavailable,thetumorhistologyshouldalsofollowtheICD-O3histology,whichcanbereferencedhere(andbyusing‘ICD-O3’‘Search’optionafterselectingtherelevanttextspaninBRAT).○ Metastasis:Entitytoannotatethementionsoftumormetastasis(tootherlocationsthanlymphnodes)intext.Ifmetastasisisnegated,thecorrespondingattributeforNegationModalityValshouldbeselected.Relationsshouldlaterbeaddedtodescribedetailsrelatedtothemetastasisevent,includingtheDatetimeofmetastasis(Temporal),siteofmetastasis(SiteOf),andthecorrespondingtumorhistology,ifany(MetastasisDesc).○ LymphNodeInvolvement:Entitytohighlightmentionsoflymphnodeinvolvementintext.Thenumberoflymphnodesinvolvedshouldbeincludedasapartofthisentityifmentioned,sameformicrometastasisoranyotherrelevantspecificdetail.Thesiteoflymphnodesshouldnotbeincludedasapartofthisentity,butshouldseparatelybeannotatedasSite,andlaterrelatedtothisentityusingthe‘SiteOf'relation.Notethatwewillnotannotatethelymphnodesexaminedatthisstage,onlythelymphnodesinvolved.○ Stage:Numericmentionsofthetumorstage,aswellasmentionslike“early”stage,shouldbeannotatedhere,forexample,‘IV’in“StageIV’.Theprefix“Stage”shouldnotbeannotated,andonlythenumberorthestagedescriptionshouldbe.Ifthestageismentionedasarange,forexample‘StageI-IIA’,‘I-IIA’shouldbeannotated.○ TNM:TheTNMstagesshouldbeannotatedhere.ThisincludesallTNMstageseitherasasingleentityorasindividualentities.Forexample,‘T2a’,‘pT1N0M0’,‘pN0’,‘pMX’,‘pT1N1M0(i+)’,‘ypT1’,‘cT1N1M1’shouldallbeannotated.Notethatweincludebothpathologicalandclinicalstages,alongwithdetailsofTNMsuchasprefixesforchangeofstageaftertherapy(y),aswellassuffixesabouttheprocedure,suchas(i+).○ Grade:Tumorgrade.Thisincludesbothnumericvaluessuchas‘1’(donotincludethe\n40\nprefix‘grade’),aswellastextualmentionssuchas‘low’in‘lowgrade’,‘intermediate’in‘intermediategrade’,etc.○ Size:Thesizeofthetumor,alongwiththecorrespondingunitsofmeasurement,shouldbeannotated.Forexample‘7*9*5mm’shouldbeannotatedasasingleentity.■ Sizecanbeforanypathological/surgical/radiologicalprocedureandthenrelatedtothatprocedurethroughTestOrProcedureReveals,inadditiontothedescriptiverelationSizeOf.○ LocalInvasion:Annotateallmentionsofwhetherthereisalocalinvasion.ThiswouldincludeLVI(microscopic),aswellasothertypesofinvasion,forexample,‘invadeschestwalls’etc.○ BiomarkerName:Anynamesofcancerbiomarkersshouldbeannotated.Forthesakeofgeneralization,ourdefinitionofabiomarkerisveryloose.Forexample,wewouldinclude‘ER’,‘PR’aswellas‘HER-2’asbiomarkernamesforbreastcancer.PSAforprostatecancerwouldbeannotatedasaDiagnosticLabTestandnotabiomarker.Pleaseannotateonlythefinaltestresultsifthetestwasconductedmultipletimes.Iftheresultsarepresentashistory,pleasehighlightitasthecorrespondingattributevalue‘HistoryVal’.Pleasenotethatanytermsindicatingtheresults,suchas‘+’in‘ER+’shouldbeannotatedasaseparateresultandwouldnotbeapartoftheBiomarkerNameentity.Anydetailsofthetestshouldnotbeincludedintheannotationspanandinsteadshouldbelabeledaspathologytest.\nImmunohistochemistrystainsshouldbelabeledhereunderbiomarker.Thenameofthegeneorproteinthatisbeingtestedforshouldbetheselectedentity\nTheseresultswouldberelatedwiththecorrespondingentitiesusingtheBiomarkerReltemporalrelation.\n○ BiomarkerResult:Theresultsofabiomarker,forexamplepositive,negative,equivocal,‘+’,‘-’etc.shouldbeannotatedastheBiomarkerResult.Anypercentages,ifmentioned,shouldbeincludedasapartoftheresult,forexample,‘+100%’.TheattributevalueBiomarkerResultValshouldadditionallybeusedtoindicateapositive,negative,lowpositive,orunclearresult.\nArelationBiomarkerRelbetweentheBiomarkerNameandtheBiomarkerResultshouldsubsequentlybeaddedtolinkdifferentbiomarkernameswithbiomarkerresults.\n● Procedure:○ ProcedureName:Nameofaprocedure.Thisincludesalltypesofdiagnosticprocedures,screeningprocedures,aswellastreatment-relatedsurgeries,suchas‘lumpectomy’,‘mastectomy’,‘colonoscopy’,etc.AllproceduresgettheattributeIntentValtoindicatetheintentoftheprocedure:whetheritisforscreening,staging,diagnosis,treatmentassessment,treatment(curative,palliative,orothers),diagnosingaswellastreatment,orothers.TreatmentTypeValentityshouldbesettoindicatewhetheritisanadjuvant\n41\nprocedure,neoadjuvant,maintenance,local,orotherprocedures(iftheprocedureisrelatedtotreatments).Iftheprocedureisbeingdiscussedforthefuture,thecorrespondingNegationModalityValattributeshouldbeset.IsTumorRemainingentityshouldbeusedtoindicatewhetheranytumorwasremainingaftertheprocedureornotiftheprocedurewastoremovethetumor(i.e.treatmentprocedure).Thisattributecanbeleftblankiftheprocedurewasnotaproceduredonewiththeintentoftreatingthepatient.TheattributeTreatmentCategoryshouldbeusedtoindicatewhetheritisanantineoplastictreatment(default),supportivetreatment,orothers.TheattributeExperiencerValshouldbesettoindicatewhetherthepatient(default),familymembers,orothershavethesetumorcharacteristics.\nIfaprocedurewasconductedinresponsetoanexistingproblem,tumorcharacteristics,orbecauseofdiseaseprogression,therelationTestOrProcedureConductedForProblemshouldbeadded.\nIfaprocedurerevealsamalignanttumor,clinicalcondition,ordiseaseprogression,theProcedureNamenameshouldberelatedtotherelevantentityusingtherelationTestOrProcedureReveals.\nIfanyproblemsuchasasymptomoraclinicalconditionwascausedbyaprocedure,therelationConditionOrTreatmentCausesProblemshouldbeadded.\n○ ProcedureModifier:Anymodifiersfortheprocedurethatarenotdescribedbyeithertheoutcomeorthemarginstatusshouldbeannotatedasthisgenericentity.TheattributesNegationModalityValandExperiencerValshouldbesetasdescribedearlierforallproceduremodifiers.\nForallthemodifiers(includingProcedureOutcomeandMarginStatus),therelationProcedureDescshouldbeaddedtodescribewhichprocedurearetheymodifiersfor.\n■ ProcedureOutcome:Anyoutcomeorresultofaprocedure,suchasresultsofabiopsythatisnotpathologycanbeannotatedastheProcedureOutcomeentity.ThiscanfurtherberelatedtotheProcedureNameentity.■ MarginStatus:Valueofthesurgicalmargins,alongwithcorrespondingunitsifany.Iftherearemultipleresections,onlythefinalmarginshouldbeannotated.TheMarginStatusentitytakestheattributeMarginValtoindicatewhetherthemarginispositive,morethan2mm(negative),lessthan2mm,orunclear.Onlythefinalmarginshouldbeannotatedinthecaseofmultiplementions.● Treatment:Treatments,broadlycategorizedunderthefollowingcategories:MedicationName,MedicationRegimen,RadiationTherapyName,orTreatmentType.Foralloftheseentities,afewattributesshouldbeset.TheattributeTreatmentContinuityValshouldbeusedtoindicatewhetheratreatmentwasstarted(immediately),planned(inthefuture;notimmediately),finished,discontinuedearly,oriscontinuingcurrently.Thedefaultvalue“started”wouldbeused\n42\nifnotindicatedotherwise.Similarly,undertheattributeTreatmentIntentVal,weshouldaddtheintentoftherapy:whetheritwascurative,palliative,orothers.Thedefaultvalueof“curative”wouldbeusedifnotindicatedotherwise.TheattributeTreatmentTypeValshouldbeusedtoindicatewhetherthetreatmentisneoadjuvant,adjuvant,maintenance,local,orothers.Arelationshouldbeaddedbetweenalltreatmententitiesandtheircorrespondingmodifiers(TreatmentDesc).TheattributesNegationModalityValandExperiencerValshouldbeusedasneededwithallofthefollowingentities.Relation(TreatmentAdministeredForProblem)shouldbeaddedbetweentreatmentnamesandtheclinicalcondition,symptoms,tumorcharacteristics,ordiseaseprogressionentitiesthattheyhavebeenadministeredfor.○ MedicationName:Thisincludesthenameofallcancer-specificmedicationtherapiesforallmodesofadministration,includingchemotherapy,hormonetherapyaswellasimmunotherapy(butnotradiationtherapy).Everyindividualmedicationnameshouldbeannotatedasaseparateentity.Medicationsadministeredformanagingsecondarysymptomsshouldbeannotatedas“supportivemedications.Thereisaseparatecategoryformedicationmodifierslikedosage,soonlythenameshouldbeincludedunderthisentity.AnattributeTreatmentCategoryshouldbesettoindicatewhetheritisanantineoplasticmedication,supportivemedication,orothers(otherscanbeskippedunlessitseemstobeparticularlyimportant).\nIfanyproblemsuchasasymptomoraclinicalconditionwascausedbecauseofamedication,therelationConditionOrTreatmentCausesProblemshouldbeaddedbetweentheproblemandthemedicationname.\nIfamedicationwasdiscontinuedbecauseofasymptom,clinicalcondition,diseaseprogression,insurance,orhospice,therelationTreatmentDiscontinuedBecauseOfshouldbeaddedbetweenthereasonandthemedicationname.\n○ MedicationRegimen:Ifmentionedexplicitlyinthetext,addthenameoftheregimenforamedication.Ifthetextalsomentionsthenameofmedicationsunderthisregimen,arelation(RegimenForName)shouldbeaddedbetweentheMedicationRegimenandtheMedicationNameentities.\nIfanyproblemsuchasasymptomoraclinicalconditionwascausedbecauseofamedicationregimen,therelationConditionOrTreatmentCausesProblemshouldbeaddedbetweentheproblemandthemedicationregimen.\nIfamedicationregimenwasdiscontinuedbecauseofasymptom,clinicalcondition,diseaseprogression,insurance,orhospice,therelationTreatmentDiscontinuedBecauseOfshouldbeaddedbetweenthereasonandthemedicationregimen.\n○ RadiationTherapyName:Thisincludesthenameoftheradiationtherapy.\n43\nIfanyproblemsuchasasymptomoraclinicalconditionwascausedbecauseofradiationtherapy,therelationConditionOrTreatmentCausesProblemshouldbeaddedbetweentheproblemandtheradiationtherapyname.\nIfradiationtherapywasdiscontinuedbecauseofasymptom,clinicalcondition,diseaseprogression,insurance,orhospice,therelationTreatmentDiscontinuedBecauseOfshouldbeaddedbetweenthereasonandtheradiationtherapyname.\n○ TreatmentDosage:ThisincludesdosageformedicationsaswellasRadiationTherapy.Theunitsfordosageshouldalsobeincluded.Ifthediscussionsarerelatedtodosereductioninsteadofexplicitmentionofdosage,forexample20%,thatshouldbeannotatedasthenextentity,‘TreatmentDoseModification’.ArelationshouldlaterbeaddedbetweentheTreatmentDosageandtheircorrespondingname(TreatmentDesc).○ TreatmentDoseModification:Asmentionedearlier,thisincludesmodificationstotheusualdosages,forexample,‘20%’,‘200%’,or‘3/4\nth\n’.ArelationshouldlaterbeaddedbetweentheTreatmentDoseModificationandtheircorrespondingname(TreatmentDesc).○ TreatmentType:Thetypeoftherapy,forexample,adjuvanttherapy,chemotherapy,etc.Anattributevaluetoindicatewhethertheyareneoadjuvant,adjuvant,maintenance,local,oranothertypeoftherapyisalsoprovidedas‘TreatmentTypeVal’.○ MedicationModifier:Anymodifierapartfromthosementionednext,aswellasapartfromdosage,anddosemodification,shouldbeannotatedasthegenericentityMedicationModifier.Arelationshouldlaterbeaddedbetweenallmodifiersandtheircorrespondingname(TreatmentDesc).ThedurationandfrequencycanbeannotatedasDatetimeexpressions,withtherighttypesetundertheDatetimeValattribute.■ Cycles:Numberofcyclesthatamedicationisadministeredfor,forexample,‘5’in‘5cycles’.Pleaseonlyhighlightthenumber,andnoneofthetermsthattalkaboutthecycleitself.Ifitisarange,pleaseannotatetheentirerange.○ RadiationTherapyModifier:AnymodifiersfortheRadiationTherapyapartfromdosage,dosemodification,duration,andtype(adjuvant,neoadjuvant,maintenance,local,others),shouldbehighlightedasthisentity.ArelationshouldlaterbeaddedbetweentheRadiationTherapyModifierandRadiationTherapyName(TreatmentDesc).● ClinicalTrial:Namesofclinicaltrialsdiscussedinthetextshouldbeannotated.ThesenamesshouldbemodifiedwiththeNegationModalityValattributeasneededtoindicateeitheranyhypotheticaldiscussionsortoindicatewhetherthepatientparticipatedinthetrialornot.Similarly,ExperienceValshouldbeusedtoindicatewhetherthediscussedclinicaltrialisinreferencetothepatientorothers.\nFurthermore,therelations‘InclusionCriteriaFor’and‘ExclusionCriteriaFor’shouldbeusedtorelateallotherentitiestothetrialiftheyqualifyasinclusionandexclusioncriteriarespectively.ThereisanadditionaloptiontoaddtemporalrelationsforClinicalTrialtoindicatetheDateTimeofthetrial.\n44\n● DiseaseState:Theentityshouldbemarkedforanymentionsofdiseasestate,suchasremission,progression,hospice,etc.TherelevantattributevalueofDiseaseStateValshouldbemarkedtoindicatethetypeoftheDiseaseState.Iftheconceptisnegated,thenthisentityshouldbemarked,alongwithitscorrespondingNegationModalityValattributevalue.AnydiscussionsaboutanyoneotherthanthepatientshouldbehighlightedwiththeattributeExperienceVal.\nManyrelationsarepossibleforthisentity,suchaswhetheratestorprocedurewasconductedduetoadiseasestate(TestOrProcedureConductedForProblem),whetheratestorprocedurerevealeddiseasestate(TestOrProcedureReveals),whetheratreatmentwasdiscontinuedduetoadiseasestate(TreatmentDiscontinuedBecauseOf),whetheratreatmentwasadministeredbecauseofadiseasestate(TreatmentAdministeredForProblem),ortoindicateInclusionCriteria,ExclusionCriteria,andTemporalrelations.Theserelationsshouldbeaddedinthesecondphase.\n● UnspecifiedEntity:Thiscategorywillbeusedwhenevernoneoftheexistingentitiesmatchwhatshouldbeannotated,buttheinformationisrelevantandshouldbeaddedtotheschema.Pleaseusethecommentsboxtodescribethisunspecificentity:i)whatitis,andii)whyitisrelevant.\nRelationannotations\n● Temporalrelationforallentities:Thefollowingrelationsareallowedbetweenthe(Datetime)entityandallotherentitiesinourdata.Differenttypesoftemporalrelationsallowedaredescribednext.ThedetaileddescriptionoftheserelationscanbeaccessedintheTHYMEannotationguidelinesunder‘TLINK’descriptions(Section6.2).Theserelationsaresymmetricandcanbeaddedineitherdirection.○ EventBeginsOnOrAtDatetime(BEGINS)○ EventEndsOnOrAtDatetime(ENDS)○ EventHappensAtOnDuringDatetime(DURING/CONTAINS)○ EventHappensBeforeDatetime(BEFORE)○ EventHappensAfterDatetime(AFTER)○ EventHappensOverlappingDatetime(OVERLAP).Thisreferstothesituationwhenaneventhappensoverlappingadatetimemention.Thesearemorecommoninrelationsbetweentwoeventsthough.● Descriptiverelations:○ ForSDoH:■ ConsumptionQuantityRel:Relationbetweenthe(ConsumptionQuantity)entityand(Alcohol,DrugorTobacco)entities.■ SDoHDesc:RelationbetweenanySDoHModifierandtheSDoHentities.○ Relationsrelatedtositeandlaterality:■ LateralityOfSite:Relationfromthe(Laterality)entitytothe(Site)entity,whichindicatesthelateralityforthementionedsite.■ SiteOf:Relationfromthe(Site)entitytoanyofthetestnameorresult,procedurenameorresult,tumormodifier,andproblementities(TumorTest,\n45\nRadiology,Pathology,GenomicTest,DiagnosticLabTest,ProcedureName,TestResult,RadPathResult,GenomicTestResult,LabTestResult,Histology,Metastasis,LymphNodeInvolvement,Stage,TNM,Grade,Size,LocalInvasion,BiomarkerName,TumorCharacteristics,Symptom,Clinicalcondition,Allergy,MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType,DiseaseState).Notethatifmultiplesitesoftestsexistanddifferentsiteshavedifferentresults,thisrelationshouldbelinkedtothetestresultinadditiontothetestname.Wehaveallowedthisrelationforalltumormodifiers,insteadofonlyhistology,sothattheycanbeusedifneeded.Forexample,therecanbecaseswherethetestconductedisn’tmentionedagainwhen(siteof)tumormodifiersarementioned,orthesiteforthetestisn’tmentioned,althoughthesiteforabiomarkerispresentinanote.○ SizeOf:Relationbetweena(Size)entityandotherentitiesindicatingwhatisitthesizeof:(TreatmentDosage,TreatmentDoseModification,MedicationModifier,Cycles,AdministrationMode,RadiationTherapyModifier,TestResult,RadPathResult,Symptom,ClinicalCondition,Allergy,ProcedureName).○ ResultOfTest:Relationfromresultsoftests,whichincludeseitheroftheseentities:(TestResult,RadPathResult,GenomicTestResult,LabTestResult)totheentitiesdescribingdiagnostictestsconductedforfindingtumors(TumorTest,Radiology,Pathology,GenomicTest,DiagnosticLabTest,ProcedureName).NotethatrelationswithprocedurenameareaddedasthistypeonlyiftheprocedureprovidesaRadPathResult,aGenomicTestResult,oraLabTestResult.AnyotherprocedureresultswouldbeannotatedastheProcedureOutcomeentity,andrelatedwiththeProcedureDescrelationinstead.○ ProcedureDesc:Thisrelatesaprocedurethatwasconducted(eithersurgicalordiagnostic)anditsmodifiers.Therelationisaddedbetweenentitypairs(ProcedureName)andtheentities(MarginStatus,ProcedureOutcome,ProcedureModifier).○ BiomarkerRel:Between(BiomarkerName)anditsresult(BiomarkerResult).○ TumorDesc:Abidirectionalrelationbetweentheentities(TumorCharacteristics,ClinicalCondition)(usedtoindicatetermslikecancer)toalltumormodifiers(Histology|Metastasis|LymphNodeInvolvement|Stage|TNM|Grade|Size|LocalInvasion|BiomarkerName).Thisrelationshouldbeaddedparticularlyifatestorprocedurewasnotconductedforthistumorandthereexistsadanglingrelationbetweentumormodifiersanditsparentotherwise.○ TreatmentDesc:BetweenTreatmentnameentities(MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType)andTreatmentmodifiers(TreatmentDosage,TreatmentDoseModification,MedicationModifier,Cycles,AdministrationMode,RadiationTherapyModifier).○ RegimenFor:Relationbetween(MedicationRegimen)and(MedicationNameorTreatmentType)entities.● Advancedrelations:\n46\n○ TestOrProcedureConductedForProblem:Relationthatindicatesthatatestwasconductedbecauseofasymptomoraclinicalconditionthatthepatientpresentedwith.Thisrelationisaddedbetweentheentities(TumorTest,Pathology,Radiology,GenomicTest,DiagnosticLabTest,ProcedureName)and(Symptom,ClinicalCondition,Allergy,DiseaseState,Histology,Metastasis,LymphNodeInvolvement,Stage,TNM,Grade,Size,LocalInvasion,BiomarkerName,TumorCharacteristics).○ TestOrProcedureReveals:Relationbetweendifferenttestentities(TumorTest,Pathology,Radiology,GenomicTest,DiagnosticLabTest,ProcedureName)andtheentitiesthathaverevealedaclinicalcondition,diseaseprogression,ortumorcharacteristics(Histology,Metastasis,LymphNodeInvolvement,Stage,TNM,Grade,Size,LocalInvasion,BiomarkerName,TumorCharacteristics,DiseaseState,Symptom,ClinicalCondition,Allergy).○ TreatmentDiscontinuedBecauseOf:Relationthatindicatesthereasonfordiscontinuingtreatment,ifany. Thisrelationisaddedfromtheentitygroup(MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentDosage,TreatmentDoseModification,MedicationModifier,Cycles,AdministrationMode,RadiationTherapyModifier)tothereasons,whichencompassmostotherentities.○ ConditionOrTreatmentCausesProblem:Thisrelationisaddedtoindicatethatanytreatmentcausedanewsymptomorclinicalcondition.Therelationwouldbeaddedbetweenentitypairs(MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType,ProcedureName,ClinicalCondition)and(ClinicalCondition,Symptom,Allergy).○ TreatmentAdministeredForProblem:Thisrelationisaddedtoindicatethatthetreatment(MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType)wasadministeredforagivenreason(symptom,clinicalcondition,allergy,orPatientCharacteristics,DiseaseState,Histology,Metastasis,LymphNodeInvolvement,Stage,TNM,Grade,Size,LocalInvasion,BiomarkerName,TumorCharacteristics,TestResult,RadPathResult,GenomicTestResult,LabTestResult,PerformanceStatus).Ifanyofthemodifiersisnotmentionedalongwithtreatment,thennoneedtorelateitacrossseveralnotes.○ NotUndergoneBecauseOf:Relationtoindicatethatatreatment,test,procedure,ortrialwasnotundergonebecauseofanyreasonsuchasinsurance,distance(annotatedasPatientCharacteristics),diseaseprogression,etc.Thisrelationcanbeaddedbetweentheentities(MedicationName|MedicationRegimen|RadiationTherapyName|TreatmentType|TumorTest|Radiology|Pathology|GenomicTest|DiagnosticLabTest|ProcedureName|ClinicalTrial)andMOSTotherentities(PatientCharacteristics|Symptom|ClinicalCondition|Allergy|SDoH|Alcohol|Drugs|Tobacco|PhysicalActivity|Employment|LivingCondition|Insurance|SexualOrientation|MaritalStatus|TumorTest|Radiology|Pathology|GenomicTest|DiagnosticLabTest|TestResult|RadPathResult|GenomicTestResult|LabTestResult|Histology|Metastasis|LymphNodeInvolvement|Stage|TNM|Grade|Size|LocalInvasion|BiomarkerName|TumorCharacteristics|Cli\n47\nnicalTrial|MedicationName|MedicationRegimen|RadiationTherapyName|TreatmentType|TreatmentDosage|TreatmentDoseModification|MedicationModifier|Cycles|AdministrationMode|RadiationTherapyModifier|ProcedureName|ProcedureModifier|MarginStatus|ProcedureOutcome|DiseaseState).○ Relationsaboutclinicaltrials:■ InclusionCriteriaFor:ThisshouldbeusedtorelateALLotherentitiestoeitheroftheentities(ClinicalTrial,MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType,ProcedureName)iftheyqualifyastheinclusioncriteriaforthistrial/treatment/procedure.Ifmultipleentitiesmakeupasingleinclusioncriterion,allofthemshouldberelatedtothetrialnameindividually.Theonlyexceptioniswhenthereexistsatransitiverelationbetweentheentities,forexamplewhenmedicationdosageislinkedtomedicationname,wecanonlylinkmedicationnametothetrial.■ ExclusionCriteriaFor:ThisshouldbeusedtorelateALLotherentitiestoeitheroftheentities(ClinicalTrial,MedicationName,MedicationRegimen,RadiationTherapyName,TreatmentType,ProcedureName)iftheyqualifyastheinclusioncriteriaforthistrial/treatment/procedure.\nQuantitativeEvaluationMetrics\nBLEUmetric\nTheBLEUmetricwasdesignedforautomatedevaluationoftextpairstoquantifytheoverlapbetween\ntokens,orwords,inthesepairs.Themetricprovidesamodiﬁedprecisionscorebycomputingtheoverlap\nbetweenposition-independentn-gramsofacandidatestringclippedtotheirmaximumoccurrenceinthe\nreferencestring(inourcasethelower-casedgeneratedmodeloutput,forexample,headacheofmild\nnature,11thdecember2022)andasetofcorrectreferencestrings(inourcasethelower-casedmanual\nannotationsoftherequestedinformation,forexample,{mildheadache:11thdecember2022,fever:11th\ndecember2022}),asfollows:\n48\nThescoresareaveragedovertheentirecorpustogetanoverallqualityestimate.Abrevitypenaltyis\naddedtopenalizecandidatestringsthataretooshortcomparedtothereferencestrings,sincebeinga\nprecision-focusedmetric,shortanswerswouldinevitablyleadtoahighBLEUscore.Theﬁnalscoresare\ncomputedassuch:\nThelengthofn-grams,orthenumberofwordsinmatchedphrases,isahyperparameter,whichwesetto\nbe4;wn\nisaweight,settoauniformvalue0.25.Toavoidpenalizingannotationsthatareshorterthan4\nwords,smoothingisadded,whichdisregardshigherordern-gramcomparisonsifthereference\nannotationsareshorter.Ofnoteisthat1.0BLEUscoreindicatesaperfectmatch,andthatBLEUcanonly\nquantifylexicaloverlap,anddoesnotmeasuresemanticoverlapbetweenstrings.\nROUGE-nmetric\nSimilartotheBLEUmetric,theROUGE-nmetricwasalsodesignedforautomatedevaluationoftext\npairsbyquantifyinganoverlapbetweentokensofthecandidatestringandasetofcorrectreference\nstrings.Insteadofbeingprecision-focused,thismetricisrecall-focused,andquantiﬁestheproportionof\nreferencetokenn-gramsthatarealsocoveredbytheoutputtext,asfollows:\n49\n\nWequantifyoverlapbysettingntobe1,whichquantiﬁessinglewordoverlapbetweenthereferencesand\nthecandidate.\nBLEUandROUGEmetricexample\nBLEUandROUGEscoresof1.0reﬂectaperfectoverlapbetweenmodeloutputandreference\nannotations(highperformance),andascoreof0referstonooverlap(poorperformance).Forexample,if\nthemodeloutputforrequestedradiologytestanddatetimeis“chestMRI:december2015”,andthe\nmanualannotationsrefertoitas“MRI:12thdecember2015”,theBLEU-4scorewouldbe0.45andthe\nROUGE-1scorewillbe0.75.BLEUscoreislowbecausethemodelprovidedthesitechestinadditionto\ntheannotatedinformation.ROUGEscoreislowerthan1.0sincethemodeldidnotincludethedate,12th,\ninitsoutputalthoughithasbeenannotated.\nSchemeforexpertmanual evaluation\nTheexpertevaluationcategorizedGPT-4outputinto3categories(correct,partiallycorrect,incorrect).\nPartiallycorrectandincorrectanswerswerefurthercategorizedintospeciﬁcmodesaccordingtothe\nfollowingscheme:\n1. Theoutputisentirelycorrect\n2. Theoutputispartiallycorrect\na. Theoutputcontainsmoreinformationthannecessary,andtheextrainformationis\ncorrect.Forexample,themodeloutputsthehistologyasstage2IDC,althoughthe\nexpectedanswerisonlyIDC,andstage2istherightstageforthiscancer.\n50\n\nb. Theoutputiscorrect,butsomeinformationismissingfromtheoutput.Forexample,the\nmodeloutputsonlyMRI:rightbreast;whentheMRIwasconductedforbothrightand\nleftbreasts.\nc. Theoutputcontainsmoreinformationthannecessary,buttheextrainformationis\nincorrect.Forexample,themodeloutputsthehistologyasstage2IDC,althoughthe\nexpectedanswerisonlyIDC,andstage2istheincorrectstageforthiscancer.\n3. Theoutputisincorrect\na. Independentexpertreviewerdeterminesthatthenotetextisambiguous,whereeither\nmanualannotationormodelanswercouldbeconsideredcorrect.\nb. Hallucinations1-themodelanswersfromtheinformationmentionedinthenote,butthe\nanswerisincorrectforthequestionasked.Forexample,anMRIthatwasconductedis\nreportedasaprocedureinsteadofaradiologytest.\nc. Hallucinations2-themodelfabricatesinformationnotdiscussedinthetext.For\nexample,eventhoughnoMRIwasconducted,themodeloutputsthatMRIwasconducted\nforthepatient.\nd. Correctoutputispresentintheinputtext,butthemodelreturnsunknown.\nAdditional Results\n51\nFigureS2:GPT-4performance(BLEUscores,ROUGEscores,andexactmatchF1scores)stratiﬁedby\ndiseasegroup.\nTableS2:Kruskal-Wallisteststatisticsforcomparingmodelperformanceacrosstheincluded\ngendersvariablesforeachinformationextractiontaskandmetric.Theqvaluesarecomputedafter\ncorrectingFalseDiscoveryRatewithBenjamini–Hochbergmethod.\n52\n\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nSymptomDatetime gpt-4 BLEU4 0.87 0.35 0.64\nSymptomDatetime gpt-4 ROUGE1 1.16 0.28 0.61\nSymptomDatetime gpt-4 EM_F1 2.12 0.14 0.44\nRadiologyTestDatetime gpt-4 BLEU4 2.73 0.10 0.36\nRadiologyTestDatetime gpt-4 ROUGE1 5.14 0.02 0.21\nRadiologyTestDatetime gpt-4 EM_F1 6.93 0.01 0.14\nRadiologyTestSite gpt-4 BLEU4 5.68 0.02 0.19\nRadiologyTestSite gpt-4 ROUGE1 9.47 0.00 0.08\nRadiologyTestSite gpt-4 EM_F1 3.88 0.05 0.33\nRadiologyTestReason gpt-4 BLEU4 5.42 0.02 0.20\nRadiologyTestReason gpt-4 ROUGE1 8.42 0.00 0.10\nRadiologyTestReason gpt-4 EM_F1 3.87 0.05 0.33\nRadiologyTestResult gpt-4 BLEU4 4.68 0.03 0.24\nRadiologyTestResult gpt-4 ROUGE1 2.21 0.14 0.44\nRadiologyTestResult gpt-4 EM_F1 5.45 0.02 0.20\nProcedureNameDatetime gpt-4 BLEU4 1.20 0.27 0.60\nProcedureNameDatetime gpt-4 ROUGE1 2.86 0.09 0.34\nProcedureNameDatetime gpt-4 EM_F1 2.57 0.11 0.38\nProcedureNameSite gpt-4 BLEU4 2.41 0.12 0.40\nProcedureNameSite gpt-4 ROUGE1 1.48 0.22 0.57\nProcedureNameSite gpt-4 EM_F1 0.06 0.81 0.93\nProcedureNameReason gpt-4 BLEU4 0.97 0.33 0.62\nProcedureNameReason gpt-4 ROUGE1 3.15 0.08 0.34\nProcedureNameReason gpt-4 EM_F1 1.02 0.31 0.61\nProcedureNameResult gpt-4 BLEU4 0.52 0.47 0.72\nProcedureNameResult gpt-4 ROUGE1 1.37 0.24 0.60\nProcedureNameResult gpt-4 EM_F1 1.13 0.29 0.61\nGenomicTestNameDatetime gpt-4 BLEU4 1.21 0.27 0.60\nGenomicTestNameDatetime gpt-4 ROUGE1 0.88 0.35 0.64\n53\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nGenomicTestNameDatetime gpt-4 EM_F1 1.79 0.18 0.51\nGenomicTestNameResult gpt-4 BLEU4 0.78 0.38 0.66\nGenomicTestNameResult gpt-4 ROUGE1 1.48 0.22 0.57\nGenomicTestNameResult gpt-4 EM_F1 1.27 0.26 0.60\nBiomarkerDatetime gpt-4 BLEU4 1.73 0.19 0.52\nBiomarkerDatetime gpt-4 ROUGE1 2.69 0.10 0.36\nBiomarkerDatetime gpt-4 EM_F1 0.02 0.88 0.94\nHistologyDatetime gpt-4 BLEU4 3.11 0.08 0.34\nHistologyDatetime gpt-4 ROUGE1 3.09 0.08 0.34\nHistologyDatetime gpt-4 EM_F1 2.52 0.11 0.39\nMetastasisSite gpt-4 BLEU4 0.22 0.64 0.83\nMetastasisSite gpt-4 ROUGE1 0.00 0.99 1.00\nMetastasisSite gpt-4 EM_F1 0.73 0.39 0.67\nMetastasisProcedure gpt-4 BLEU4 0.19 0.66 0.83\nMetastasisProcedure gpt-4 ROUGE1 0.06 0.81 0.93\nMetastasisProcedure gpt-4 EM_F1 1.02 0.31 0.61\nMetastasisDatetime gpt-4 BLEU4 0.09 0.76 0.91\nMetastasisDatetime gpt-4 ROUGE1 0.23 0.63 0.83\nMetastasisDatetime gpt-4 EM_F1 0.87 0.35 0.64\nStageDatetime gpt-4 BLEU4 0.06 0.81 0.93\nStageDatetime gpt-4 ROUGE1 0.04 0.83 0.93\nStageDatetime gpt-4 EM_F1 0.04 0.85 0.93\nTNMDatetime gpt-4 BLEU4 0.20 0.66 0.83\nTNMDatetime gpt-4 ROUGE1 0.10 0.75 0.91\nGradeDatetime gpt-4 BLEU4 2.13 0.14 0.44\nGradeDatetime gpt-4 ROUGE1 3.32 0.07 0.34\nGradeDatetime gpt-4 EM_F1 3.33 0.07 0.34\nMedicationNameBegin gpt-4 BLEU4 1.92 0.17 0.48\nMedicationNameBegin gpt-4 ROUGE1 1.09 0.30 0.61\n54\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMedicationNameBegin gpt-4 EM_F1 1.98 0.16 0.47\nMedicationNameEnd gpt-4 BLEU4 6.46 0.01 0.17\nMedicationNameEnd gpt-4 ROUGE1 2.87 0.09 0.34\nMedicationNameEnd gpt-4 EM_F1 3.39 0.07 0.34\nMedicationNameReason gpt-4 BLEU4 3.19 0.07 0.34\nMedicationNameReason gpt-4 ROUGE1 2.14 0.14 0.44\nMedicationNameReason gpt-4 EM_F1 3.06 0.08 0.34\nMedicationNameContinuity gpt-4 BLEU4 5.33 0.02 0.20\nMedicationNameContinuity gpt-4 ROUGE1 1.78 0.18 0.51\nMedicationNameContinuity gpt-4 EM_F1 3.07 0.08 0.34\nMedicationNameConﬁrmedAdvEvent gpt-4 BLEU4 1.45 0.23 0.57\nMedicationNameConﬁrmedAdvEvent gpt-4 ROUGE1 0.03 0.86 0.93\nMedicationNameConﬁrmedAdvEvent gpt-4 EM_F1 0.53 0.47 0.72\nMedicationNamePotentialAdvEvent gpt-4 BLEU4 1.08 0.30 0.61\nMedicationNamePotentialAdvEvent gpt-4 ROUGE1 0.53 0.46 0.72\nMedicationNamePotentialAdvEvent gpt-4 EM_F1 1.33 0.25 0.60\nMedicationNameConsideration gpt-4 BLEU4 0.67 0.41 0.67\nMedicationNameConsideration gpt-4 ROUGE1 1.19 0.28 0.60\nMedicationNameConsideration gpt-4 EM_F1 0.49 0.48 0.73\nSymptomDatetime gpt-35-turbo BLEU4 7.00 0.01 0.14\nSymptomDatetime gpt-35-turbo ROUGE1 12.73 0.00 0.07\nSymptomDatetime gpt-35-turbo EM_F1 9.60 0.00 0.08\nRadiologyTestDatetime gpt-35-turbo BLEU4 4.85 0.03 0.23\nRadiologyTestDatetime gpt-35-turbo ROUGE1 2.25 0.13 0.44\nRadiologyTestDatetime gpt-35-turbo EM_F1 0.43 0.51 0.75\nRadiologyTestSite gpt-35-turbo BLEU4 0.94 0.33 0.63\n55\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nRadiologyTestSite gpt-35-turbo ROUGE1 0.08 0.78 0.93\nRadiologyTestSite gpt-35-turbo EM_F1 0.80 0.37 0.65\nRadiologyTestReason gpt-35-turbo BLEU4 0.01 0.92 0.97\nRadiologyTestReason gpt-35-turbo ROUGE1 0.07 0.80 0.93\nRadiologyTestReason gpt-35-turbo EM_F1 0.01 0.94 0.97\nRadiologyTestResult gpt-35-turbo BLEU4 1.29 0.26 0.60\nRadiologyTestResult gpt-35-turbo ROUGE1 0.30 0.59 0.80\nRadiologyTestResult gpt-35-turbo EM_F1 0.05 0.83 0.93\nProcedureNameDatetime gpt-35-turbo BLEU4 0.01 0.90 0.96\nProcedureNameDatetime gpt-35-turbo ROUGE1 0.42 0.52 0.75\nProcedureNameDatetime gpt-35-turbo EM_F1 4.28 0.04 0.28\nProcedureNameSite gpt-35-turbo BLEU4 6.31 0.01 0.17\nProcedureNameSite gpt-35-turbo ROUGE1 2.06 0.15 0.46\nProcedureNameSite gpt-35-turbo EM_F1 3.30 0.07 0.34\nProcedureNameReason gpt-35-turbo BLEU4 2.20 0.14 0.44\nProcedureNameReason gpt-35-turbo ROUGE1 1.91 0.17 0.48\nProcedureNameReason gpt-35-turbo EM_F1 0.21 0.64 0.83\nProcedureNameResult gpt-35-turbo BLEU4 1.52 0.22 0.57\nProcedureNameResult gpt-35-turbo ROUGE1 0.66 0.42 0.67\nProcedureNameResult gpt-35-turbo EM_F1 1.13 0.29 0.61\nGenomicTestNameDatetime gpt-35-turbo BLEU4 3.08 0.08 0.34\nGenomicTestNameDatetime gpt-35-turbo ROUGE1 3.06 0.08 0.34\nGenomicTestNameDatetime gpt-35-turbo EM_F1 4.64 0.03 0.24\nGenomicTestNameResult gpt-35-turbo BLEU4 1.53 0.22 0.57\nGenomicTestNameResult gpt-35-turbo ROUGE1 3.63 0.06 0.34\nGenomicTestNameResult gpt-35-turbo EM_F1 3.30 0.07 0.34\nBiomarkerDatetime gpt-35-turbo BLEU4 7.37 0.01 0.13\nBiomarkerDatetime gpt-35-turbo ROUGE1 11.67 0.00 0.07\nBiomarkerDatetime gpt-35-turbo EM_F1 0.06 0.81 0.93\n56\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nHistologyDatetime gpt-35-turbo BLEU4 0.38 0.54 0.76\nHistologyDatetime gpt-35-turbo ROUGE1 0.20 0.65 0.83\nHistologyDatetime gpt-35-turbo EM_F1 0.21 0.64 0.83\nMetastasisSite gpt-35-turbo BLEU4 0.01 0.94 0.97\nMetastasisSite gpt-35-turbo ROUGE1 0.01 0.93 0.97\nMetastasisSite gpt-35-turbo EM_F1 0.50 0.48 0.73\nMetastasisProcedure gpt-35-turbo BLEU4 0.28 0.60 0.80\nMetastasisProcedure gpt-35-turbo ROUGE1 0.05 0.82 0.93\nMetastasisProcedure gpt-35-turbo EM_F1 0.41 0.52 0.75\nMetastasisDatetime gpt-35-turbo BLEU4 1.15 0.28 0.61\nMetastasisDatetime gpt-35-turbo ROUGE1 0.09 0.76 0.91\nMetastasisDatetime gpt-35-turbo EM_F1 0.46 0.50 0.74\nStageDatetime gpt-35-turbo BLEU4 8.26 0.00 0.10\nStageDatetime gpt-35-turbo ROUGE1 5.93 0.01 0.17\nStageDatetime gpt-35-turbo EM_F1 9.63 0.00 0.08\nTNMDatetime gpt-35-turbo BLEU4 0.15 0.70 0.86\nTNMDatetime gpt-35-turbo ROUGE1 0.05 0.82 0.93\nGradeDatetime gpt-35-turbo BLEU4 5.06 0.02 0.21\nGradeDatetime gpt-35-turbo ROUGE1 7.49 0.01 0.13\nGradeDatetime gpt-35-turbo EM_F1 7.54 0.01 0.13\nMedicationNameBegin gpt-35-turbo BLEU4 0.50 0.48 0.73\nMedicationNameBegin gpt-35-turbo ROUGE1 0.05 0.82 0.93\nMedicationNameBegin gpt-35-turbo EM_F1 0.55 0.46 0.72\nMedicationNameEnd gpt-35-turbo BLEU4 1.69 0.19 0.52\nMedicationNameEnd gpt-35-turbo ROUGE1 0.01 0.91 0.97\nMedicationNameEnd gpt-35-turbo EM_F1 0.38 0.54 0.76\nMedicationNameReason gpt-35-turbo BLEU4 0.31 0.58 0.80\nMedicationNameReason gpt-35-turbo ROUGE1 0.33 0.56 0.79\nMedicationNameReason gpt-35-turbo EM_F1 0.74 0.39 0.67\n57\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMedicationNameContinuity gpt-35-turbo BLEU4 0.29 0.59 0.80\nMedicationNameContinuity gpt-35-turbo ROUGE1 0.64 0.42 0.67\nMedicationNameContinuity gpt-35-turbo EM_F1 0.01 0.93 0.97\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo BLEU4 0.01 0.92 0.97\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo ROUGE1 0.42 0.52 0.75\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo EM_F1 0.03 0.86 0.93\nMedicationNamePotentialAdvEvent gpt-35-turbo BLEU4 1.18 0.28 0.60\nMedicationNamePotentialAdvEvent gpt-35-turbo ROUGE1 5.91 0.02 0.17\nMedicationNamePotentialAdvEvent gpt-35-turbo EM_F1 0.92 0.34 0.63\nMedicationNameConsideration gpt-35-turbo BLEU4 0.00 0.97 0.99\nMedicationNameConsideration gpt-35-turbo ROUGE1 1.33 0.25 0.60\nMedicationNameConsideration gpt-35-turbo EM_F1 0.05 0.83 0.93\nSymptomDatetime FLAN-UL2 BLEU4 0.00 0.99 1.00\nSymptomDatetime FLAN-UL2 ROUGE1 0.28 0.60 0.80\nSymptomDatetime FLAN-UL2 EM_F1 0.26 0.61 0.81\nRadiologyTestDatetime FLAN-UL2 BLEU4 2.96 0.09 0.34\nRadiologyTestDatetime FLAN-UL2 ROUGE1 0.02 0.90 0.96\nRadiologyTestDatetime FLAN-UL2 EM_F1 0.07 0.79 0.93\nRadiologyTestSite FLAN-UL2 BLEU4 0.18 0.67 0.84\nRadiologyTestSite FLAN-UL2 ROUGE1 0.04 0.84 0.93\nRadiologyTestReason FLAN-UL2 BLEU4 2.44 0.12 0.40\nRadiologyTestReason FLAN-UL2 ROUGE1 0.00 0.97 0.99\nRadiologyTestReason FLAN-UL2 EM_F1 0.00 1.00 1.00\nRadiologyTestResult FLAN-UL2 BLEU4 0.04 0.84 0.93\nRadiologyTestResult FLAN-UL2 ROUGE1 1.28 0.26 0.60\nRadiologyTestResult FLAN-UL2 EM_F1 0.27 0.60 0.80\n58\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nProcedureNameDatetime FLAN-UL2 BLEU4 3.39 0.07 0.34\nProcedureNameDatetime FLAN-UL2 ROUGE1 0.85 0.36 0.64\nProcedureNameDatetime FLAN-UL2 EM_F1 1.82 0.18 0.50\nProcedureNameSite FLAN-UL2 BLEU4 1.34 0.25 0.60\nProcedureNameSite FLAN-UL2 ROUGE1 0.67 0.41 0.67\nProcedureNameReason FLAN-UL2 BLEU4 0.00 0.99 1.00\nProcedureNameReason FLAN-UL2 ROUGE1 1.04 0.31 0.61\nProcedureNameReason FLAN-UL2 EM_F1 0.71 0.40 0.67\nProcedureNameResult FLAN-UL2 BLEU4 0.16 0.69 0.86\nProcedureNameResult FLAN-UL2 ROUGE1 1.97 0.16 0.47\nProcedureNameResult FLAN-UL2 EM_F1 0.68 0.41 0.67\nGenomicTestNameDatetime FLAN-UL2 BLEU4 0.21 0.65 0.83\nGenomicTestNameDatetime FLAN-UL2 ROUGE1 1.02 0.31 0.61\nGenomicTestNameDatetime FLAN-UL2 EM_F1 0.71 0.40 0.67\nGenomicTestNameResult FLAN-UL2 BLEU4 1.26 0.26 0.60\nGenomicTestNameResult FLAN-UL2 ROUGE1 0.40 0.52 0.75\nBiomarkerDatetime FLAN-UL2 BLEU4 0.85 0.36 0.64\nBiomarkerDatetime FLAN-UL2 ROUGE1 0.42 0.51 0.75\nBiomarkerDatetime FLAN-UL2 EM_F1 0.23 0.64 0.83\nHistologyDatetime FLAN-UL2 BLEU4 0.71 0.40 0.67\nHistologyDatetime FLAN-UL2 ROUGE1 0.97 0.33 0.62\nHistologyDatetime FLAN-UL2 EM_F1 0.01 0.94 0.97\nMetastasisSite FLAN-UL2 BLEU4 0.19 0.67 0.83\nMetastasisSite FLAN-UL2 ROUGE1 2.90 0.09 0.34\nMetastasisSite FLAN-UL2 EM_F1 0.68 0.41 0.67\nMetastasisProcedure FLAN-UL2 BLEU4 0.80 0.37 0.65\nMetastasisProcedure FLAN-UL2 ROUGE1 1.04 0.31 0.61\nMetastasisDatetime FLAN-UL2 BLEU4 0.30 0.58 0.80\nMetastasisDatetime FLAN-UL2 ROUGE1 0.99 0.32 0.62\n59\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nStageDatetime FLAN-UL2 BLEU4 3.61 0.06 0.34\nStageDatetime FLAN-UL2 ROUGE1 3.39 0.07 0.34\nStageDatetime FLAN-UL2 EM_F1 4.64 0.03 0.24\nTNMDatetime FLAN-UL2 BLEU4 0.88 0.35 0.64\nTNMDatetime FLAN-UL2 ROUGE1 1.10 0.29 0.61\nTNMDatetime FLAN-UL2 EM_F1 0.45 0.50 0.75\nGradeDatetime FLAN-UL2 BLEU4 8.37 0.00 0.10\nGradeDatetime FLAN-UL2 ROUGE1 5.93 0.01 0.17\nGradeDatetime FLAN-UL2 EM_F1 2.92 0.09 0.34\nMedicationNameBegin FLAN-UL2 BLEU4 3.88 0.05 0.33\nMedicationNameBegin FLAN-UL2 ROUGE1 1.19 0.27 0.60\nMedicationNameBegin FLAN-UL2 EM_F1 0.33 0.57 0.79\nMedicationNameEnd FLAN-UL2 BLEU4 0.04 0.84 0.93\nMedicationNameEnd FLAN-UL2 ROUGE1 3.20 0.07 0.34\nMedicationNameEnd FLAN-UL2 EM_F1 0.64 0.42 0.67\nMedicationNameReason FLAN-UL2 BLEU4 6.23 0.01 0.17\nMedicationNameReason FLAN-UL2 ROUGE1 9.61 0.00 0.08\nMedicationNameReason FLAN-UL2 EM_F1 0.68 0.41 0.67\nMedicationNameContinuity FLAN-UL2 BLEU4 3.04 0.08 0.34\nMedicationNameContinuity FLAN-UL2 ROUGE1 3.07 0.08 0.34\nMedicationNameContinuity FLAN-UL2 EM_F1 2.68 0.10 0.36\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 BLEU4 0.54 0.46 0.72\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 ROUGE1 2.91 0.09 0.34\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 EM_F1 1.50 0.22 0.57\nMedicationNamePotentialAdvEvent FLAN-UL2 BLEU4 0.12 0.73 0.90\nMedicationNamePotentialAdvEvent FLAN-UL2 ROUGE1 0.12 0.73 0.89\nMedicationNamePotentialAdvEvent FLAN-UL2 EM_F1 1.71 0.19 0.52\n60\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMedicationNameConsideration FLAN-UL2 BLEU4 0.05 0.82 0.93\nMedicationNameConsideration FLAN-UL2 ROUGE1 3.61 0.06 0.34\nMedicationNameConsideration FLAN-UL2 EM_F1 0.09 0.76 0.91\nTableS3:Kruskal-Wallisteststatisticsforcomparingmodelperformanceacrosstheincluded\nrace/ethnicityvariablesforeachinformationextractiontaskandmetric.Theqvaluesarecomputed\naftercorrectingFalseDiscoveryRatewithBenjamini–Hochbergmethod.\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nSymptomDatetime gpt-4 BLEU4 12.64 0.12 0.79\nSymptomDatetime gpt-4 ROUGE1 5.39 0.72 0.93\nSymptomDatetime gpt-4 EM_F1 5.50 0.70 0.93\nRadiologyTestDatetime gpt-4 BLEU4 8.69 0.37 0.82\nRadiologyTestDatetime gpt-4 ROUGE1 9.27 0.32 0.82\nRadiologyTestDatetime gpt-4 EM_F1 8.78 0.36 0.82\nRadiologyTestSite gpt-4 BLEU4 3.39 0.91 0.96\nRadiologyTestSite gpt-4 ROUGE1 8.46 0.39 0.83\nRadiologyTestSite gpt-4 EM_F1 4.13 0.84 0.95\nRadiologyTestReason gpt-4 BLEU4 5.96 0.65 0.91\nRadiologyTestReason gpt-4 ROUGE1 6.24 0.62 0.90\nRadiologyTestReason gpt-4 EM_F1 6.27 0.62 0.90\nRadiologyTestResult gpt-4 BLEU4 6.34 0.61 0.90\nRadiologyTestResult gpt-4 ROUGE1 5.84 0.67 0.92\nRadiologyTestResult gpt-4 EM_F1 5.22 0.73 0.93\nProcedureNameDatetime gpt-4 BLEU4 2.17 0.98 0.98\nProcedureNameDatetime gpt-4 ROUGE1 4.35 0.82 0.95\nProcedureNameDatetime gpt-4 EM_F1 5.10 0.75 0.93\nProcedureNameSite gpt-4 BLEU4 3.32 0.91 0.96\n61\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nProcedureNameSite gpt-4 ROUGE1 3.42 0.91 0.96\nProcedureNameSite gpt-4 EM_F1 4.68 0.79 0.95\nProcedureNameReason gpt-4 BLEU4 3.18 0.92 0.96\nProcedureNameReason gpt-4 ROUGE1 4.00 0.86 0.95\nProcedureNameReason gpt-4 EM_F1 5.16 0.74 0.93\nProcedureNameResult gpt-4 BLEU4 1.98 0.98 0.99\nProcedureNameResult gpt-4 ROUGE1 3.36 0.91 0.96\nProcedureNameResult gpt-4 EM_F1 7.29 0.51 0.90\nGenomicTestNameDatetime gpt-4 BLEU4 9.58 0.30 0.79\nGenomicTestNameDatetime gpt-4 ROUGE1 11.10 0.20 0.79\nGenomicTestNameDatetime gpt-4 EM_F1 12.63 0.13 0.79\nGenomicTestNameResult gpt-4 BLEU4 10.11 0.26 0.79\nGenomicTestNameResult gpt-4 ROUGE1 10.47 0.23 0.79\nGenomicTestNameResult gpt-4 EM_F1 13.54 0.09 0.79\nBiomarkerDatetime gpt-4 BLEU4 11.70 0.17 0.79\nBiomarkerDatetime gpt-4 ROUGE1 8.84 0.36 0.82\nBiomarkerDatetime gpt-4 EM_F1 8.17 0.42 0.87\nHistologyDatetime gpt-4 BLEU4 11.11 0.20 0.79\nHistologyDatetime gpt-4 ROUGE1 7.67 0.47 0.90\nHistologyDatetime gpt-4 EM_F1 10.56 0.23 0.79\nMetastasisSite gpt-4 BLEU4 11.71 0.16 0.79\nMetastasisSite gpt-4 ROUGE1 7.53 0.48 0.90\nMetastasisSite gpt-4 EM_F1 12.40 0.13 0.79\nMetastasisProcedure gpt-4 BLEU4 8.39 0.40 0.83\nMetastasisProcedure gpt-4 ROUGE1 6.32 0.61 0.90\nMetastasisProcedure gpt-4 EM_F1 11.21 0.19 0.79\nMetastasisDatetime gpt-4 BLEU4 9.18 0.33 0.82\nMetastasisDatetime gpt-4 ROUGE1 6.51 0.59 0.90\nMetastasisDatetime gpt-4 EM_F1 11.10 0.20 0.79\n62\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nStageDatetime gpt-4 BLEU4 11.28 0.19 0.79\nStageDatetime gpt-4 ROUGE1 12.25 0.14 0.79\nStageDatetime gpt-4 EM_F1 12.31 0.14 0.79\nTNMDatetime gpt-4 BLEU4 12.67 0.12 0.79\nTNMDatetime gpt-4 ROUGE1 12.51 0.13 0.79\nGradeDatetime gpt-4 BLEU4 6.18 0.63 0.91\nGradeDatetime gpt-4 ROUGE1 4.24 0.83 0.95\nGradeDatetime gpt-4 EM_F1 4.37 0.82 0.95\nMedicationNameBegin gpt-4 BLEU4 8.50 0.39 0.83\nMedicationNameBegin gpt-4 ROUGE1 5.45 0.71 0.93\nMedicationNameBegin gpt-4 EM_F1 7.34 0.50 0.90\nMedicationNameEnd gpt-4 BLEU4 10.34 0.24 0.79\nMedicationNameEnd gpt-4 ROUGE1 7.00 0.54 0.90\nMedicationNameEnd gpt-4 EM_F1 9.08 0.34 0.82\nMedicationNameReason gpt-4 BLEU4 9.81 0.28 0.79\nMedicationNameReason gpt-4 ROUGE1 8.74 0.36 0.82\nMedicationNameReason gpt-4 EM_F1 11.26 0.19 0.79\nMedicationNameContinuity gpt-4 BLEU4 10.03 0.26 0.79\nMedicationNameContinuity gpt-4 ROUGE1 7.64 0.47 0.90\nMedicationNameContinuity gpt-4 EM_F1 9.49 0.30 0.79\nMedicationNameConﬁrmedAdvEvent gpt-4 BLEU4 10.75 0.22 0.79\nMedicationNameConﬁrmedAdvEvent gpt-4 ROUGE1 9.75 0.28 0.79\nMedicationNameConﬁrmedAdvEvent gpt-4 EM_F1 6.54 0.59 0.90\nMedicationNamePotentialAdvEvent gpt-4 BLEU4 9.21 0.32 0.82\nMedicationNamePotentialAdvEvent gpt-4 ROUGE1 5.42 0.71 0.93\nMedicationNamePotentialAdvEvent gpt-4 EM_F1 6.75 0.56 0.90\nMedicationNameConsideration gpt-4 BLEU4 8.49 0.39 0.83\nMedicationNameConsideration gpt-4 ROUGE1 5.46 0.71 0.93\nMedicationNameConsideration gpt-4 EM_F1 5.43 0.71 0.93\n63\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nSymptomDatetime gpt-35-turbo BLEU4 11.02 0.20 0.79\nSymptomDatetime gpt-35-turbo ROUGE1 6.50 0.59 0.90\nSymptomDatetime gpt-35-turbo EM_F1 8.83 0.36 0.82\nRadiologyTestDatetime gpt-35-turbo BLEU4 8.83 0.36 0.82\nRadiologyTestDatetime gpt-35-turbo ROUGE1 10.91 0.21 0.79\nRadiologyTestDatetime gpt-35-turbo EM_F1 11.59 0.17 0.79\nRadiologyTestSite gpt-35-turbo BLEU4 6.08 0.64 0.91\nRadiologyTestSite gpt-35-turbo ROUGE1 12.48 0.13 0.79\nRadiologyTestSite gpt-35-turbo EM_F1 7.73 0.46 0.90\nRadiologyTestReason gpt-35-turbo BLEU4 2.67 0.95 0.97\nRadiologyTestReason gpt-35-turbo ROUGE1 7.66 0.47 0.90\nRadiologyTestReason gpt-35-turbo EM_F1 10.84 0.21 0.79\nRadiologyTestResult gpt-35-turbo BLEU4 7.19 0.52 0.90\nRadiologyTestResult gpt-35-turbo ROUGE1 10.63 0.22 0.79\nRadiologyTestResult gpt-35-turbo EM_F1 9.03 0.34 0.82\nProcedureNameDatetime gpt-35-turbo BLEU4 10.37 0.24 0.79\nProcedureNameDatetime gpt-35-turbo ROUGE1 15.32 0.05 0.63\nProcedureNameDatetime gpt-35-turbo EM_F1 4.28 0.83 0.95\nProcedureNameSite gpt-35-turbo BLEU4 1.17 1.00 1.00\nProcedureNameSite gpt-35-turbo ROUGE1 4.08 0.85 0.95\nProcedureNameSite gpt-35-turbo EM_F1 6.40 0.60 0.90\nProcedureNameReason gpt-35-turbo BLEU4 6.68 0.57 0.90\nProcedureNameReason gpt-35-turbo ROUGE1 8.09 0.42 0.88\nProcedureNameReason gpt-35-turbo EM_F1 9.92 0.27 0.79\nProcedureNameResult gpt-35-turbo BLEU4 7.08 0.53 0.90\nProcedureNameResult gpt-35-turbo ROUGE1 6.28 0.62 0.90\nProcedureNameResult gpt-35-turbo EM_F1 9.01 0.34 0.82\nGenomicTestNameDatetime gpt-35-turbo BLEU4 6.36 0.61 0.90\nGenomicTestNameDatetime gpt-35-turbo ROUGE1 10.54 0.23 0.79\n64\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nGenomicTestNameDatetime gpt-35-turbo EM_F1 7.88 0.45 0.90\nGenomicTestNameResult gpt-35-turbo BLEU4 2.63 0.96 0.97\nGenomicTestNameResult gpt-35-turbo ROUGE1 5.96 0.65 0.91\nGenomicTestNameResult gpt-35-turbo EM_F1 4.23 0.84 0.95\nBiomarkerDatetime gpt-35-turbo BLEU4 14.84 0.06 0.67\nBiomarkerDatetime gpt-35-turbo ROUGE1 16.05 0.04 0.56\nBiomarkerDatetime gpt-35-turbo EM_F1 7.28 0.51 0.90\nHistologyDatetime gpt-35-turbo BLEU4 7.55 0.48 0.90\nHistologyDatetime gpt-35-turbo ROUGE1 5.04 0.75 0.93\nHistologyDatetime gpt-35-turbo EM_F1 6.79 0.56 0.90\nMetastasisSite gpt-35-turbo BLEU4 9.11 0.33 0.82\nMetastasisSite gpt-35-turbo ROUGE1 8.95 0.35 0.82\nMetastasisSite gpt-35-turbo EM_F1 12.65 0.12 0.79\nMetastasisProcedure gpt-35-turbo BLEU4 6.42 0.60 0.90\nMetastasisProcedure gpt-35-turbo ROUGE1 10.21 0.25 0.79\nMetastasisProcedure gpt-35-turbo EM_F1 13.73 0.09 0.79\nMetastasisDatetime gpt-35-turbo BLEU4 9.58 0.30 0.79\nMetastasisDatetime gpt-35-turbo ROUGE1 9.79 0.28 0.79\nMetastasisDatetime gpt-35-turbo EM_F1 13.69 0.09 0.79\nStageDatetime gpt-35-turbo BLEU4 3.29 0.91 0.96\nStageDatetime gpt-35-turbo ROUGE1 2.56 0.96 0.97\nStageDatetime gpt-35-turbo EM_F1 4.48 0.81 0.95\nTNMDatetime gpt-35-turbo BLEU4 6.91 0.55 0.90\nTNMDatetime gpt-35-turbo ROUGE1 7.07 0.53 0.90\nGradeDatetime gpt-35-turbo BLEU4 21.01 0.01 0.20\nGradeDatetime gpt-35-turbo ROUGE1 16.51 0.04 0.54\nGradeDatetime gpt-35-turbo EM_F1 17.44 0.03 0.52\nMedicationNameBegin gpt-35-turbo BLEU4 7.19 0.52 0.90\nMedicationNameBegin gpt-35-turbo ROUGE1 6.87 0.55 0.90\n65\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMedicationNameBegin gpt-35-turbo EM_F1 5.23 0.73 0.93\nMedicationNameEnd gpt-35-turbo BLEU4 4.43 0.82 0.95\nMedicationNameEnd gpt-35-turbo ROUGE1 3.63 0.89 0.96\nMedicationNameEnd gpt-35-turbo EM_F1 3.01 0.93 0.96\nMedicationNameReason gpt-35-turbo BLEU4 6.93 0.54 0.90\nMedicationNameReason gpt-35-turbo ROUGE1 4.90 0.77 0.93\nMedicationNameReason gpt-35-turbo EM_F1 9.71 0.29 0.79\nMedicationNameContinuity gpt-35-turbo BLEU4 3.05 0.93 0.96\nMedicationNameContinuity gpt-35-turbo ROUGE1 3.56 0.89 0.96\nMedicationNameContinuity gpt-35-turbo EM_F1 3.27 0.92 0.96\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo BLEU4 3.91 0.87 0.96\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo ROUGE1 4.91 0.77 0.93\nMedicationNameConﬁrmedAdvEvent gpt-35-turbo EM_F1 4.09 0.85 0.95\nMedicationNamePotentialAdvEvent gpt-35-turbo BLEU4 5.74 0.68 0.93\nMedicationNamePotentialAdvEvent gpt-35-turbo ROUGE1 3.64 0.89 0.96\nMedicationNamePotentialAdvEvent gpt-35-turbo EM_F1 3.05 0.93 0.96\nMedicationNameConsideration gpt-35-turbo BLEU4 6.37 0.61 0.90\nMedicationNameConsideration gpt-35-turbo ROUGE1 2.97 0.94 0.96\nMedicationNameConsideration gpt-35-turbo EM_F1 7.30 0.50 0.90\nSymptomDatetime FLAN-UL2 BLEU4 8.43 0.39 0.83\nSymptomDatetime FLAN-UL2 ROUGE1 6.96 0.54 0.90\nSymptomDatetime FLAN-UL2 EM_F1 22.64 0.00 0.16\nRadiologyTestDatetime FLAN-UL2 BLEU4 7.42 0.49 0.90\nRadiologyTestDatetime FLAN-UL2 ROUGE1 5.16 0.74 0.93\nRadiologyTestDatetime FLAN-UL2 EM_F1 5.61 0.69 0.93\nRadiologyTestSite FLAN-UL2 BLEU4 5.31 0.72 0.93\nRadiologyTestSite FLAN-UL2 ROUGE1 4.16 0.84 0.95\nRadiologyTestReason FLAN-UL2 BLEU4 5.12 0.75 0.93\nRadiologyTestReason FLAN-UL2 ROUGE1 4.38 0.82 0.95\n66\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nRadiologyTestReason FLAN-UL2 EM_F1 6.24 0.62 0.90\nRadiologyTestResult FLAN-UL2 BLEU4 6.62 0.58 0.90\nRadiologyTestResult FLAN-UL2 ROUGE1 3.02 0.93 0.96\nRadiologyTestResult FLAN-UL2 EM_F1 7.97 0.44 0.89\nProcedureNameDatetime FLAN-UL2 BLEU4 5.09 0.75 0.93\nProcedureNameDatetime FLAN-UL2 ROUGE1 6.00 0.65 0.91\nProcedureNameDatetime FLAN-UL2 EM_F1 11.28 0.19 0.79\nProcedureNameSite FLAN-UL2 BLEU4 5.27 0.73 0.93\nProcedureNameSite FLAN-UL2 ROUGE1 9.76 0.28 0.79\nProcedureNameReason FLAN-UL2 BLEU4 6.62 0.58 0.90\nProcedureNameReason FLAN-UL2 ROUGE1 11.77 0.16 0.79\nProcedureNameReason FLAN-UL2 EM_F1 7.36 0.50 0.90\nProcedureNameResult FLAN-UL2 BLEU4 7.68 0.46 0.90\nProcedureNameResult FLAN-UL2 ROUGE1 13.36 0.10 0.79\nProcedureNameResult FLAN-UL2 EM_F1 3.04 0.93 0.96\nGenomicTestNameDatetime FLAN-UL2 BLEU4 9.15 0.33 0.82\nGenomicTestNameDatetime FLAN-UL2 ROUGE1 9.63 0.29 0.79\nGenomicTestNameDatetime FLAN-UL2 EM_F1 11.48 0.18 0.79\nGenomicTestNameResult FLAN-UL2 BLEU4 6.56 0.58 0.90\nGenomicTestNameResult FLAN-UL2 ROUGE1 17.19 0.03 0.52\nBiomarkerDatetime FLAN-UL2 BLEU4 9.48 0.30 0.79\nBiomarkerDatetime FLAN-UL2 ROUGE1 4.46 0.81 0.95\nBiomarkerDatetime FLAN-UL2 EM_F1 4.27 0.83 0.95\nHistologyDatetime FLAN-UL2 BLEU4 10.11 0.26 0.79\nHistologyDatetime FLAN-UL2 ROUGE1 16.34 0.04 0.54\nHistologyDatetime FLAN-UL2 EM_F1 10.29 0.25 0.79\nMetastasisSite FLAN-UL2 BLEU4 15.10 0.06 0.65\nMetastasisSite FLAN-UL2 ROUGE1 10.28 0.25 0.79\nMetastasisSite FLAN-UL2 EM_F1 22.03 0.00 0.16\n67\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMetastasisProcedure FLAN-UL2 BLEU4 14.41 0.07 0.74\nMetastasisProcedure FLAN-UL2 ROUGE1 9.51 0.30 0.79\nMetastasisDatetime FLAN-UL2 BLEU4 5.93 0.65 0.91\nMetastasisDatetime FLAN-UL2 ROUGE1 8.58 0.38 0.83\nStageDatetime FLAN-UL2 BLEU4 10.77 0.22 0.79\nStageDatetime FLAN-UL2 ROUGE1 10.53 0.23 0.79\nStageDatetime FLAN-UL2 EM_F1 19.54 0.01 0.31\nTNMDatetime FLAN-UL2 BLEU4 7.82 0.45 0.90\nTNMDatetime FLAN-UL2 ROUGE1 11.02 0.20 0.79\nTNMDatetime FLAN-UL2 EM_F1 11.82 0.16 0.79\nGradeDatetime FLAN-UL2 BLEU4 22.42 0.00 0.16\nGradeDatetime FLAN-UL2 ROUGE1 16.80 0.03 0.52\nGradeDatetime FLAN-UL2 EM_F1 13.43 0.10 0.79\nMedicationNameBegin FLAN-UL2 BLEU4 28.19 0.00 0.06\nMedicationNameBegin FLAN-UL2 ROUGE1 23.50 0.00 0.16\nMedicationNameBegin FLAN-UL2 EM_F1 27.64 0.00 0.06\nMedicationNameEnd FLAN-UL2 BLEU4 9.74 0.28 0.79\nMedicationNameEnd FLAN-UL2 ROUGE1 17.28 0.03 0.52\nMedicationNameEnd FLAN-UL2 EM_F1 22.58 0.00 0.16\nMedicationNameReason FLAN-UL2 BLEU4 11.29 0.19 0.79\nMedicationNameReason FLAN-UL2 ROUGE1 15.76 0.05 0.58\nMedicationNameReason FLAN-UL2 EM_F1 10.45 0.24 0.79\nMedicationNameContinuity FLAN-UL2 BLEU4 10.77 0.22 0.79\nMedicationNameContinuity FLAN-UL2 ROUGE1 17.06 0.03 0.52\nMedicationNameContinuity FLAN-UL2 EM_F1 13.09 0.11 0.79\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 BLEU4 12.62 0.13 0.79\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 ROUGE1 7.65 0.47 0.90\nMedicationNameConﬁrmedAdvEvent FLAN-UL2 EM_F1 7.41 0.49 0.90\nMedicationNamePotentialAdvEvent FLAN-UL2 BLEU4 4.99 0.76 0.93\n68\nTask Model Metric KruskalF-statistic Kruskalp-value Kruskalq-value\nMedicationNamePotentialAdvEvent FLAN-UL2 ROUGE1 4.77 0.78 0.94\nMedicationNamePotentialAdvEvent FLAN-UL2 EM_F1 11.94 0.15 0.79\nMedicationNameConsideration FLAN-UL2 BLEU4 5.39 0.71 0.93\nMedicationNameConsideration FLAN-UL2 ROUGE1 5.98 0.65 0.91\nMedicationNameConsideration FLAN-UL2 EM_F1 5.56 0.70 0.93\nGPT-3.5-turboandGPT-4settings\n0613versionoftheGPT-3.5-turbomodeland0314versionoftheGPT-4modelwereusedviathe\nMicrosoftAzureOpenAIstudioplatformforalltheexperiments.TheAPIversionwas2023-05-15.The\nmostdeterministictemperaturesettingof0wasused.TheoutputswereretrievedviatheChatCompletion\nAPIusingthepromptsdescribednext.Additionalpromptengineeringorhyperparametertuningwasnot\nperformed.\nPromptsforextractingrelatedpairsofentitiesforallthesub-tasks\nSystemrole:\nPretendyouareanoncologist.Answerbasedonthegivenclinicalnoteforapatient.\nUserprompttemplate:\n{task-speciﬁc-prompt}\nAnswerasconciselyaspossible.\nUse'\\''forspecialquotationcharacters.\nDonotreturnanyinformationnotpresentinthenote.\nDonotreturnanyexplanation.\nTask-speciﬁcuserprompts:\n1. Symptomhistory\n69\nForthisnote,pleasereturnallsymptomsexperiencedbypatient,pairedwiththedateortimethey\nexperiencedthatsymptom.\nDonotreturnanymedicaldiagnoses,radiologicalﬁndings,clinicaltest,orprocedureresults.\nIfasymptomisdiscussed,butonlyasapotentialsideeﬀectorinthecontextofconﬁrmingthe\nsymptom’sabsence,pleasedonotincludethissymptom.\nInadditiontoreturningthesymptoms,returnthedateortimeofthesymptomonset.\nIfthedateortimeisnotpresentwithinthenote,pleasereturn'unknown'inthegivenformat.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nSymptomEnt(Symptom='Symptomidentiﬁed',Datetime={'Dateortimeidentiﬁed'})\nExample:\nSymptomEnt(Symptom='AbdominalPain',Datetime={'01/01/2020','02/03/2020'})\nSymptomEnt(Symptom='lump',Datetime={'unknown'})\n2. Symptomspresentattimeofcancerdiagnosis\nFirst,identifythedateofﬁrstcancerdiagnosisforthispatient.\nAfteryouhavedonethis,pleasereturnsymptomsexperiencedbythepatientthatwerepresent\nbeforeoratthetimeofcancerdiagnosis.\nIfpresent,pairthesewiththedateortimetheystartedexperiencingthatsymptom.\nIfthedateortimeisnotpresentwithinthenote,pleasereturn'unknown'inthegivenformat.\nDonotreturnanymedicaldiagnoses,radiologicalﬁndings,clinicaltestorprocedureresults.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nCancerDiagnosis(Datetime={'DateortimeofCancerDiagnosis'})\nSymptomEnt(Symptom='Symptomidentiﬁed',Datetime={'Dateortimeidentiﬁed'})\nOneexample:\nCancerDiagnosis(Datetime={'03/01/2019'})\nSymptomEnt(Symptom='AbdominalPain',Datetime={'01/01/2019'})\nDonotreturnanysymptomspatientstartedexperiencingsubsequenttocancerdiagnosis.\n3. Symptomslikelytobecausedbythecancer\n70\nForthisnote,pleasereturnallsymptomsexperiencedbypatientLIKELYTOBECAUSEDBY\nCANCER,pairedwiththedateortimetheystartedexperiencingthatsymptom.\nIfthedateortimeisnotpresentwithinthenote,pleasereturn'unknown'inthegivenformat.\nDonotreturnanymedicaldiagnoses,radiologicalﬁndings,clinicaltestorprocedureresults.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nSymptomEnt(Symptom='Symptomidentiﬁed\",Datetime={'Dateortimeidentiﬁed'})\nExample:\nSymptomEnt(Symptom='AbdominalPain',Datetime={'01/01/2020','02/03/2020'})\nSymptomEnt(Symptom='lump',Datetime={'unknown'})\n4. Radiologytests\nForthisnote,pleasereturnallRadiologystudiesconductedforthepatient,pairedwiththedate\nortimewhenthestudywasperformed,siteofthestudywithitslaterality,thesymptomorclinical\nﬁndingthatthetestwasconductedfor,andtheresults.\nOnlyincludetheresultsthatareofrelevancetoanOncologist.\nIfanyinformationisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nRadTest(RadiologyTest='Radiologytest',Datetime={'Dateortime'},Site={'LateralityandSiteof\ntest'},Reason={'Symptomorclinicalﬁndingforwhichthetestwasconducted'},Result={'Result\nofthetest'})\nExample:\nRadTest(RadiologyTest='MRI',Datetime={'01/01/2020'},Site={'leftbreast'},Reason={'lump'},\nResult={'abnormalmass'})\nRadTest(RadiologyTest='PETCT',Datetime={'unknown'},Site={'left,rightbreast'},\nReason={'unknown'},Result={'unknown'})\n71\n5. Medicalprocedures\nForthisnote,pleasereturnallcancer-directeddiagnosticandinterventionalprocedureswhere\nthereisariskforbleeding.\nPairtheseprocedureswiththedateortimethattheprocedurewasperformed,lateralityandsite\noftheprocedure,theclinicalcondition(e.g.diagnosis,symptomorproblem)thattheprocedure\nwasmeanttoidentifyortreat,andtheresultoftheprocedure.\nOnlyincludetheresultsthatareofrelevancetoanOncologist.\nIftheinformationisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nProc(ProcedureName='Procedureidentiﬁed',Datetime={'Dateortime'},Site={'lateralityandsite\nofprocedure'},Reason={'theclinicalcondition,suchasdiagnosis,symptomorproblemthatthe\nprocedurewasmeanttoidentifyortreat'},Result={'Resultoftheprocedure'})\nExample:\nProc(ProcedureName='Partialmastectomy',Datetime={'unknown'},Site={'rightbreast'},\nReason={'lump'},Result={'invasivecarcinoma'})\nProc(ProcedureName='mastectomy',Datetime={'01/01/2020'},Site={'left,rightbreast'},\nReason={'unknown'},Result={'unknown'})\nDONOTreturnradiologytests.\n6. Genomictests\nForthisnote,pleasereturnallgenomicandgeneticteststhatwereconductedforthepatient,and\npairitwiththedateortimeofthetestandtheresultofthetest.\nIfanyinformationisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nGenomics(GenomicTestName='Nameofgenomictestconducted',Datetime={'Dateortime'},\nResult={'Resultofthetest'})\nExample:\nGenomics(GenomicTestName='Onctotype',Datetime={'unknown'},Result={'highrisk'})\n72\nGenomics(GenomicTestName='Geneticpaneltesting',Datetime={'01/01/2021'},\nResult={'unknown'})\nDonotreturnradiologytests,surgicalprocedures,orcancerbiomarkersthatdonothavea\ngenomicorgeneticbasis.\n7. TumorCharacteristics\na. Treatmentrelevantbiomarkers\nForthisnote,pleasereturnalltreatmentrelevantbiomarkersidentiﬁedforthemaincancerofthis\npatient,pairedwiththedateortimeforthatthecharacteristicwasidentiﬁed.\nIfthedatethatidentiﬁedthecharacteristicisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nTxBiomarker(Biomarker='biomarkernameandresult\",Datetime={'Dateortimeidentiﬁed'})\nExample:\nTxBiomarker(Biomarker='ER+',Datetime={'01/01/2020','03/01/2021'})\nTxBiomarker(Biomarker='HER2-',Datetime={'unknown'})\nDoNOTreturnanyradiologicalﬁndings.\nb. Speciﬁchistopathologysubtype\nForthisnote,pleasereturnallmorphologicalhistologytypesidentiﬁedformaincancerofthe\npatient,pairedwiththedatethatcharacteristicwasidentiﬁed.\nIfthedatefortheidentiﬁedcharacteristicisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nHisto(Histology='Histopathology',Datetime={'Dateortimeidentiﬁed'})\nExample:\nHisto(Histology='IDC',Datetime={'unknown'})\nHisto(Histology='invasiveductalcarcinoma',Datetime={'01/01/2020','02/01/2013'})\nDoNOTreturnanyradiologicalﬁndings.\nc. EvidenceofMetastaticspread\nForthisnote,pleasereturnanyevidenceofmetastaticspreadidentiﬁedforthecancerofthis\npatient,pairedwiththeprocedureanddatethatidentiﬁedthemetastaticspread.\n73\nIfanyinformationaboutthemetastaticspreadisnotpresentwithinthenote,pleasereturn\n'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nMetastasisEnt(Metastasis='mentionofMetastaticspread',Site={'Siteofspread'},\nProcedure={'Procedurethatidentiﬁedthemetastaticspread'},Datetime={'Dateortimethe\nprocedurethatidentiﬁedthespreadwasconducted'})\nExample:\nMetastasisEnt(Metastasis='metastasis',Procedure={'CTChest'},Datetime={'01/01/2020'},\nSite={'lungs'})\nMetastasisEnt(Metastasis='metastasis',Procedure={'unknown'},Datetime={'unknown'},\nSite={'nodes'})\nd. Stageofpatient\nForthisnote,pleasereturnstagingforthemaincancerofthispatient,pairedwiththedateon\nwhichthisstagingwasdone.\nDonotincludeanystageindicatedbytheTNMstagingcriteria.\nIfadditionaltestingmustbedonetofullystagethepatient,pleasereturnthiswithinthesame\nformatasdescribedbeloworreturnunclear.\nIfthedateofﬁrststagingisnotclearinnote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nStageEnt(Stage='Stage',Datetime={'Dateconducted'},AdditionalTesting={'testtobedone'})\nExample:\nStageEnt(Stage='II',Datetime={'01/01/2020'},AdditionalTesting={'CTChest,abdomen,Pelvis'})\nStageEnt(Stage='early',Datetime={'unknown'},AdditionalTesting={'unknown'})\ne. Stageofpatient(TNM)\nForthisnote,pleasereturnTNMStagingsystemformaincancer.\nIfadditionaltestingmustbedonetofullystagethepatientbyTNMstaging,pleasereturnthis\nwithinthesameformatasdescribedbelow.\nIfthedateofﬁrststagingisnotclearinnote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nTnmEnt(TNM='TNMStage',Datetime={'Dateconducted'},AdditionalTesting={'testtobedone'})\n74\nExample:\nTnmEnt(TNM='cT3N1M0',Datetime={'01/01/2020'},AdditionalTesting={'CTChest,abdomen,\nPelvis'})\nTnmEnt(TNM='T2N1',Datetime={'unknown'},AdditionalTesting={'unknown'})\nf. Gradeoftumor\nForthisnote,pleasereturnthecombinedNottinghampathologicalgradeforthemaincancer.\nIfadditionaltestingmustbedonetofullygradethepatientstumor,pleasereturnthiswithinthe\nsameformatasdescribedbelow.\nIfanyinformationforthegradeisnotclearinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nGradeEnt(Grade='Combinedgrade',Datetime={'Dateconducted'},AdditionalTesting={'testtobe\ndone'})\nExample:\nGradeEnt(Grade='3',Datetime={'01/01/2020'},AdditionalTesting={'unknown'})\nGradeEnt(Grade='GX',Datetime={'unknown'},AdditionalTesting={'Numberofmitoses'})\n8. Prescribedmedications\nForthisnote,pleasereturnallcancer-directedmedicationsthatwereprescribedtothepatient.\nPairthesemedicationswiththedatetheywereprescribed,andthedatetheywerestoppedas\naccuratelyaspossible.\nIfthemedicationnamehasbeenidentiﬁed,addthedetailsofthesymptomorclinicalﬁndingthat\nitwasprescribedfor.\nAlsoadddetailsaboutthemedication'scontinuitystatusamongthefollowingoptions:\n'continuing','ﬁnished','discontinuedearly',or'unknown'.\nAdditionallyincludeanyproblemsthatwerecausedduetothemedication,andanypotential\nproblemsthatthemedicationcancause,onlyifitismentionedintext.\nIfanyinformationisnotpresentwithinthenote,pleasereturn'unknown'.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\n75\nPrescribedMedEnt(MedicationName='Medicationidentiﬁed',Begin={'Medicationstartdateor\ntime'},End={'Medicationenddateortime'},Reason={'symptomorclincalﬁndingthattheknown\nmedicationwasprescribedfor'},Continuity='continuitystatusofthemedication',\nConﬁrmedAdvEvent={'problemsthatwerecertainlycausedduetothemedication'},\nPotentialAdvEvent={'problemsthatcouldpotentiallybecausedduetothemedication,butdidnot\ncertainlyhappen.'})\nExample:\nPrescribedMedEnt(MedicationName='Anastrozole',Begin={'01/01/2019'},End={'01/01/2020'},\nReason={'unknown'},Continuity='ﬁnished',ConﬁrmedAdvEvent={'swelling'},\nPotentialAdvEvent={'unknown'})\nPrescribedMedEnt(MedicationName='Abraxane',Begin={'01/03/2022'},End={'unknown'},\nReason={'cancer'},Continuity='started',ConﬁrmedAdvEvent={'unknown'},\nPotentialAdvEvent={'swelling'})\nPleasedonotprovideanansweriftheMedicationNameitselfisnotavailable.\nDONOTreturnmedicationsthatareplannedormaybegiveninfuture.\nDonotskipanyﬁeldsinthegivenformat.\n9. Futuremedications\nForthisnote,pleasereturnallcancer-directedmedicationsthatarebeingconsideredforfuture\ntherapy.Pleaseincludedrugclassesifthemedicationisn'tspeciﬁcallymentioned.\nForeach,pleasereturnwhetheritsconsiderationsis'planned',or'hypothetical'.\nAlsoreturnanypotentialproblemsthatthemedicationcouldcause,onlyifitismentionedintext.\nPleasereturnasnamedtuplesseparatedbynewlinesinthefollowingformat:\nFutureMedEnt(MedicationName='Medicationidentiﬁed',Consideration='Classiﬁcationof\nconsideration',PotentialAdvEvent={'problemsthatcouldpotentiallybecausedduetothe\nmedication'})\nExample:\n76\nFutureMedEnt(MedicationName='Anastrozole',Consideration='planned',\nPotentialAdvEvent={'swelling'})\nFutureMedEnt(MedicationName='Hormonereplacementtherapy',Consideration='hypothetical',\nPotentialAdvEvent={'unknown'})\nDONOTreturnmedicationsthatwerepreviouslyprescribedorarecurrentlybeingprescribed.\nDonotskipanyﬁeldsinthegivenformat.\n77"
}