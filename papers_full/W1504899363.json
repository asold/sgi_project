{
    "title": "On the equivalence of state transformer semantics and predicate transformer semantics",
    "url": "https://openalex.org/W1504899363",
    "year": 2022,
    "authors": [
        {
            "id": "https://openalex.org/A4304797708",
            "name": "Keimel, Klaus",
            "affiliations": []
        }
    ],
    "references": [
        "https://openalex.org/W2579582130",
        "https://openalex.org/W1492711856",
        "https://openalex.org/W2024355065",
        "https://openalex.org/W2021860025",
        "https://openalex.org/W2006166370",
        "https://openalex.org/W645805172",
        "https://openalex.org/W2128786957",
        "https://openalex.org/W2102750354",
        "https://openalex.org/W1986352293",
        "https://openalex.org/W1734364899",
        "https://openalex.org/W2074102448",
        "https://openalex.org/W2080572348",
        "https://openalex.org/W2120713972",
        "https://openalex.org/W2013333738",
        "https://openalex.org/W2152610855",
        "https://openalex.org/W2155748644",
        "https://openalex.org/W2005449309",
        "https://openalex.org/W1525647423"
    ],
    "abstract": "G. Plotkin and the author have worked out the equivalence between state transformer semantics and predicate transformer semantics in a domain theoretical setting for programs combining nondeterminism and probability. Works of C. Morgan and co-authors, Keimel, Rosenbusch and Streicher, already go in the same direction using only discrete state spaces. It is the aim of this paper to exhibit a general framework in which one can hope that state transformer semantics and predicate transformer semantics are equivalent. We use a notion of entropicity borrowed from universal algebra and a relaxed setting adapted to the domain theoretical situation.",
    "full_text": "arXiv:1410.7930v1  [cs.LO]  29 Oct 2014\nOn the equivalence of state transformer semantics and predicate\ntransformer semantics\nDedicated to Viktor Selivanov\nat the occasion of his 6oth birthday\nKlaus Keimel∗\nNovember 27, 2024\nG. Plotkin and the author [13] have worked out the equivalence between state transformer semantics and predicate\ntransformer semantics in a domain theoretical setting for programs combining nondeterminism and probability. Works of\nC. Morgan and co-authors [20], Keimel, Rosenbusch and Streicher [14, 15], already go in the same direction using only\ndiscrete state spaces. In fact, Keimel and Plotkin did not restrict to probabilities or subprobabilities, but worked inan\nextended setting admitting positive measures that may evenhave inﬁnite values. This extended setting offers technical\nadvantages. It was the intention of the authors to cut down their results to the subprobabilistic case in a subsequent paper.\nA paper by J. Goubault-Larrecq [7] already goes in this direction. When preparing a ﬁrst version of the follow-up paper,\nthe author of this paper wanted to clarify for himself the basic ideas. In fact, the paper [13] is technically quite involved,\nand when one reaches the last section, where the equivalenceof predicate and state transformer semantics is ﬁnally put\ntogether, one is quite exhausted and has difﬁculties to see the leading ideas. Even the referee of the paper seemed to have\ngiven up at that point.\nIt is the aim of this paper to begin from the other end. In all the situations that the author has been dealing with,\nthe state transformer semantics had been given by a monadT over the categoryDCPO of directed complete posets (=\ndcpos) and Scott-continuous functions (= functions preserving the partial order and suprema of directed subsets). A state\ntransformer interprets the input-output behavior of a program by a Scott-continuous maptfrom the input domainX to\nthe ’powerdomain’TY over the output domainY. Thus, state transformers live in the Kleisli category associated with\nthe monadT. If there is an equivalent predicate transformer semantics, predicate transformers have to live in a category\n(dually) equivalent to the Kleisli category.\nIn my experience the equivalence between state and predicate transformer semantics is based on a very simple principle\nderived from the continuation monad. One starts with a dcpoRof ’observations’. The elements of the function space\n(the exponential)RX are ’observable predicates’ over the dcpoX, and mapss: RY → RX are ’predicate transformers’.\nAssigning to every dcpoX the spaceRRX\nof mapsϕ: RX → Rgives rise to a monad, the ’continuation monad’. The\nmaps t: X → RRX\nare ’state transformers’. It is a simple observation that there is a natural bijection between state\ntransformers and predicate transformers (see Section 1).\nMonads are used in denotational semantics to model computational effects. In lots of cases they are obtained by using\na dcpoRof observations carrying an additional algebraic structure. This algebraic structure carries over to the function\nspacesRX and RRX\n. It leads to two kinds of monads ’subordinate’ to the continuation monad. One may assign to each\ndcpo X ﬁrstly the dcpoMRX ⊆ RRX\nof all Scott-continuous algebra homomorphismϕ: RX → R(see Section 3) and\nsecondly the directed complete subalgebraFRX ofRRX\ngenerated by the projectionsˆx= ( f ↦→f(x)): RX → R,x ∈\nX (see Section 4).\n∗ Fachbereich Mathematik, Technische Universit¨ at Darmstadt, 64342 Darmstadt, Germany, email:keimel@mathematik.tu-darmstadt.de\nWork supported by Deutsche Forschungsgemeinschaft (DFG).\nThe ﬁrst monad behaves nice with respect to the natural bijection between state and predicate transformers: The state\ntransformerst: X → MRX correspond to those predicate transformers that are algebra homomorphisms s: RY → RX\n(see Section 3). But this monad is, in general, uninteresting for semantics. For semantics one uses the second monad\nFRX; but it is not clear to me how to characterize the predicate transformers corresponding to the state transformers\nt: X → FRY. The situation becomes nice when both monads agree.\nProblem. Characterize those dcpo algebrasRfor which the monadsFR and MR agree.\nI do not have such a characterization. But I give a sufﬁcient condition for the containmentFRX ⊆ MRX; this is the\ncase provided the algebraic structure onRis ’entropic’ (see Section 5). This concept borrowed from universal algebra\n(see, e.g., the monograph [21]) corresponds to commutativity for monads; but I have not pursued this link.\nIn Section 6 we deal with examples for the entropic situation, powerdomains for nondeterminism (both angelic and\ndemonic) and for (extended) probabilistic choice. Our general approach yields the containment relationFRX ⊆ MRX\nand the equivalence between state and predicate transformers. The equalityFRX = MRX has to be proved separately\nin each special case. In fact, equality does not always hold:often one has to restrict to continuous dcposX. The proof of\nequalityFRX = MRX often is the really hard work, and for this we refer to the literature.\nThe entropic condition does not cover situations combiningnondeterministic and probabilistic features (see [13]).\nSurprisingly there is a relaxed notion of entropicity (see Section 7) that allows to capture these situations (see Section 8).\nThe relaxation consists in replacing certain equalities byinequalities.\nQuestion. Is there a concept for monads overDCPO that corresponds to this relaxed notion of entropicity?\nIn most presentations, powerdomains are described by collections of certain subsets, for example (convex) Scott-\nclosed sets, (convex) Scott-compact saturated sets, lenses, etc. In this paper the advantage of functional representations is\nput in evidence. The functional representations may seem less intuitive. But a lot of features become easier to prove and\nless technical to be handled. In fact, in [13], the set-basedrepresentations had to be translated into functional representa-\ntions in order to prove the equivalence of state and predicate transformer semantics.\nThere is a long tradition for using functional representations in mathematics as well as in semantics:\n– The notion of a ’distribution’ has been formalized by L. Schwartz as a linear functional on the space of smooth\nfunctions with compact support onRn. HereR corresponds to the space of observations and the smooth functions are the\n’predicates’.\n– Historically measures have ﬁrst been introduced as certain set functions onσ-algebras and integrals where deﬁned as\na derived concept (see H. Lebesgue [18]). But alternativelythe opposite approach has also been pursued: In the Daniell-\nStone [5, 24] approach one starts with the abstract notion ofan integral, a positive linear functionals on a certain function\nspace, and measures are obtained as derived notions. Bourbaki [2] takes the same approach for measures on topological\nspaces.\n– In statistics and decision theory (see Walley [26]) one uses the notion of a ’prevision’ in the sense of our ’predicates’.\nProbabilities and upper/lower probabilities then arise from functionals with certain properties on sets of previsions.\n– C. Morgan and co-authors (see [20]) use the notion of an ’expectation’ in the sense of our ’predicates’ in their\ninvestigations on combining nondeterminism and probability. This terminology is a bit misleading; ’prevision’ or ’random\nvariable’ (as proposed by D. Kozen [16]) seems more appropriate. Indeed in probability theory the term ’expectation’\ndenotes the mean value of a random variable.\n– A. Simpson [22] stresses the functional approach in topological domain theory. For the angelic and demonic pow-\nerspace constructions this approach has been carried through by Battenfeld and Schr¨ oder [3].\n– Labelled Markov processes, simulation and bisimulation are treated in a very appealing way in recent work by\nChaput, Danos, Panangaden and Plotkin [4] using a functional approach and a duality that reminds the equivalence\nbetween state and predicate transformers. Previously, these constructions needed sophisticated tools from measure theory\non Polish and analytic spaces.\nIn this paper we do not present any new particular case. It is our aim to present a general framework in which one\ncan hope for a canonical equivalence between state and predicate transformer semantics. I do not have a proof, but I\nconjecture that under fairly general hypotheses the framework presented in this paper is the only one in which such an\nequivalence may happen:\nClaim. If a monadT over the categoryDCPO allows a (dually) equivalent predicate transformer semantics, then\nthere is a dcpoRwith some additional relaxed entropic structure with the following properties:TX ’is’ a substructure of\nRRX\nconsisting of all structure preserving maps.TX agrees with the substructure ofRRX\ngenerated by the projections\nˆx,x ∈ X. The structure preserving predicate transformerss: RY → RX correspond naturally to the state transformers\nt: X → TY.\nMonads yield the free objects for the class of their Eilenberg-Moore algebras. In all the examples that we look at\nin this paper the powerdomain monads are the free algebras for an (in)equational theory which reﬂects properties of the\nchoice operators involved. But here we do not elaborate thistopic. It is natural to conjecture that the monadFR yields\nthe free algebras for the (in)equational theory of the algebraR.\nWe use some basic background material from universal algebra, from category theory and from domain theory. We\nrefer to Birkhoff’s monograph [1] for the background on universal algebra, to Mac Lanes book [19] for monads and Kleisli\ntriples and to [6] for directed complete posets (dcpos) and continuous domains.\n1 Continuation monads and predicate transformers\nWe will work in the categoryDCPO of directed complete partially ordered sets (dcpos) and Scott-continuous functions\n(maps preserving the partial order and suprema of directed sets).\nThe categoryDCPO is Cartesian closed. Finite products, even arbitrary products, are Cartesian products with the\npointwise order; suprema of directed sets are formed pointwise. The exponential consists of all Scott-continuous functions\nu: X → Y with the pointwise deﬁned order; suprema of directed sets ofScott-continuous functions are also formed\npointwise. We use two notations for the exponential ofX and Y in parallel:\nYX = [ X → Y].\nThe categorySET of sets and functions can be considered as a full subcategoryof DCPO; just take the discrete order\n(equality) on every set. Products and exponentials inSET are the same as inDCPO.\nWe will use notations from simply typedλ-calculus. Since we are in a Cartesian closed category, all maps deﬁned\nthrough well-typedλ-calculus expressions are Scott-continuous (see, for example, [17, Part I]). Thus, we never need to\nprove the continuity of functions. In order to avoid explicit type information, we will ﬁx notations as follows:\nRwill be a ﬁxed dcpo, called the dcpo of ’observations’;\nX and Y denote arbitrary dcpos;\nx,yand rdenote elements ofX,Y and R, respectively;\nudenotes Scott-continuous mapsu: X → Y, that is, elements ofYX = [ X → Y];\nf and gdenote Scott-continuous mapsf: X → Rand g: Y → R, that is, elements ofRX and RY ;\nϕ and ψ denote Scott-continuous mapsϕ: RX → Rand ψ: RY → R.\nl\nFor a Scott-continuous mapu: X → Y we denote byRu the map fromRY toRX deﬁned byRu = λg.g ◦ u, that is,\nRu(g) = g◦ ufor allg∈ RY ; being even more explicit,Ru(g) is the map fromXtoRdeﬁned byRu(g)(x) = g(u(x))\nfor allx∈ X. Note that we use the bracketing convention thatRu(g)(x) has to be read as\n(\nRu(g)\n)\n(x), a convention that\nwe will use throughout. We obtain a contravariant functorR− from the categoryDCPO into itself.\nApplying the contravariant functorR− twice yields a covariant functorRR−\n= [ R− → R]. This is the well-known\ncontinuation monad . The unitδ of the monad is given by theprojections or evaluation maps δX : X → [RX → R]\ndeﬁned by\nδX = λx.λf.f (x), that is,δX (x)(f) = f(x) (1)\nforf: X → Rand x ∈ X. It will be convenient to introduce the short notationˆxforδX (x); then the deﬁning identity\nsimply readsˆx(f) = f(x).\nFor a mapt: X → [RY → R] its Kleisli liftingt† : [ RX → R] → [RY → R] is given by\nt† = λϕ.λg.ϕ (λx.t (x)(g)), that is,t†(ϕ)(g) = ϕ(λx.t (x)(g)). (2)\nFor a Scott-continuous mapu: X → Y, the mapRRu\n: RRX\n→ RRY\nmay be considered as a special case of a Kleisli\nlifting, namelyRRu\n= ( δY ◦ u)†, that is,\nRRu\n(ϕ)(g) = ϕ(λx. (δY ◦ u)(x))(g)) = ϕ(λx.g (u(x))) = ϕ(g◦ u).\nLemma 1.1. The map δX : X → [RX → R] is Scott-continuous; if Rhas at least two elements r < s, then δX is an\norder embedding.\nProof. As δX is deﬁned by aλ-expression, it is Scott-continuous. Ifx ̸≤x′, then there is a Scott-continuous function\nf: X → Rsuch thatf(x′) = r < s= f(x), whenceδX (x) ̸≤δX (x′). (Just deﬁnef(y) = rify ≤ x′, else= s.) It\nfollows thatδX is an order embedding.\nIn many situations, objectsX occur as ’state spaces’. An ’action’, a ’program’, acts on states and produces results\nψ ∈ [RY → R] over a possibly different state spaceY. Scott-continuous mapst: X → [RY → R] will be called\nstate transformers . The elementsg ∈ RY are interpreted as ’predicates’, ’previsions’, etc. Scott-continuous maps\ns: RY → RX are calledpredicate transformers .\nLemma 1.2. The dcpos of state and predicate transformers are canonical ly isomorphic: [RY → R]X ∼\n= [RY → RX ].\nThe mutually inverse natural bijections P and Q are given as follows: The map P assigns to a state transformers\nt: X → [RY → R] the predicate transformer P(t): RY → RX deﬁned by P(t) = λg.λx.t (x)(g), that is,\nP = λt.λg.λx.t (x)(g).\nThe other way around, we assign to every predicate transform er s: RY → RX the state transformer Q(s) = ( Rs) ◦\nδX = ( λϕ. ϕ ◦ s) ◦ (λx. λf. f(x)) = λx. (λf. f(x)) ◦ s, whence Q(s)(x) = ( λf. f(x)) ◦ s. Thus Q(s)(x)(g) =\n(λf.f (x))(s(g)) = s(g)(x), that is,\nQ= λs.λx.λg.s (g)(x).\nProof. P and Q are mutually inverse bijections between state transformers and predicate transformers. Indeed, for all\nmaps s: RY → RX ,g∈ RY and x∈ X, we haveP(Q(s))(g)(x) = Q(s)(x)(g) = s(g)(x), that isP(Q(s)) = sfor all\ns. Similarly, for allt: X → [RY → R],g ∈ RY and allx∈ X, we have(Q(Pt))(x)(g) = P(t)(g)(x) = t(x)(g), that\nisQ(P(t)) = t.In this paper we will consider monads that arise ’inside’ thecontinuation monad in the following sense: We assign to\nevery dcpoX a sub-dcpoTX of[RX → X] in such a way that the following properties are satisﬁed:\nδX (x) ∈ TX for allx∈ X;\nt†(TX) ⊆ TY for every Scott-continuoust: X → [RY → R].\nThen RRu\nmaps TX intoTY for every Scott-continuous mapu: X → Y; indeed,RRu\nis the Kleisli lifting(δY ◦ u)† of\nδY ◦ u: X → [RY → R]. ThusRRu\ninduces a Scott-continuous mapTu: TX → TY in such a way thatT becomes a\nfunctor, and even a monad with (the corestriction of)δas unit and the Kleisli liftingt†|TX fort: X → TY.\nDeﬁnition 1.1. We say thatT is a monadsubordinate to the continuation monad if it arises in the way just described.\n2 Adding algebraic structure\nWe recall a few concepts from universal algebra. Every algebra has a well deﬁned signature which consists of operations\nsymbols of a prescribed arity which will be supposed to be ﬁnite in this paper.\nDeﬁnition 2.1. A signature Ω is the disjoint union (sum) of a sequence of setsΩ n,n ∈ N. The membersω ∈ Ω n are\ncalledoperation symbols of arity n.\nIn our examples there will be no operation symbols of arityn≥ 3. Thus we can restrict our attention toΩ 0, Ω 1, Ω 2,\nthat is, to nullary, unary and binary operation symbols, andin many cases there will be only ﬁnitely many operation\nsymbols altogether. The operation symbols of arity0 are also called constants.\nDeﬁnition 2.2. An algebra of signature Ω consists of a setAtogether with operations\nωA : An → A,\none for eachω ∈ Ω of arityn. A mapu: A→ Bfrom one algebraAof signatureΩ to another one,B, is ahomomorphism,\nif\nu(ωA(a1,...,a n) = ωB(u(a1),...,u (an))\nfor every operationω ∈ Ω of aritynand alla1 ...,a n ∈ A.\nWe now replace the category of sets by the categoryDCPO of dcpos and Scott-continuous functions. We ﬁrst adapt\nthe notion of a signatureΩ to the base categoryDCPO:\nDeﬁnition 2.3. A d-signature Ω is the disjoint union (sum) of a sequence of dcposΩ n,n∈ N.\nIn all our examples,Ω n will be empty forn≥ 3;Ω 0, Ω 1, Ω 2 will consist of ﬁnitely many operation symbols in most\ncases (trivially ordered), and then a d-signature will be the same as a signature. But we will consider some cases in which\nΩ 1 will be a proper dcpo. By replacing the dcposΩ n by their underlying sets|Ω n| one retrieves a signature as above.\nDeﬁnition 2.4. A directed complete partially ordered algebra (ad-algebra, for short) of d-signatureΩ is an algebraAof\nsignature|Ω | endowed with a structure of a dcpo in such a way that the maps\n(ω, (a1,...,a n)) ↦→ωA(a1,...,a n): Ω n × An → A\nare Scott-continuous for alln. A Scott-continuous algebra homomorphism between two d-algebras of the same d-signature\nis shortly calledd-homomorphism.\nNote thatωA(a1,...,a n) depends continuously not only on theai but also onω (which is a vacuous requirement, if\nΩ n consists of a single operation symbol or of ﬁnitely many mutually incomparable operation symbols).\nWe ﬁx a d-signatureΩ for the rest of this paper and all d-algebras are understood to be of this signature. We also ﬁx a\nd-algebraRof d-signatureΩ .\nFor every dcpoX, the function spaceRX is also a d-algebra. For an operationω ∈ Ω of aritynthe natural extension\nofωR to a Scott-continuous operation on the function spaceRX is deﬁned pointwise: For allf1,...,f n ∈ RX :\nωRX\n(f1,...,f n)(x) = ωR(f1(x),...,f n(x)) for allx∈ X. (3)\nIn the future, we will often omit the superscripts inωR,ω RX\n,... and write simplyω. This simpliﬁcation does not give\nrise to misunderstandings.\nFor every Scott-continuous mapu: X → Y, the induced Scott-continuous mapRu : RY → RX is\na d-homomorphism: Indeed, Ru(ω(g1,...,g n))(x) = ω(g1,...,g n)(u(x)) = ω(g1(u(x)),...,g n(u(x))) =\nω(Ru(g1)(x),...,R u(gn)(x)) = ω(Ru(g1),...,R u(gn))(x) for allx∈ X. Thus, we may viewR− to be contravariant\nfunctor from the categoryDCPO to the category of d-algebras and d-algebra homomorphisms.\nIn the same way, the operationsω can be extended toRRX\n= [ RX → R] so that the latter becomes a d-algebra,\ntoo, and the mapsRRu\nare d-algebra homomorphisms. Since it will be used frequently, let us repeat the deﬁnition of the\noperationsω of aritynon RRX\n: For allϕ1,...,ϕ n ∈ RX :\nω(ϕ1,...,ϕ n)(f) = ω(ϕ1(f),...,ϕ n(f)) for allf ∈ RX . (4)\nLemma 2.1. (a)The projections δX (x): RX → Rare d-homomorphisms for every x∈ X.\nF or every state transformer t: X → [RY → R], the Kleisli lifting t† : [ RX → R] → [RY → R]\n(b)is a d-homomorphism and\n(c)maps d-homomorphisms ϕ: RX → Rto d-homomorphisms t†(ϕ): RY → R.\nProof. (a) Letx∈ X. Forω ∈ Ω of aritynand f1,...,f n ∈ RX we haveδX (x)(ω(f1,...,f n)) = ω(f1,...,f n)(x) =\nω(f1(x),...,f n(x)) = ω(δX (x)(f1),...,δ X (x)(fn)).\n(b) We have to check that, for everyω ∈ Ω n and allϕ1,...,ϕ n, we havet†(ω(ϕ1,...,ϕ n)) = ω(t†(ϕ1),...,t †(ϕn)).\nFor everyg∈ RY we have indeed:\nt†(\nω(ϕ1,...,ϕ n)\n)\n(g) = ω(ϕ1,....ϕ n)(λx.t (x)(g)) by the deﬁnition (2) oft†\n= ω\n(\nϕ1(λx.t (x)(g)),...,ϕ n(λx.t (x)(g))\n)\nsinceω is deﬁned pointwise (4)\n= ω\n(\nt†(ϕ1)(g),...,t †(ϕn)(g)\n)\nby the deﬁnition (2) oft†\n= ω\n(\nt†(ϕ1),...,t †(ϕn)\n)\n(g) sinceω is deﬁned pointwise (4).\n(c) Letϕ: RX → Rbe a d-homomorphism. For arbitraryω ∈ Ω n and arbitraryg1,...,g n ∈ RY , we have:\nt†(ϕ)(ω(g1,...,g n)) = ϕ(λx.t (x)(ω(g1,...,g n))) by the deﬁnition oft†\n= ϕ(λx.ω (t(x)(g1),...,t (x)(gn))) sincet(x) is a homomorphism\n= ϕ(ω(λx.t (x)(g1),...,λx.t (x)(gn))) sinceω is deﬁned pointwise\n= ω(ϕ(λx.t (x)(g1)),...,ϕ (λx.t (x)(gn))) sinceϕ is a homomorphism\n= ω(t†(ϕ(g1)),...,t †(ϕ(gn))) by the deﬁnition oft†.\n3 Monad I: Homomorphism monads\nWe continue with a ﬁxed d-algebraRof d-signatureΩ .\nA subsetC of a dcpoX is called asub-dcpo if the supremum⋁ ↑\ni xi of any directed family(xi)i of elements inC\nstays inC. For two d-algebrasAand Bof the same d-signature, we denote by\n[A◦→B]\nthe set of all d-homomorphismsu: A→ B. Since the pointwise supremum of a directed family of d-homomorphisms is\nagain a d-homomorphism, we have:\nLemma 3.1. F or any two d-algebras Aand Bof the same d-signature, the d-homomorphisms u: A→ Bform a sub-dcpo\n[A◦→B] of the dcpo [A→ B] of all Scott-continuous maps from Ato B.\nIn particular[RX ◦→R], the set of all d-homomorphismsϕ: RX → R, is a sub-dcpo of[RX → R] by Lemma 3.1.\nBy Lemma 2.1(a),δX (x) ∈ [RX ◦→R] for allx∈ X. By Lemma 2.1(c), for every state transformert: X → [RY → X],\nits Kleisli lifting maps[RX ◦→R] into[RY ◦→R]. We are in the situation described in Deﬁnition 1.1):\nProposition 3.1. F or a d-algebra R, the assignment X ↦→[RX ◦→R] yields a monad subordinate to the continuation\nmonad. The unit is (the corestriction of δand the Kleisli lifting of a Scott-continuous map t: X → [RY ◦→R] is (the\nrestriction-corestriction) t† : [ RX ◦→R] → [RY ◦→R]\nThe ’homomorphism monad’([R−◦→R],δ, †) exhibited in the previous proposition has the remarkable property that\nit behaves well with respect to the one-to-one correspondence between state and predicate transformers in the sense that\nthere is a simple characterization of the predicate transformers corresponding to the state transformerst: X → [RX ◦→R]:\nProposition 3.2. Let Rbe d-algebra. The maps P and Q(see Lemma 1.2) induce a one-to-one correspondence between\npredicate transformers s: RY → RX that are d-homomorphisms and those state transformers t: X → [RY → R] for\nwhich each t(x),x ∈ X, is a d-homomorphism:\n[RY ◦→R]X ∼\n= [RY ◦→RX ]\nProof. Lett(x) be a d-algebra homomorphism. For allω ∈ Ω of aritynand for allg1,...,g n ∈ RY we have:\nP(t)(ω(g1,...,g n))(x) = t(x)(ω(g1,...,g n)) by Lemma 1.2\n= ω(t(x)(g1),...,t (x)(gn))) sincet(x) is a homomorphism\n= ω(P(t)(g1)(x),...,P (t)(gn)(x)) again by Lemma 1.2\n= ω\n(\nP(t)(g1),...,P (t)(gn)\n)\n(x) sinceω is deﬁned pointwise onRX\nIf this holds for allx ∈ X, thenP(t)\n(\nω(g1,...,g n)\n)\n= ω\n(\nP(t)(g1),...,P (t)(gn)\n)\nwhich shows thatP(t) is a homo-\nmorphism. If converselys: RY → RX is a d-homomorphism, thenQ(s)(x)(ω(g1,...,g n)) = s(ω(g1,...,g n)(x)) =\nω(s(g1),...,s (gn))(x) = ω(s(g1)(x),...,s (gn)(x)) = ω(Q(s)(x)(g1),...,Q (s)(x)(gn)) which shows thatQ(s)(x)\nis a homomorphism.For later use let us record the following: Let us replace the dcpo X by a d-algebraA. The mapδA : A→ [RA → R]\nis by no means a homomorphism. But after replacingRA by [A◦→Rthe situation changes: Fora ∈ A, the mapδA(a)\nfrom RA toRis restricted to a map from[A◦→R] toR; we still use the same notationδA(a) for the restricted map.\nLemma 3.2. F or a d-algebra A, the unit δA : A→ R[A◦→R] is a d-homomorphism.\nProof. We just have to show thatδA is a homomorphism, that is, for every operationω of arityn and all\na1,...,a n ∈ A, we haveδA(ω(a1,...,a n)) = ω(δA(a1),...,δ A(an)). Indeed, for every d-homomorphismh: A→ R\nwe have δA(ω(a1,...,a n))(h) = h(ω(a1,...,a n)) = ω(h(a1),...,h (an)) = ω(δA(a1)(h),...,δ A(an)(h)) =\nω(δA(a1),...,δ A(an))(h).\n4 Monad II: Free algebras\nWe keep the setting of the previous section and consider a ﬁxed d-algebraR of d-signatureΩ . In the previous section\nwe exhibited a monad[R−◦→R] over the category of dcpos subordinate to the continuation monad by restricting to d-\nhomomorphisms RX → Rinstead of arbitrary Scott-continuous maps. I doubt that this monad is of any intrinsic interest.\nOf real interest for semantics and otherwise are free algebras. We consider a second monad subordinate to the continuation\nmonad and we will investigate in which sense this is a free construction.\nThe intersection of any family of sub-dcpos in a dcpoX is a sub-dcpo, in fact, the sub-dcpos are the closed sets of a\ntopology, called thed-topology (see, e.g.,[11, Section 5]).\nA subalgebra of a d-algebraAwhich is a sub-dcpo, too, is called ad-subalgebra. The intersection of any family of\nd-subalgebras is again a d-subalgebra.\nLemma 4.1. [12, Corollary 5.7]In any d-algebra A, the d-closure of a subalgebra B, that is, the smallest sub-dcpo\ncontaining B, is a d-subalgebra.\nFor every dcpoX we consider the d-subalgebraFRX of[RX → R] generated by the projectionsˆx= δX (x),x ∈ X.\nIndeed, since the intersection of any family of d-subalgebras is again a d-subalgebra, there is a smallest d-subalgebra\nFRX in[RX → R] containing the projectionsˆx,x∈ X.\nFor a mapt: X → FRY ⊆ [RY → R], the Kleisli liftingt† : [ RX → R] → [RY → R] maps FRX intoFRY,\nsincet† is a d-homomorphism by Lemma 2.1(b). This shows that(FR,δ, †) is a monad subordinate to the continuation\nmonad in the sense of Deﬁnition 1.1, the Kleisli lifting of a map t: X → FRY being the restriction and corestriction of\nthe Kleisli lifting† for the continuation monad[R− → R].\nProposition 4.1. (FR,δ, †) is a monad over the category DCPO subordinate to the continuation monad.\nSince we have a monad, the d-algebrasFRXare free for the class of its Eilenberg-Moore algebras. It isa challenge to\ndetermine these Eilenberg-Moore algebras more concretely. The natural conjecture is that theFRX are free overX for\nthe class of d-algebras determined by the (in)equational theory of the d-algebraR. But in this paper we will not discuss\nthis question.\nOf course, we can consider the predicate transformerss: RY → RX that correspond to state transformerst: X →\nFRY under the mutually inverse bijectionsP and Qaccording to Lemma 1.2. But I do not know of any intrinsic charac-\nterization of these state transformers. This is in contrastto the situation that we encountered in the previous sectionwith\nthe homomorphism monad. Thus, with respect to a characterization of the predicate transformers we are in an excellent\nposition in those cases where the monadsFR and [R−◦→R] agree. It would already be an advantage to be in the position,\nwhere the free d-algebraFRX is contained in the dcpo[RX ◦→R].\nClearly, the generators ofFRX, the projectionsˆx,x ∈ X, are homomorphisms and thus belong to[RX ◦→R]. But no\nother element ofFRX need to be a d-algebra homomorphism. For example, if we choose forRthe d-semiringR+ (with\ntwo constants0 and 1 and the two binary operations addition and multiplication)and forX the unordered two element\nset, then the two projections(x1,x 2) ↦→xi,i = 1 , 2, are the only Scott-continuous homomorphisms fromR\n2\n+ to\nR+ . But\nthe free d-algebra with two generators is quite big, containing for example all polynomials in two variablesxi,x 2 with\nnonnegative integer coefﬁcients.\nBut we observe:\nRemark 4.1. If the d-homomorphisms ϕ: RX → Rform a subalgebra of [RX → R], then FRX ⊆ [RX ◦→R] for every\ndcpo X. Indeed, if[RX ◦→R] is a subalgebra, then it is a d-subalgebra of[RX → R]. As the projectionsˆx,x ∈ X,\nare homomorphisms, they belong to[RX ◦→R]. Hence,[RX ◦→R] contains the d-subalgebraFRX generated by the\nprojections.\nWe are led to ask the question under which hypothesis the d-homomorphisms ϕ: RX → R form a subalgebra of\n[RX → R]. Classical universal algebra offers an answer to that question.\n5 Entropic algebras\nLet us begin with classical universal algebra (over the category of sets) and consider algebrasB and R of the same\nsignatureΩ . The set Hom(B,R ) of all algebra homomorphismsϕ: B → Ris a subset of the product algebraRB. We\nask the question, whether Hom(B,R ) is a subalgebra ofRB.\nIn order to answer this question, consider an operationσ ∈ Ω of arityn. ForHom(B,R ) to be a sub-algebra we\nhave to show that, for allϕ1,...,ϕ n ∈ Hom(B,R ), alsoσ(ϕ1,...,ϕ n) is an algebra homomorphism, that is, for every\noperationω ∈ Ω of aritymand for allf1,...,f m ∈ B, we have\nσ(ϕ1,...,ϕ n)(ω(f1,...,f m)) = ω(σ(ϕ1,...,ϕ n)(f1), ... ,σ (ϕ1,...,ϕ n)(fm)). (5)\nDeﬁnition 5.1. W e will say that an operation σ of arity nand an operation ω of arity mon an algebra Rcommute if, for\nall xij ∈ R, i = 1 ,...n, j = 1 ,...,m :\nσ(ω(x11,...,x 1m), ... ,ω (xn1,...,x nm)) = ω(σ(x11,...,x n1), ... ,σ (x1m,...,x nm)). (6)\nSuch an equational law is also called anentropic law . It can also be expressed by the commutativity of the following\ndiagram:\n(Am)n ∼\n= (An)m\nσm\n✲ Am\nAn\nωn\n❄\nσ\n✲ A\nω\n❄\nIf this entropic law holds inR, it also holds in any powerRI , inRRI\nand in all subalgebras thereof. As a consequence,\nequation (5) holds ifσ commutes withω inR. Indeed,\nσ(ϕ1,...,ϕ n)(ω(f1,...,f m)) = σ\n(\nϕ1(ω(f1,...,f m)), ... ,ϕ n(ω(f1,...,f m))\n)\n(the operationσ being deﬁned pointwise)\n= σ\n(\nω(ϕ1(f1),...,ϕ 1(fm)), ... ,ω (ϕn(f(1), ˙,ϕ n(fm))\n)\n(theϕi being homomorphisms)\n= ω\n(\nσ(ϕ1(f1),...,ϕ n(f1)), ... ,σ (ϕ1(fm),...,ϕ n(fm))\n)\n(sinceσ commutes withω inR, equation (6))\nDeﬁnition 5.2. An algebra of signature Ω is called entropicif any two operations σ,ω ∈ Ω commute.\nWe have to be careful with the nullary operations: Ifcis a constant, then the entropic law says thatω(c,...,c ) = c\nand that two constants have to agree. Thus, for an entropic algebra, we can suppose that there is at most one nullary\noperationcand, if there is one, the constantcis a subalgebra, in fact, the smallest subalgebra.\nExample . (a) We have to be careful with nullary operations: Ifc is a constant, then the entropic law says that\nω(c,...,c ) = c and that two constants have to agree. Thus, for an entropic algebra, we can suppose that there is at\nmost one nullary operationcand, if there is one, the constantcis a subalgebra, in fact, the smallest subalgebra.\n(b) A unary operationρcommutes with a binary operation+ if\nρ(x+ y) = ρ(x) + ρ(y).\n(c) A binary relation∗ commutes with itself if1\n(x1 ∗ x2) ∗ (x3 ∗ x4) = ( x1 ∗ x3) ∗ (x3 ∗ x4).\nIn particular, every commutative, associative binary operation commutes with itself. Thus, commutative semigroups,\ncommutative monoids, commutative groups and semilatticesare entropic.\n(d) Two binary operation+ and ∗ commute iff\n(x1 ∗ x2) + ( x3 ∗ x4) = ( x1 + x3) ∗ (x2 + x4)\nAs this identity does not hold for addition and multiplication in semirings and rings, these are not entropic. Similarly\nlattices, even distributive lattices are not entropic.\n1This law has been called theentropic law by I.M.H. Etherington,Groupoids with additive endomorphisms , American Mathematical Monthly65\n(1958), pages 596–601. Etherington used this law in order tocharacterize those groupoids, in which the pointwise product of two endomorphisms is\nagain an endomorphism. For quasi-groups, the entropic law had already been considered under another name by D. C. Murdoch,Quasi-groups which\nsatisfy certain generalized associativity laws , American Journal of Mathematics61 (1939), pages 508–522. O. Frink Jr.,Symmetric and self-distributive\nsystems, American Mathematical Monthly62 (1955), pages 697–707, used the notionsymmetric for a binary operation+ satisfying nothing but the\nentropic law. He notes that all means (arithmetic, geometric, harmonic) are symmetric, that barycentric operations are entropic. For a symmetric\ngroupoid(S, +) he proves that the powerset with the induced operation+ is symmetric, that the pointwise deﬁned sum of two endomorphisms is an\nendomorphism and that the endomorphisms form a symmetric groupoid under this operation; further, ifα, β are two commuting endomorphisms, then\nx ∗ y = α (x) +β (y) is a symmetric operation, too. A lot more on entropic algebras one can ﬁnd in the monograph [21] by A.B. Romanowska and\nJ.D.H. Smith.\nFrom the considerations preceding the deﬁnition we have:\nProposition 5.1. (see, e.g., [21, Proposition 5.1])If the algebra Ris entropic and B any algebra of the same signature,\nthe algebra homomorphisms ϕ: B → Rform a subalgebra of the product algebra RB.\nWe now turn to a d-algebraRof d-signatureΩ . In this section, all d-algebras are supposed to be of the same d-signature\nΩ .\nSince entropicity is deﬁned by equational laws, every homomorphic image of a subalgebra of a product of entropic\nalgebras is entropic. Thus, ifRis an entropic d-algebra, then the function spacesRX and RRX\nare entropic, too, as well\nas all d-subalgebras thereof. From the previous proposition we deduce:\nCorollary 5.1. F or an entropic d-algebra Rand any dcpo X, the collection [RX ◦→R] of all d-homomorphisms ϕ: RX →\nRis a d-subalgebra of [RX → R].\nAs a subalgebra of[RX → R], the algebra[RX ◦→R] is again entropic.\nWe now can state the ﬁrst main result in this section. It follows from the corollary above and Remark 4.1:\nProposition 5.2. If Ris an entropic d-algebra, then FRX ⊆ [RX ◦→R] for any dcpo X.\nWe have seen in Proposition 3.2 that the state transformerst: X → [RY ◦→R] correspond bijectively to the predicate\ntransformerss: RY → RX which are d-homomorphisms. Is there a characterization of those predicate transformers that\ncorrespond to the state transformerst: X → FRX? Of course, this is not a problem in caseFRX = [ RX ◦→R].\nI do not know a general criterion for the equalityFRX = [ RX ◦→R] to hold, even in the entropic setting. It does not\nhold in general:\nExample . The nonnegative extended reals with the constant0 and the binary operation+ form an entropic d-monoid\nR = (\nR+ , +, 0). For any dcpoX,FRX is the d-closure of the set of all ﬁnite sums∑ n\ni=1 ni ˆxi where theni range over\npositive integers andxi ∈ X. But for everyr ∈ R+ and every d-monoid homomorphismϕ:\nR\nX\n+ →\nR+ alsorϕ is a\nd-monoid homomorphism. Thus[RX ◦→R] contains all scalar multiplesrˆxwhere rranges over positive reals, hence, all\nlinear combinations∑ n\ni=1 ri ˆxi, where theri range over positive reals. But clearly, ifris not an integer, thenrˆxis not a\nmember ofFRX.\nIf we still want the equalityFRX = [ RX ◦→R] in the previous example, we have at least to enrichFR by allowing\nmultiplication with scalarsr∈ R+ . In order to do this in the general setting, we observe that the mapsx↦→rx:\nR+ → R+\nforr ∈ R+ are precisely the d-endomorphisms of the d-monoidR = ( R+ , +, 0). In the general situation, every d-\nhomomorphism ϕ ∈ [RX ◦→R] composed with a d-endomorphismρ of R yields again a d-homomorphismρ◦ ϕ ∈\n[RX ◦→R].\nThe following corollary arises as a special case of Corollary 5.1, whereX consists of one element only:\nCorollary 5.2. F or an entropic d-algebra R, the Scott-continuous endomorphisms ρ: R→ Rform an entropic d-algebra,\nthe operations ω ∈ Ω being deﬁned pointwise.\nFor the d-endomorphisms ofRwe have an additional Scott-continuous binary operation, the compositionρ1 ◦ ρ2. We\ndenote byEnd(R) ⊆ [R → R] the d-algebra of all Scott-continuous endomorphisms ofRwith the operationsω ∈ Ω\nand composition as an additional binary operation. The identity map onRis denoted by1R. Thus, the d-signature of\nthe d-algebraEnd(R) isΩ augmented by composition and a constant for the identity. Note that the operation◦ destroys\nentropicity.\nThe d-algebraEnd(R) acts not only onRbut also onRX : Forf ∈ RX and ρ ∈End (R),ρ◦ f is again an element\nof RX . In a similar way, End(R) acts on[RX → R]. Composing a d-algebra homomorphismϕ ∈ [RX ◦→R] with an\nendomorphism ρ ∈ End(R) yields again a d-algebra homomorphismρ◦ ϕ ∈ [RX ◦→R]. ThusR,RX ,[RX → R] and\n[RX ◦→R] areEnd(R)-modules in the sense of the following deﬁnition:\nDeﬁnition 5.3. Let Rbe an entropic d-algebra of d-signatureΩ . An End(R)-d-module is a d-algebraAof d-signature\nΩ together with a Scott-continuous map(ρ,x ) ↦→ρ· x: End( R) × A → A satisfying the following axioms for all\nρ,ρ 1,...,ρ n ∈ End(R), allω ∈ Ω and allx,x 1,...,x n ∈ A:\n1R · x = x (7)\n(ρ1 ◦ ρ2) · x = ρ1 · (ρ2 · x) (8)\nω(ρ1,...,ρ n) · x = ω(ρ1 · x,...,ρ n · x) (9)\nρ· ω(x1,...,x n) = ω(ρ· x1,...,ρ · xn) (10)\nA map ufrom anEnd(R)-d-module Ato anEnd(R)-d-module A′ is said to be anEnd(R)-d-module homomorphism , if\nu(ω(x1,...,x n)) = ω(u(x1),...,u (xn)) for allω ∈ Ω (11)\nu(ρ· x) = ρ· f(x) for allρ∈ End(R). (12)\nAxiom (10) says thatρ ↦→ρ· x is anΩ -algebra homomorphism fromEnd(R) intoAfor every ﬁxedx ∈ A, and\nequation (9) says thatx↦→ρ· xis an endomorphism ofAfor every ﬁxedρ. We can subsume these two statement under\nthe slogan that(ρ,x ) ↦→ρ· x: End( R) × A→ Ais anΩ -bimorphism.\nOn an End(R)-d-moduleA, we may interpret each endomorphismρ to be a unary operation onA. In this way,A\nbecomes a d-algebra of d-signatureΩ ∪ End(R). The deﬁning axioms (7) – (10) become equational laws. Axiom(10)\nshows that the unary operationsρcommute with the operationsω ∈ Ω . We have:\nProposition 5.3. F or an entropic d-algebra Rof d-signature Ω , every End(R)-d-module Ais an entropic d-algebra of\nd-signature Ω ∪ End(R) provided that Ais entropic for the signature Ω .\nWe are now in a position to reinterpret the material of this section in the following way: We ﬁx an entropic d-algebra\nRof d-signatureΩ and we regard it as anEnd(R)-d-module of d-signatureΩ ∪ End(R). It stays entropic by Proposition\n5.3. For any dcpoX, the function spacesRX and [RX → R] are entropicEnd(R)-d-modules, too; the module operation\nis given byρ◦ f and ρ◦ ϕ forρ ∈ End(R),f ∈ R\nX\n+ and ϕ ∈ RRX\n, respectively. The subset[RX ◦→modR] of all\nEnd(R)-d-module homomorphismsϕ: RX → Ris anEnd(R)-d-submodule of[RX → R] by Proposition 4.1.\nNote that[RX ◦→modR] might be properly smaller than the set[RX ◦→R] of all d-algebra homomorphismsϕ: RX →\nR. Now FmodXwill be theEnd(R)-d-submodule of[RX → R] generated by the projectionsˆx,x ∈ X. These projections\nare not only d-algebra but alsoEnd(R)-d-module homomorphisms, sinceˆx(ρ◦ f) = ρ(f(x)) = ρ(ˆx(f)) = ( ρ◦ ˆx)(f)\nforρ∈ End(R) and f ∈ RX . Thus,ˆx∈ [RX ◦→modR]. It follows that theEnd(R)-d-submoduleFmodX generated by\nthe projections in[RX → R] is contained in[RX ◦→modR].\nAlthough theEnd(R)-d-moduleFmodX is bigger than the d-algebraFRX the question remains open whether\nFmodX = [ RX ◦→modR]. Maybe that this question has to be decided in every special case separately.\n6 Examples: Powerdomains\nWe want to illustrate that some standard powerdomain constructions (see e.g. M.B. Smyth [23]) ﬁt under the framework\ndeveloped until now. Powerdomains are used for interpreting programs involving nondeterministic or probabilistic choice.\nOur basic domain of observations is the two element dcpo2 = {0, 1} with0 < 1. Here1 denotes termination of a\nprogram and is observable, while0 denotes nontermination which is not observable.\nFor a dcpoX, an observable predicate will be a Scott-continuous mapp: X → 2, and2X will be the domain of\nobservable predicates. The Scott-continuous functions from a dcpoX to2 are the characteristic functions of Scott-open\nsubsets. Thus, the domain2X of observable predicates can be identiﬁed with the completelatticeOX of Scott-open\nsubsets ofX ordered by inclusion.\nA predicate transformer will be a Scott-continuous maps: 2Y → 2X or, equivalently, a Scott-continuous map\ns: OY → OX. A state transformer will be a Scott-continuous mapt: X → [2Y → 2], equivalently,t: X → OOY,\nwhere OOY denotes the complete lattice of all Scott-open subsets of the complete latticeOY. According to Lemma 1.2,\nstate and predicate transformers are in a canonical one-to-one correspondence.\n6.1 The deterministic case\nFor deterministic programs the state transformerst will be Scott-continuous maps from the input domain to the output\ndomain:\nX\n✲ Y δY✲ [2Y → 2]\nWe can reason about properties of such programs using the connectives ’and’ and ’or’ as usual: If we can observe each of\nthe predicatespand q, then we can also observe their conjunctionp∧ qand their disjunctionp∨ q. Thus, we consider our\ntwo element dcpo2 as a d-algebra with two binary operations∧ (= max) and∨ (= max) and we add0 and 1 as constants.\nThe algebra(2, ∧, ∨, 0, 1) is not entropic, so that our previous developments do not apply. Let us describe this situation:\nOn 2X and [2X → 2] the operations∧ and ∨ are pointwise binary inf and sup, the constants being interpreted by the\nconstant functions0 and 1. On OX and OOX, the operations∧ and ∨ are interpreted by∩ and ∪, the constant by the\nempty set and the whole space, respectively. Since we have directed suprema in dcpos anyway, the algebraic structure\nis that of a frame: We have arbitrary suprema and ﬁnite inﬁma connected by meet-distributivity. The dcpo[2X ◦→2] of\nframe homomorphismsϕ: 2X → 2 is the sobriﬁcation ofXs ofX. The state transformerst: X → Ys are in bijective\ncorrespondence with the predicate transformerss: 2Y → 2X which are frame homomorphisms according to Proposition\n3.2. We see:\nOnly if the dcpoY is a sober space in its Scott topology, the state transformers t: X → Y are in bijective\ncorrespondence with the frame homomorphismsh: 2Y → 2X . But notice that the frame generated in[2X → 2] by the\nprojectionsˆx,x ∈ X, is much bigger thanXs.\n6.2 The nondeterministic case\nWe now suppose that we interpret programs that admit a nondeterministic choice operator\n∪. The effect is that a program,\nif it terminates, may lead to several results. There are two basic ways for interpreting such a choice operator, theangelic\nand thedemonic interpretation. In the ﬁrst case we are happy if at least one of the possible outcomes has the desired\nproperty, in the second case we demand that all of the possible outcomes have the desired property. This boils down to\ninterpret the nondeterministic choice operator on our domain2 of observations by the binary operation∨ in the ﬁrst case,\nbut by the binary operation∧ in the second case. Thus our algebras of observations are\n2ang = ( 2, ∨, 0) and 2dem = ( 2, ∧, 1)\nfor angelic and demonic nondeterminism, respectively.\nIn both cases we have a semilattice with unit, hence an entropic d-algebra according to Example (c). Accordingly,\n2X\nang and [2X\nang → 2ang] will be unital∨-semilattices and2X\ndem and [2X\ndem → 2dem] are unital∧-semilattices. In the\nequivalent presentation through Scott-open sets, these function spaces correspond toOXand OOXwith binary union and\n∅ as a constant in the angelic case and binary intersection andthe whole space as a constant in the demonic case.\nFor any dcpoX we deﬁne\nHX = [ 2X\nang◦→2ang]\nto be the dcpo of all d-∨-semilattice homomorphismsϕ: 2X\nang → 2ang. By Corollary 5.1,HX is a d-∨-subsemilattice\nwith a bottom element. It is called theangelic orlower orHoare powerdomain overX. We have the following well-known\nresult (see e.g. [23]):\nProposition 6.1. (a) The angelic powerdomain HX can be identiﬁed with the complete lattice of all Scott-clos ed subsets\nof X.2\n(b) The predicate transformers corresponding to the state t ransformers t: X → HY are those Scott-continuous maps\ns: OY → OXpreserving binary unions and ∅ (hence those maps preserving arbitrary unions because of Sc ott continuity).\n(c) The unital join d-subsemilattice F2ang X generated by the projections whx,x ∈ X, equals HX.\nProof. (a) For every Scott-closed subsetC of X, the open setsU contained inX \\ C form a Scott-closed ideal of the\nlatticeOX; hence, the map deﬁned byϕ(U) = 0 , ifU ∩ C = ∅, else= 1 , is a Scott-continuous unital∨-semilattice\nhomomorphism and every such homomorphism is of this form.\n(b) follows from Proposition 3.2.\n(c) follows from the fact that a Scott closed subsetC is the union of the collection of principal ideals↓x,x ∈ C, and\nthat these principal ideals↓xcorrespond to the projectionsˆxunder the correspondence given in (a).\nWe see that our general developments yield the claims (a) and(b) of the previous proposition. For the claim (c), our\ngeneral developments only tell us that the unital d-∨-semilattice generated by the projections is contained inHX. For the\nequality we have to use the special situation.\nFor any dcpoX we deﬁne\nSX = [ 2X\ndem◦→2dem]\nto be the dcpo of all d-∧-semilattice homomorphismsϕ: 2X\ndem → 2dem. By Corollary 5.1,SX is a d-∧-subsemilattice\nwith a top element. It is called thedemonic orupper orSmyth powerdomain overX. We have the following well-known\nresult (see e.g. [23]):\nProposition 6.2. (a) The demonic powerdomain SX can be identiﬁed with the ∩-semilattice of all Scott-open ﬁlters of\nOX. If X is sober for its Scott topology, SX can be identiﬁed with the ∪-semilattice of Scott-compact saturated subsets\nof X ordered by reverse inclusion. 3\n(b) The predicate transformers corresponding to the state t ransformers t: X → SY are those Scott-continuous maps\ns: OY → OX preserving binary intersections and the top (hence those ma ps preserving ﬁnite intersections).\n(c) If X is a continuous dcpo, the unital d- ∧-subsemilattice F2ang X generated by the projections ˆx,x ∈ X, equals\nSX.\nProof. (a) Clearly a mapϕ: 2X\ndem ∼\n= OX → 2dem is Scott-continuous and preserves ﬁnite meets if and only ofϕ−1(1) is\na Scott-open ﬁlter of the complete latticeOX. ThusSXcan be identiﬁed with the collection of all Scott open ﬁltersofOX\n(includingOX as a ﬁlter). In a sober space, the Scott open ﬁltersF of OX correspond bijectively to the Scott-compact\nsaturated sets, the bijection being given byF ↦→⋂ F (see e.g. [6, Theorem II-1.20]).\n(b) follows from Proposition 3.2.\n(c) For a proof we refer to [6, Theorem IV-8.10].\nWe see that our general developments yield the claims (a) and(b) of the previous proposition. Concerning (c), we\ncannot use any general principle. In general the unital d-∧-subsemilattice of[2X\ndem → 2dem] can be strictly smaller than\nSX. As often, one has to restrict here to continuous dcpos, where one can use approximations from way-below.\n6.3 The extended probabilistic powerdomain\nIn order to catch probabilistic choice in programming, somekind of measure theory had to be introduced for domains.\nMeasures take non-negative real values and possibly the value +∞. In deﬁning measures one needs addition of nonnega-\ntive extended reals and suprema of increasing sequences.\n2Most authors exclude the empty set, the bottom element, fromthe Hoare powerdomain; then the predicate transformers arejust supposed to preserve\nunions of nonempty families of closed sets.\n3We have included∅ as the top element ofSX. Most authors exclude the empty set from the Smyth powerdomain.\nThus, letR+ denote the dcpo of nonnegative real numbers augmented by+∞ with the usual linear order. The algebraic\nstructure will be given by the usual addition (x+ ∞ = + ∞) and the constant0 which yield a commutative d-monoid.\nEvery commutative monoid is entropic.\nThe d-monoid(R+ , +, 0) has endomorphisms: For everyr ∈ R+ , the mapx ↦→rx: R+ → R+ is a Scott-continuous\nendomorphism of the d-monoidR+ (forr = + ∞ one agrees on0 · (+∞) = 0 and r· (+∞) = + ∞ forr >0 as\nusually in measure theory); and every Scott continuous endomorphism ofR+ is of this form. The composition of two\nendomorphisms given byr and r′ is the endomorphisms given byrr′. Since(R+ , +, 0) is entropic,End(R) is also a\ncommutative monoid with respect to addition. Altogether, the algebra End(R) is canonically isomorphic to semiring\n(R+ , +, ·, 0, 1). TheEnd(R+ )-d-modules and module homomorphisms are precisely the d-cones and the linear maps as\nintroduced for example by []. A cone is a commutative monoidC together with a scalar multiplication by nonnegative\nreal numbers extended by+∞ satisfying the same axioms as for vector spaces; in detail:\nDeﬁnition 6.1. We take a signature consisting of a constant0, unary operationsr ∈ R+ and a binary operation+. A\ncone is an algebra of this signature, that is, a setC endowed with a distinguished element0, an addition(x,y ) ↦→\nx+ y: C× C → C and with a scalar multiplication(r,x ) ↦→r· x: R+ × C → C satisfying for allx,y,z ∈ C and all\nr,s ∈ R+ :\nx+ (y+ z) = ( x+ y) + z\nx+ y = y+ x\nx+ 0 = x\nand\n1 · x = x\n(rs) · x = r· (s· x)\nr· (x+ y) = r· x+ r· y\n(r+ s) · x = r· x+ s· x\n0 · x = 0\nA map f: C → C′ between cones is called linear, if it is additive and positively homogeneous, that is, if\nf(x+ y) = f(x) + f(y) and f(rx) = rf(x)\nfor all x,y ∈ Cand all f ∈ R+ .\nIf a cone C is endowed with a directed complete partial order such that a ddition and scalar multiplication are Scott-\ncontinuous, we have a d-cone.\nFor a dcpoX, the function spaceR\nX\n+ is a d-cone, too. We denote byVX the set of Scott-continuous linear maps\nµ:\nR\nX\n+ →\nR+ . Note that Scott-continuous additive maps between d-conesare easily shown to be positively homogeneous,\nhence linear. Cones are entropic algebras. We infer thatVX is a d-cone, too, the order and the algebraic operations being\ndeﬁned pointwise.\nDeﬁnition 6.2. The d-cone VX is called the extended probabilistic powerdomainover X.\nAs a special case of 3.2 we obtain:\nProposition 6.3. There is a canonical one-to-one correspondence between sta te transformers t: X → VY and linear\npredicate transformers s:\nR\nY\n+ →\nR\nX\n+ .\nBy Corollary 5.1,VX contains the d-subcone of[\nR\nX\n+ →\nR+ ] generated by the projectionsδX (x),x ∈ X, which are\nthe classical Dirac measures. But we do not have equality, ingeneral, but we have equality for an important subclass of\ndcpos.\nLemma 6.1. [, ] If X is a continuous dcpo, the d-cone VX is continuous, too. In fact, every ϕ ∈ VX is the join of a\ndirected family of ’simple’ valuations, that is, of ﬁnite li near combinations of projections σ = ∑ n\ni=1 riδX xi with σ ≪ ϕ.\nCorollary 6.1. If Xis a continuous dcpo, the d-cone VX of Scott-continuous linear functionals ϕ:\nR\nX\n+ →\nR+ equals the\nd-cone generated by the projections.\n7 Relaxed morphisms and relaxed entropic algebras\nIt is our aim to combine probability with nondeterminism. For this we have to combine the semilattice structure for\nnondeterminism with the additive structure for extended probability, that is, our algebra of observations should be the\nextended reals\nR+ with two binary operations+ and ∨ (or∧). As+ and ∨ do not commute, we no longer have an entropic\nalgebra. The framework developed in the previous sections is too narrow. Surprisingly, one can deal with this situationby\nrelaxing the previous setting in replacing equalities by inequalities.\nDeﬁnition 7.1. Letω be an operation of arityndeﬁned on dcposAand A′. A Scott-continuous maph: A→ A′ is called\nan ω-submorphism if\nh\n(\nω(x1,...,x n)\n)\n≤ ω\n(\nh(x1),...,h (xn)\n)\nfor allx1,...,x n ∈ A.\nAn ω-supermorphism is deﬁned in the same way replacing the inequality≤ by its opposite≥.\nFor d-algebras of d-signatureΩ , we want to distinguish some operationsω ∈ Ω for which we would like to consider\nrelaxed morphisms. For this, we suppose that eachΩ n is the union of two sub-dcposΩ ≤\nn and Ω ≥\nn which need not be\ndisjoint. The subsetsΩ ≤\nn and Ω ≥\nn will be kept ﬁxed, and we letΩ ≤ = ⋃\nn Ω ≤\nn and Ω ≥ = ⋃\nn Ω ≥\nn .\nDeﬁnition 7.2. A Scott-continuous maph: A → A′ between d-algebras of d-signatureΩ = Ω ≤ ∪ Ω ≥ is said to be a\nrelaxed d-morphism ifhis anω-submorphism for allω ∈ Ω ≤, but anω-supermorphism forω ∈ Ω ≥. (Forω in bothΩ ≤\nand Ω ≥,hwill be anω-homomorphism.)\nOf course, d-homomorphisms are also relaxed d-morphisms. We record the following straightforward observation:\nLemma 7.1. The composition of relaxed d-morphisms between d-algebras of d-signature Ω = Ω ≤ ∪ Ω ≥ yields relaxed\nd-morphisms.\nFor a d-algebraR of d-signatureΩ = Ω ≤ ∪ Ω ≥, we denote by[RX ◦→rR] the set of all relaxed d-morphisms\nϕ: RX → R. The pointwise supremum of a directed family of relaxed d-morphisms is again a relaxed d-morphism.\nThus, these relaxed d-morphisms form a sub-dcpo of[RX → R]. As in the propositions 3.1 and 3.2 we have:\nProposition 7.1. Let Rbe a d-algebra of d-signature Ω = Ω ≤ ∪ Ω ≥.\n(a)F or every state transformer t: X → [RY → R] such that t(x) is a relaxed d-morphism for each x∈ X, the Kleisli\nlifting t† : [ RX → R] → [RY → R] maps relaxed d-morphisms to relaxed d-morphisms, so that ou r continuation monad\n([R− → R],δ, †) restricts to a monad ([RX ◦→rR],δ, †).\n(b) Under the bijective correspondences P and Q(see lemma 1.2, the predicate transformers corresponding t o the\nstate transformers t: X → [RY ◦→rR] are the relaxed d-morphisms s: RY → RX , that is:\n[RY → R]X ∼\n= [RY ◦→rRX ]\nThe proofs are the same as for the corresponding claims in 2.1(c) and 3.2. We just have to replace the equality by\nthe appropriate inequality (≤ in caseω ∈ Ω ≤ and ≥ in caseω ∈ Ω ≥) every time that we have used the homomorphism\nproperty there.\nWe now turn to the question under what circumstances, the relaxed d-morphisms form a subalgebra of[RX → R].\nWe attack this question more generally and consider a d-algebraB of d-signatureΩ = Ω ≤ ∪ Ω ≥ and we ask the\nquestion, whether the set of relaxed d-morphismsϕ: B → Ris a subalgebra of[B → R].\nIn order to answer this question we consider an operationσ ∈ Ω of aritynand we have to show thatσ(ϕ1,...,ϕ n)\nis a relaxed morphism for all relaxed d-morphismsϕ1,...,ϕ n : B → R, that is, for allω ∈ Ω ≤ of aritym and all\nf1,...,f m ∈ B, we have:\nσ(ϕ1,...,ϕ n)(ω(f1,...,f m)) ≤ ω(σ(ϕ1,...,ϕ n)(f1), ... ,σ (ϕ1,...,ϕ n)(fm)), (13)\nand analogously, with the reverse inequality, forω ∈ Ω ≥.\nDeﬁnition 7.3. We will say that an operationσ of aritynon a d-algebraAsubcommutes with an operationω of aritym\n(equivalently,ω supercommutes withσ) if, for allxij ∈ A,i = 1 ,...n, j = 1 ,...,m :\nσ(ω(x11,...,x 1m), ... ,ω (xn1,...,x nm)) ≤ ω(σ(x11,...,x n1), ... ,σ (x1m,...,x nm)). (14)\nThis is equivalent to the statement thatσ is anω-submorphism. Whenever this subcommutatitivity law holdsinR, it\nalso holds inRX and RRX\nand in subalgebras thereof. As a consequence, inequation (13) holds ifσ subcommutes with\nω. Indeed,\nσ(ϕ1,...,ϕ n)(ω(f1,...,f m)) = σ\n(\nϕ1(ω(f1,...,f m)), ... ,ϕ n(ω(f1,...,f m))\n)\n(the operationσ being deﬁned pointwise)\n≤ σ\n(\nω(ϕ1(f1),...,ϕ 1(fm)), ... ,ω (ϕn(f(1),...,ϕ n(fm))\n)\n(theϕi beingω-submorphisms)\n≤ ω\n(\nσ(ϕ1(f1),...,ϕ n(f1)), ... ,σ (ϕ1(fm),...,ϕ n(fm))\n)\n(sinceσ subcommutes withω, equation (14)\nThis leads to the following deﬁnition:\nDeﬁnition 7.4. We will say that the d-algebraRof d-signatureΩ = Ω ≤ ∪ Ω ≥ isrelaxed entropic , if everyσ ∈ Ω is a\nrelaxed morphism, that is, ifσ subcommutes with everyω ∈ Ω ≤ and supercommutes with everyω ∈ Ω ≥.\nIn a relaxed entropic algebra, any twoσ,ω ∈ Ω ≤ commute and similarly forσ,ω ∈ Ω ≥. By the arguments preceding\nthe deﬁnition we have:\nProposition 7.2. If R is a relaxed entropic d-algebra, the relaxed d-morphisms fr om any d-algebra B to R form a\nsubalgebra of [B → R].\nSpecializing toB = RX for a dcpoX gives us:\nCorollary 7.1. If Ris a relaxed entropic d-algebra, the collection [RX ◦→rR] of all relaxed d-morphisms ϕ: RX → R\nis a d-subalgebra of [RX → R].\nWe now turn to the question whether[RX ◦→rR] equals the d-algebraFRX generated by the projections. Again we\ndo not have a general answer, but at least a containment relation:\nProposition 7.3. If R is a relaxed entropic d-algebra, then the d-subalgebra FRX of [RX → R] generated by the\nprojections δX (x),x ∈ X, is a d-subalgebra of [RX ◦→rR].\nProof. The projectionsδX (x) are d-homomorphisms, hence also relaxed d-morphisms and, in particular, contained in\n[RX ◦→rR]. IfR is relaxed entropic, then[RX ◦→rR] is a d-subalgebra of[RX → R] by Proposition 13. Thus,\n[RX ◦→rR] contains the d-subalgebraFRX which is generated by the projections.\nWhether we have equalityFRX = [ RX ◦→rR], has to be decided in each special case separately.\n8 Example: Combining nondeterminism and extended probabil ity\nWe now combine extended probability and nondeterminism that had been considered separately in Section 6. For this\npurpose our domainRof observations will beR+ = {r∈ R | r≥ 0} ∪ { +∞} endowed both with its cone structure and\na semilattice operation,max ormin, which we denote by∨ and ∧, respectively.\n8.1 The angelic case\nWe ﬁrst look at\nR+ as a d-cone (see Deﬁnition 6.1) with∨ as an additional binary operation. Considered separately as a\n∨-semilattice and as a cone,R+ is entropic. Also multiplication by scalars commutes with the binary operation∨; indeed,\nr(x∨ y) = rx∨ ry\nholds for allr∈ R+ and allx,y ∈ R+ . But the two binary operations+ and ∨ do not not commute so that(R+ , +, ∨,r ·−, 0)\nis not entropic. But the inequational law :\n(x1 + y) ∨ (x2 + z) ≤ (x1 ∨ x2) + ( y∨ z), (15)\nholds for allx1,x 2,y,z ∈ R+ , that is,∨ subcommutes with+ (and+ supercommutes with∨). Thus, we put∨ intoΩ ≤\nand + inΩ ≥; the constant0 and the unary operationsx→ rxwill be both inΩ ≤ and Ω ≥, and we have:\nLemma 8.1. R+ with the binary operations +, ∨, the unary operations x↦→rx,r ∈ R+ , and the constant 0 is a relaxed\nentropic d-algebra.\nAccording to the general procedure in the previous section,letX be any dcpo and consider the relaxed d-morphisms\nϕ: R\nX\n+ →\nR+ . In view of our signatureΩ = Ω ≤ ∪ Ω ≥, such a relaxed d-morphism is characterized by the following\nequalities and inequalities:\nϕ(0) = 0 , (16)\nϕ(rf) = rϕ(f), (17)\nϕ(f + g) ≤ ϕ(f) + ϕ(g) (18)\nϕ(f ∨ g) ≥ ϕ(f) ∨ ϕ(g) (19)\nfor allf,g ∈ R\nX\n+ and allr ∈\nR+ . Since the ﬁrst equality is a consequence of the second forr = 0 , and since the last\ninequality is always satisﬁed for order preserving maps, wecan omit these two and we see that the relaxed morphisms are\nnothing but thesublinear functionals . We denote byHVX the set of all these Scott-continuous sublinear functionalsϕ.\nSince linear functionals are sublinear,HVXcontainsVX. Moreover,HXis a retract ofHVX: just use the retraction\nofR+ onto{0, +∞} mapping allr> 0 onto+∞ and notice that+ and ∨ agree on{0, +∞}.\nAs a special case of Corollary 7.1 and Proposition 7.1 we obtain:\nProposition 8.1. (a) F or every dcpo X, the set HVX of Scott-continuous sublinear functionals ϕ: R\nX\n+ →\nR+ is a d-\nsubcone and a d- ∨-subsemilattice of [R\nX\n+ →\nR+ ]; in fact, (HVX,δ, †) is a monad over the category DCPO subordinate\nto the continuation monad.\n(b) There is a canonical one-to-one correspondence between state transformers t: X → HVY and sublinear predi-\ncate transformers s: R\nY\n+ →\nR\nX\n+ .\nBy Proposition 8.1(a),HVX is a subalgebra of[\nR\nX\n+ →\nR+ ] and by Proposition 7.3 it contains the d-cone∨-\nsubsemilatticeFR+\nX generated by the projectionsˆx,x ∈ X. For dcposX in general, equality need not hold. For\nthis we have to require continuity::\nProposition 8.2. F or every continuous dcpo X, the subalgebra F\nR+\nXof [R\nX\n+ →\nR+ ] generated by the projections agrees\nwith the d-cone ∨-semilattice HVX of all Scott-continuous sublinear functionals ϕ: R\nX\n+ →\nR+ .\nProof. (Sketch) This proposition has been proved in [13, 25]. The proof uses the following ingredients: LetX be a\ncontinuous dcpo. ThenR\nX\n+ is a continuous d-cone. We ﬁrstly use a Hahn-Banach type theorem [13, 5.9(1)] that tells us\nthat every Scott-continuous sublinear functionalϕ:\nR\nX\n+ →\nR+ is pointwise the sup of a family of Scott-continuous linear\nfunctionalsµi : R\nX\n+ →\nR+ . In Lemma 6.1 we have seen that everyµi is pointwise the supremum of a directed family\nof ﬁnite linear combinationsσij = ∑ n\nk=1 rkj δX (xkj ) of projections (Dirac measures). Thus,ϕ is the supremum of the\nσij . Taking ﬁnite suprema of theσij one obtains a directed family⋁ m\nj=1\n∑ n\nk=1 rkj δX (xkj ) of ﬁnite suprema of simple\nvaluations. This shows thatϕ belongs to the d-cone∨-subsemilattice generated by the projections.\nIn [13, 25] one ﬁnds another representation ofHVX, namely as the collection of all nonempty Scott-closed convex\nsubsets of the d-coneVX ordered by inclusion. The equivalence of the two presentation is given as follows: To every\nsublinear functionalϕ: R\nX\n+ →\nR+ we assign the setC(ϕ) of all linear functionalsµ ∈ VX such thatµ ≤ ϕ. ThenC(ϕ)\nis a nonempty closed convex subset ofVX. In [13, Corollary 6.3] it is shown that the assignmentϕ ↦→C(ϕ) is an order\nisomorphism fromHVX onto the collection of nonempty Scott-closed convex subsets ofVX ordered by inclusion.\n8.2 The demonic case\nWe now look at\nR+ as a d-cone with the additional binary operation∧ (x∧ y = min( x,y )). As in the angelic case this\nalgebra is not entropic, since addition and meet do not commute. But we have the inequation\n(x1 + y) ∧ (x2 + z) ≥ (x1 ∧ x2) + ( y∧ z), (20)\nthat is,∧ supercommutes with+ (and+ subcommutes with∧). Thus, we put+ intoΩ ≤ and ∧ inΩ ≥; the constant0 and\nunary operationsx→ rxwill be both inΩ ≤ and Ω ≥, and we have:\nLemma 8.2. R+ with the binary operations +, ∧, the unary operations x↦→rx,r ∈ R+ , and the constant 0 is a relaxed\nentropic d-algebra.\nSimilarly as in the angelic case, the relaxed morphismsϕ: R\nX\n+ →\nR+ are characterizeb by\nϕ(rf) = rϕ(f), (21)\nϕ(f + g) ≥ ϕ(f) + ϕ(g), (22)\n(23)\nfor allf,g ∈\nR\nX\n+ and allr ∈\nR+ . We see that the relaxed d-morphisms are nothing but the Scott-continuous superlinear\nfunctionals. We denote bySVX the set of all these superlinear functionalsϕ. Since linear functionals are superlinear,\nSVX containsV(X).\nAs a special case of Corollary 7.1 and Proposition 7.1 we obtain:\nProposition 8.3. (a) F or every dcpo X, the set SVX of Scott-continuous superlinear functionals ϕ: R\nX\n+ →\nR+ is a\nd-subcone and a d- ∧-subsemilattice of [R\nX\n+ →\nR+ ]; in fact, (SVX,δ, †) is a monad over the category DCPO subordinate\nto the continuation monad.\n(b) There is a canonical one-to-one correspondence between state transformers t: X → SVY and superlinear predi-\ncate transformers s: R\nY\n+ →\nR\nX\n+ .\nBy Proposition 8.3(a),SVXis a d-cone∧-subsemilattice of[\nR\nX\n+ →\nR+ ] and by Proposition 7.3 it contains the d-cone\n∧-subsemilatticeFR+\nX generated by the projectionsˆx,x ∈ X. For dcposX in general, equality need not hold. For this\nwe have to require even more than continuity:\nProposition 8.4. F or every continuous coherent dcpo X, the d-cone ∧-subsemilattice F\nR+\nXof [R\nX\n+ →\nR+ ] generated by\nthe projections agrees with the d-cone ∧-semilattice SVX of all Scott-continuous superlinear functionals ϕ: R\nX\n+ →\nR+ .\nThe coherence property required in the previous proposition means that the intersection of any two Scott-compact\nsaturated subsets ofXis Scott-compact. This proposition follows from results in[13, 25]. One uses that, for a continuous\ncoherent dcpoX, the function spaceR\nX\n+ is a coherent continuous d-cone. A Hahn-Banach type theorem[13, 5.9(2)]\ntells us that every Scott-continuous superlinear functionalϕ:\nR\nX\n+ →\nR+ is pointwise the inﬁmum of a family of Scott-\ncontinuous linear functionalsµ: R\nX\n+ →\nR+ . But now the arguments become more sophisticated than in theangelic case.\nOne has to show thatϕ is pointwise the supremum of a directed family of ﬁnite inﬁmaof ﬁnite linear combinations of\nprojections.\nIn [13, 25] one ﬁnds another representation ofSVX, namely as the collection of all nonempty Scott-compact saturated\nconvex subsets of the d-coneVX ordered by inclusion. The equivalence of the two presentation is given as follows: To\nevery Scott-continuous superlinear functionalϕ: R\nX\n+ →\nR+ we assign the setK(ϕ) of all linear functionalsµ ∈ VX\nsuch thatµ ≥ ϕ. ThenK(ϕ) is a nonempty Scott-compact saturated convex subset ofVX. In [13, Corollary 6.6] it is\nshown that the assignmentϕ ↦→K(ϕ) is an order isomorphism fromSVXonto the collection of nonempty Scott-compact\nsaturated convex subsets ofVX ordered by reverse inclusion.\nReferences\n[1] G. Birkhoff,Lattice Theory , American Mathematical Society Colloquium Publications vol. XXV , 3rd edition,\n(1967).\n[2] N. Bourbaki,Integration I and II (Translated into English), Springer-Verlag, 2004.\n[3] I. Battenfeld and M. Schr¨ oder, Observationally induced effect monads: Upper and lower powerspace constructions,\nElectronic Notes in Theoretical Computer Science 276 (2011), pp. 105–119.\n[4] Ph. Chaput, V . Danos, P. Panangaden, and G. Plotkin, Approximating Markov processes by averaging, Draft.\nhttp://www.cs.mcgill.ca/˜prakash/Pubs/new plain.pdf\n[5] P. J. Daniell, A general form of the integral,Annals of Mathematics ,19 (1917-18), pp. 279–294.\n[6] G. Gierz, K. H. Hofmann, K. Keimel, J. D. Lawson, M. Mislove and D. S. Scott,Continuous Lattices and Domains ,\nEncyclopedia of Mathematics and its Applications, V ol. 93,Cambridge University Press, 2003.\n[7] J. Goubault-Larrecq, Prevision Domains and Convex Powercones, In: FoSSaCS’08,Lecture Notes in computer\nScience 4962 (2008), pp. 318–333. Springer-Verlag.\n[8] R. Heckmann, Abstract valuations: A novel representation of Plotkin power domain and Vietoris hyperspace,\nElectronic Notes in Theoretical Computer Science 6 (1997), 13 pages.\n[9] C. Jones,Probabilistic non-determinism , Ph.D. Thesis, University of Edinburgh, Report ECS-LFCS-90-105, 1990.\n[10] C. Jones and G. D. Plotkin, A probabilistic powerdomainof evaluations,Proc. LICS ’89 , pp. 186–195, IEEE Press,\n1989.\n[11] K. Keimel and J. D. Lawson, D-completions and the d-topology,Annals of Pure and Applied Logic 159 (2009), pp.\n292–306.\n[12] K. Keimel and J. D. Lawson, Extending algebraic operations to D-completions,Theoretical Computer Science 430\n(2012), pp. 73–87.\n[13] K. Keimel and G. D. Plotkin, Predicate transformers forextended probability and non-determinism,Mathematical\nStructures in Computer Science 19 (2009), pp. 501–539.\n[14] K. Keimel, A. Rosenbusch and Th. Streicher, A Minkowskitype duality mediating between state and predicate\ntransformer semantics for a probabilistic nondeterministic language,Annals of Pure and Applied Logic 159 (2009),\npp. 307–317.\n[15] K. Keimel, A. Rosenbusch and Th. Streicher, Relating direct and predicate transformer partial correctness semantics\nfor an imperative probabilistic-nondeterministic language,Theoretical Computer Science 412 (2011), 2701–2713\n[16] D. Kozen, Semantics of probabilistic programs,Journal of Computation and System Sciences , 22 (1981), pp.\n328–350.\n[17] J. Lambek and P. J. Scott,Introduction to higher order categorical logic , Cambridge studies in advanced mathemat-\nics7, Cambridge University Press, 1986.\n[18] H. Lebesgue, Int´ egrale, longueur, aire,Annali di Mathematica , ser. III7, (1902), pp. 231–359.\n[19] S. Mac Lane,Categories for the W orking Mathematician , Graduate Texts in Mathematics, 2nd ed., Springer Verlag,\n1998.\n[20] A. McIver and C. Morgan,Abstraction, Reﬁnement and Proof for Probabilistic System s, Springer Verlag, 2005.\n[21] A. B. Romanowska and J. D. H. Smith,Modes, World Scientiﬁc, 2002.\n[22] M. Schr¨ oder and A. Simpson, Probabilistic observations and valuations (extended abstract),Electronic Notes in\nTheoretical Computer Science 155 (2006), pp. 605–615.\n[23] M. B. Smyth, Power domains and predicate transformers:A topological point of view, in:Automata, Languages\nand Programming , Lecture Notes in Computer Science154 (1983), pp. 662–675.\n[24] M. H. Stone, Notes on integration,Proc. Nat. Acad. Sci. U.S.A. I.34 (1948), pp. 336–342, II. pp. 447–455, III. pp.\n483–490, IV .35 (1949), pp. 50–58.\n[25] R. Tix, K. Keimel and G. Plotkin, Semantic domains for combining probability and non-determinism,Electronic\nNotes in Theoretical Computer Science 222 (2009), pp. 1–99.\n[26] P. Walley,Statistical Inference with Imprecise Probabilities , Chapman and Hall, 1991."
}